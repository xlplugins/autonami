(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{109:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},111:function(e,t,n){"use strict";var r=n(0),a=n(4),c=n(15),o=n.n(c),i=n(9),l=n(33),s=n(8),u=n.n(s),m=n(94),f=(n(138),function(e){var t=e.id,n=e.instanceId,c=e.isVisible,s=e.label,u=e.popoverContents,m=e.remove,f=e.screenReaderLabel,b=e.setState,p=e.className;if(f=f||s,!s)return null;s=Object(l.decodeEntities)(s);var d=o()("bwf-tag",p,{"has-remove":!!m}),O="bwf-tag-label-".concat(n),g=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},f),Object(r.createElement)("span",{"aria-hidden":"true"},s));return Object(r.createElement)("span",{className:d},u?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:O,onClick:function(){return b((function(){return{isVisible:!0}}))}},g):Object(r.createElement)("span",{className:"bwf-tag-text",id:O},g),u&&c&&Object(r.createElement)(i.Popover,{onClose:function(){return b((function(){return{isVisible:!1}}))}},u),m&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return m(t,s)},label:Object(a.sprintf)(Object(a.__)("Remove %s","wp-marketing-automations-crm"),s),"aria-describedby":O},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});f.propTypes={id:u.a.oneOfType([u.a.number,u.a.string]),label:u.a.string.isRequired,popoverContents:u.a.node,remove:u.a.func,screenReaderLabel:u.a.string},t.a=Object(m.withState)({isVisible:!1})(Object(m.withInstanceId)(f))},112:function(e,t,n){"use strict";var r=n(25),a=n(48);t.a=function(e){var t=Object(r.b)(),n=Object(a.a)(e),c=n.setLoading,o=n.fetch,i=n.clearError,l=n.setStateProp;return{setLoading:function(e){return t(c(e))},fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(o(e,n,r,a))},clearError:function(){return t(i())},setStateProp:function(e,n){return t(l(e,n))}}}},114:function(e,t,n){"use strict";var r=n(112),a=n(44);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("menu").setStateProp,t=(0,Object(a.a)().getActive)();return{setActive:function(n,r){return e("active",o(o({},t),{},i({},n,r)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},121:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},123:function(e,t,n){"use strict";var r=n(0),a=n(4),c=n(5),o=n(8),i=n.n(o),l=n(15),s=n.n(l),u=(n(134),n(160));function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,c,o=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(v(t)),t.fetchOptions=t.fetchOptions.bind(v(t)),t.updateSelected=t.updateSelected.bind(v(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){b(c,r,a,o,i,"next",e)}function i(e){b(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(a.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(m(r.getFreeTextOptions(t,e)),m(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,c=t.placeholder,o=t.selected,i=t.showClearButton,l=t.staticResults,m=t.disabled,f=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(u.a,{className:s()("bwf-search",n,{"is-static-results":l}),disabled:m,hideBeforeSearch:!1,inlineTags:a,isSearchable:!0,label:c,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:c,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:f,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:o,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),c&&d(t,c),i}(r.Component);h.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},h.defaultProps={allowFreeTextSearch:!1,onChange:c.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=h},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),a=n(109),c=n(120),o=n(121),i=n(9),l=n(4);t.a=function(e){var t=e.confirmText,n=void 0===t?"":t,s=e.confirmButtonText,u=void 0===s?"":s,m=e.cancelButtonText,f=void 0===m?"":m,b=e.onConfirm,p=void 0===b?function(){}:b,d=e.isLoading,O=void 0!==d&&d,g=e.successMessage,j=void 0===g?"":g,v=e.errorMessage,y=void 0===v?"":v,h=e.onRequestClose,w=e.isOpen,E=void 0!==w&&w,_=e.confirmDescription,k=void 0===_?"":_,S=e.isDelete,P=void 0!==S&&S;Object(r.useEffect)((function(){(j||y)&&setTimeout((function(){h&&h()}),2e3)}),[j,y]);return E?Object(r.createElement)(i.Modal,{title:"",onRequestClose:function(){return h()},className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},P&&Object(r.createElement)("div",{className:"bwf-h4"},Object(l.__)("Delete","wp-marketing-automations-crm")),O&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(a.a,null)),!!j&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(c.a,null),Object(r.createElement)("div",{className:"bwf-h1"},j)),!!y&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(o.a,null),Object(r.createElement)("div",{className:"bwf-h1"},y)),!O&&!j&&!y&&Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},P?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h2"},Object(l.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(l.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h1"},n),!!k&&Object(r.createElement)("p",null,k)),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:P?"bwf_text_right":""},Object(r.createElement)(i.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){h&&h()}},f),Object(r.createElement)(i.Button,{isPrimary:!0,onClick:function(){p&&p()},className:P?"bwf-delete-btn":""},u)))):null}},138:function(e,t,n){},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},186:function(e,t,n){"use strict";var r=n(118),a=n(26),c=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,l=Object(a.a)(e,["icon","size"]);return Object(c.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},l))}},195:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=c},196:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=c},202:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));t.a=c},203:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));t.a=c},226:function(e,t,n){"use strict";var r=n(0),a=n(15),c=n.n(a),o=n(31),i=(n(244),n(13)),l=n(5),s=n(7),u=n(9);t.a=function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,m=e.center,f=void 0!==m&&m,b=e.isDismissive,p=void 0!==b&&b,d=e.onDismisal,O=void 0===d?function(){}:d;if(Object(l.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:c()("bwf-zero-state",a,{"bwf-block-t-center":f})},p&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return O()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(i.a,{icon:"plus",color:"#444"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(o.a,{key:"layout-block-"+t,className:c()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(o.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(o.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),!Object(s.Q)()&&!e.hasOwnProperty("isDummy")&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"}))))})));case"buttons":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(u.Button,{isPrimary:!0,onClick:e.onClick},e.text,!Object(s.Q)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"})))})));default:return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content&&Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}}))}}(e.type,e.data))}))))}},244:function(e,t,n){},552:function(e,t,n){"use strict";var r=n(114),a=n(0);t.a=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},c=Object(r.a)(),o=c.setActiveMultiple,i=c.setL2NavType,l=c.setL2Nav,s=c.resetHeaderMenu,u=c.setPageHeader,m=c.setPageCountData,f=c.setL2Content;return Object(a.useEffect)((function(){s(),o({leftNav:"templates",rightNav:"templates"}),i("menu"),l(n.templates_nav),u("Templates"),m({templates:t}),e&&f(e)}),[t]),!0}},784:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(4),c=n(552),o=n(7),i=n(20),l=n(112);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=function(){var e=Object(l.a)("templateData"),t=e.fetch,n=e.setStateProp;return u(u({},f(e,["fetch","setStateProp"])),{},{fetch:function(e,n,r){var a={offset:n,limit:r,search:e.s};t("GET",Object(o.g)("/templates"),a)},setTemplateValues:function(e,t){n(e,t)}})},p=n(46);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v=function(){var e=Object(p.a)("templateData"),t=e.getStateProp;return O(O({},j(e,["getStateProp"])),{},{getTemplates:function(){return t("data")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getPageOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total_count"))}})},y=n(130),h=n(137),w=n(45),E=n(47),_=n(31),k=n(13),S=n(16),P=n.n(S),N=n(123),T=n(116),C=n.n(T),x=n(163),A=n.n(x),L=n(125),I=n.n(L),D=n(5),M=n(108),R=n.n(M),B=n(17);function F(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw c}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}var H={name:"templates",className:"bwf-search-bwf-tags-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,limit:10,offset:0},e.next=3,P()({path:Object(o.g)("/templates?"+Object(B.stringify)(n)),method:"GET"});case 3:return r=e.sent,a=I()(r,"result")?r.result:[],C()(a)||(a=a.map((function(e){return{key:String(e.ID),name:e.title,label:e.title}}))),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(e){q(c,r,a,o,i,"next",e)}function i(e){q(c,r,a,o,i,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.key},getOptionKeywords:function(e){return[e.label]},getFreeTextOptions:function(e,t){var n,c=F(t);try{for(c.s();!(n=c.n()).done;){if(n.value.value.label.toLowerCase()===e.toLowerCase())return[]}}catch(e){c.e(e)}finally{c.f()}return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},R()({mixedString:Object(a.__)("Search all templates with name {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{key:"0",label:e}}]},getOptionLabel:function(e,t){var n=Object(o.e)(e.label,t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":e.label},Object.keys(n).length>0?Object(r.createElement)(r.Fragment,null,n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):e.label)},getOptionCompletion:function(e){return e}};function V(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}var U=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",c=C()(n)?[]:[{key:n,label:Object(a.__)("Search Template: ","wp-marketing-automations-crm")+n,bwfLabelSource:"bwfcrm_lists",isSearchTerm:!0}],o=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A()(n)){e.next=2;break}return e.abrupt("return");case 2:if(C()(n)||(r=n[n.length-1],(n=[])[0]=r),a=n.find((function(e){return I()(e,"key")})),!(!Object(D.isUndefined)(a)&&n.length>0&&n[0].hasOwnProperty("key")&&parseInt(n[0].key)>0)){e.next=7;break}return Object(i.j)({path:"/template/"+n[0].key},"/",t),e.abrupt("return");case 7:if(c=Object(D.isUndefined)(a)?void 0:a.label,o=I()(t,"s")&&!C()(t.s)?t.s:"",c!==o){e.next=11;break}return e.abrupt("return");case 11:Object(i.j)({s:c},"/templates",t);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){V(c,r,a,o,i,"next",e)}function i(e){V(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(r.createElement)(N.a,{autocompleter:H,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:c,onChange:o,placeholder:Object(a.__)("Search by name","wp-marketing-automations-crm"),showClearButton:!0,disabled:!1})},Q=n(18);function G(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){G(c,r,a,o,i,"next",e)}function i(e){G(c,r,a,o,i,"throw",e)}o(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=function(){var e=Object(i.h)(),t={1:Object(a.__)("Text","wp-marketing-automations-crm"),2:Object(a.__)("WooCommerce","wp-marketing-automations-crm"),3:Object(a.__)("HTML","wp-marketing-automations-crm"),4:Object(a.__)("Drag and Drop","wp-marketing-automations-crm")},n=b(),c=n.fetch,l=n.setTemplateValues,s=v(),u=s.getLoading,m=s.getTemplates,f=s.getTotalCount,p=s.getPageOffset,d=s.getPerPageCount,O=s.getPageNumber,g=m(),j=p(),S=d(),N=u(),T=f(),C=O();Object(r.useEffect)((function(){c(e,j,S)}),[j,S,e.s]);var x=K(Object(r.useState)({loading:!1,status:!1}),2),A=x[0],L=x[1],I=function(){var t=$(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L({status:!0,loading:!0}),t.prev=1,t.next=4,P()({path:Object(o.g)("/template/".concat(n)),method:"DELETE"}).then((function(t){200===t.code&&(L({status:!0,success:t.message}),setTimeout((function(){c(e,j,S)}),1e3))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),L({status:!0,error:t.t0.message?t.t0.message:Object(a.__)("Error in deleting template","wp-marketing-automations-crm")});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=$(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L({status:!0,loading:!0,isDelete:!1}),t.prev=1,t.next=4,P()({path:Object(o.g)("/template/".concat(n,"/clone")),method:"GET"}).then((function(t){200==t.code&&(L({status:!0,success:t.message,isDelete:!1}),setTimeout((function(){L({}),c(e,0,S)}),2e3))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),L({status:!0,confirm:!0,error:t.t0.message,isDelete:!1});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),M=function(t){return Object(r.createElement)(w.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations-crm"),menuPosition:"bottom right",renderContent:function(n){var c=n.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){Object(i.j)({path:"/template/"+parseInt(t.ID)},"/",e),c()}},Object(r.createElement)(_.a,{justify:"flex-start"},Object(r.createElement)(_.c,null,Object(r.createElement)(k.a,{icon:"edit"})),Object(r.createElement)(_.c,null,Object(a.__)("Edit","wp-marketing-automations-crm")))),Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){D(parseInt(t.ID)),c()}},Object(r.createElement)(_.a,{justify:"flex-start"},Object(r.createElement)(_.c,null,Object(r.createElement)(k.a,{icon:"duplicate"})),Object(r.createElement)(_.c,null,Object(a.__)("Clone","wp-marketing-automations-crm")))),Object(r.createElement)(E.a,{isClickable:!0,onInvoke:function(){L({status:!0,confirmText:Object(a.__)("Are you sure you want to delete this template ?","wp-marketing-automations-crm"),buttonConfirm:Object(a.__)("Confirm","wp-marketing-automations-crm"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations-crm"),onConfirm:function(){return I(t.ID)}}),c()}},Object(r.createElement)(_.a,{justify:"flex-start"},Object(r.createElement)(_.c,null,Object(r.createElement)(k.a,{icon:"trash"})),Object(r.createElement)(_.c,null,Object(a.__)("Delete","wp-marketing-automations-crm")))))}})},R=[{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30"},{key:"name",label:Object(a.__)("Name","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"type",label:Object(a.__)("Type","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"createdon",label:Object(a.__)("Created On","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"updatedon",label:Object(a.__)("Last Update On","wp-marketing-automations-crm"),isLeftAligned:!0}],B=function(e){return Object(r.createElement)(Q.a,{href:"admin.php?page=autonami&path=/template/"+e.ID,type:"bwf-crm",className:"bwf-a-no-underline"},Object(r.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},F=g.map((function(e){return[{display:M(e),value:"action"},{display:e.title?B(e):"-",value:""},{display:t.hasOwnProperty(parseInt(e.mode))?t[parseInt(e.mode)]:"-",value:""},{display:Object(o.C)(e.created_at),value:""},{display:Object(o.C)(e.updated_at),value:""}]})),z=function(e){e!==S&&l("limit",e)};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(y.a,{className:"bwf-template-table has-search",title:"",rows:F,headers:R,query:{paged:C},rowsPerPage:S,totalRows:T,isLoading:N,onPageChange:function(e,t){l("offset",(e-1)*S)},onQueryChange:function(e){return"per_page"!==e?function(){}:z},showMenu:!1,rowHeader:!0,actions:[Object(r.createElement)(U,{key:"search",query:e})],emptyMessage:Object(a.__)("No templates found","wp-marketing-automations-crm")}),Object(r.createElement)(h.a,{confirmText:A.confirmText,confirmButtonText:A.buttonConfirm,cancelButtonText:A.buttonCancel,onConfirm:A.onConfirm,isLoading:A.loading,successMessage:A.success,errorMessage:A.error,onRequestClose:function(){return L({status:!1})},isOpen:A.status,isDelete:!A.hasOwnProperty("isDelete")||A.isDelete}))},Y=n(9),X=n(52),Z=n(120),ee=n(121),te=n(109);function ne(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(e){var t=e.onCloseModal,n=Object(i.h)(),c=re(Object(r.useState)(!1),2),l=c[0],s=c[1],u=re(Object(r.useState)(""),2),m=u[0],f=u[1],b=re(Object(r.useState)({}),2),p=b[0],d=b[1],O=re(Object(r.useState)(null),2),g=O[0],j=O[1];Object(r.useEffect)((function(){s(!1),d({}),j(""),f("")}),[]);var v=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),f(""),e.prev=2,e.next=5,P()({path:Object(o.g)("/template/"),method:"POST",data:{title:g,mode:1,escape_body:!0}}).then((function(e){200==e.code&&(Object(o.z)()||(bwfcrm_contacts_data.first_template_id=1),Object(i.j)({path:"/template/"+e.result.id},"/",n))}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),s(!1),f(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),y=function(){Object(D.isEmpty)(g)?f(Object(a.__)("Name is required.","wp-marketing-automations-crm")):(f(""),v())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Y.Modal,{title:Object(a.__)("Add Template","wp-marketing-automations-crm"),className:"bwf-admin-modal bwf-admin-modal-medium",onRequestClose:function(){return t()}},l?p&&p.success&&p.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(Z.a,null),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-h1"},p.message),Object(r.createElement)("div",{className:"bwf_clear_20"})):p&&p.error&&p.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(ee.a,null),Object(r.createElement)("div",{className:"bwf-h1"},p.message)):Object(r.createElement)(te.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&y()}},m&&Object(r.createElement)(Y.Notice,{status:"error",onRemove:function(){return f("")}},m),Object(r.createElement)(Y.TextControl,{placeholder:Object(a.__)("Enter Template Name","wp-marketing-automations-crm"),autoFocus:!0,label:Object(a.__)("Enter Name","wp-marketing-automations-crm"),value:g,onChange:function(e){return j(e)},disabled:l}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(Y.Button,{onClick:function(){return t()},className:"bwf-mr-15",isTertiary:!0},Object(a.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(Y.Button,{isPrimary:!0,disabled:l,onClick:function(){y()}},Object(a.__)("Add","wp-marketing-automations-crm"))))))},oe=n(226);function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=(0,v().getTotalCount)(),t=Object(r.createElement)(Y.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(o.Q)()?m(!0):l(!0)}},!Object(o.Q)()&&Object(r.createElement)(k.a,{icon:"lock",size:"15"}),Object(r.createElement)("span",null,Object(a.__)("Add New","wp-marketing-automations-crm")));Object(c.a)(Object(a.__)("Templates","wp-marketing-automations-crm"),t,e);var n=ie(Object(r.useState)(!1),2),i=n[0],l=n[1],s=ie(Object(r.useState)(!1),2),u=s[0],m=s[1];Object(r.useEffect)((function(){Object(o.d)(Object(a.__)("My Templates","wp-marketing-automations-crm"))}),[]);var f=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(k.a,{icon:"zero-templates",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(a.__)("Design Your Templates","wp-marketing-automations-crm")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(a.__)("Templates are pre-designed and pre-written mail that can be used to quickly and easily write and create emails.","wp-marketing-automations-crm")}},{type:"buttons",data:{buttons:[{text:Object(a.__)("Add New Email Template","wp-marketing-automations-crm"),onClick:function(){Object(o.Q)()?m(!0):l(!0)}}]}}];return Object(r.createElement)(r.Fragment,null,Object(o.z)()&&Object(o.Q)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(W,null)):Object(r.createElement)(oe.a,{data:f}),Object(r.createElement)(X.a,{isOpen:i,onRequestClose:function(){return l(!1)}}),u&&Object(r.createElement)(ce,{onCloseModal:function(){return m(!1)}}))}}}]);