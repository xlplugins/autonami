(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{109:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},111:function(e,t,n){"use strict";var r=n(0),a=n(4),c=n(15),o=n.n(c),i=n(9),s=n(33),u=n(8),l=n.n(u),f=n(94),m=(n(138),function(e){var t=e.id,n=e.instanceId,c=e.isVisible,u=e.label,l=e.popoverContents,f=e.remove,m=e.screenReaderLabel,b=e.setState,p=e.className;if(m=m||u,!u)return null;u=Object(s.decodeEntities)(u);var d=o()("bwf-tag",p,{"has-remove":!!f}),O="bwf-tag-label-".concat(n),g=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},m),Object(r.createElement)("span",{"aria-hidden":"true"},u));return Object(r.createElement)("span",{className:d},l?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:O,onClick:function(){return b((function(){return{isVisible:!0}}))}},g):Object(r.createElement)("span",{className:"bwf-tag-text",id:O},g),l&&c&&Object(r.createElement)(i.Popover,{onClose:function(){return b((function(){return{isVisible:!1}}))}},l),f&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return f(t,u)},label:Object(a.sprintf)(Object(a.__)("Remove %s","wp-marketing-automations-crm"),u),"aria-describedby":O},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});m.propTypes={id:l.a.oneOfType([l.a.number,l.a.string]),label:l.a.string.isRequired,popoverContents:l.a.node,remove:l.a.func,screenReaderLabel:l.a.string},t.a=Object(f.withState)({isVisible:!1})(Object(f.withInstanceId)(m))},112:function(e,t,n){"use strict";var r=n(24),a=n(48);t.a=function(e){var t=Object(r.b)(),n=Object(a.a)(e),c=n.setLoading,o=n.fetch,i=n.clearError,s=n.setStateProp;return{setLoading:function(e){return t(c(e))},fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(o(e,n,r,a))},clearError:function(){return t(i())},setStateProp:function(e,n){return t(s(e,n))}}}},114:function(e,t,n){"use strict";var r=n(112),a=n(44);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("menu").setStateProp,t=(0,Object(a.a)().getActive)();return{setActive:function(n,r){return e("active",o(o({},t),{},i({},n,r)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},117:function(e,t,n){"use strict";var r=n(0),a=n(8),c=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n,a,c=u(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=c.call(this,e)).scrollTo=t.scrollTo.bind(f(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},e)}}])&&i(t.prototype,n),a&&i(t,a),o}(r.Component);b.propTypes={offset:c.a.string},b.defaultProps={offset:"0"},t.a=b},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},121:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},123:function(e,t,n){"use strict";var r=n(0),a=n(4),c=n(5),o=n(8),i=n.n(o),s=n(15),u=n.n(s),l=(n(134),n(160));function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,c,o=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(h(t)),t.fetchOptions=t.fetchOptions.bind(h(t)),t.updateSelected=t.updateSelected.bind(h(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){b(c,r,a,o,i,"next",e)}function i(e){b(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(a.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(f(r.getFreeTextOptions(t,e)),f(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,c=t.placeholder,o=t.selected,i=t.showClearButton,s=t.staticResults,f=t.disabled,m=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(l.a,{className:u()("bwf-search",n,{"is-static-results":s}),disabled:f,hideBeforeSearch:!1,inlineTags:a,isSearchable:!0,label:c,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:c,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:m,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:o,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),c&&d(t,c),i}(r.Component);j.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},j.defaultProps={allowFreeTextSearch:!1,onChange:c.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=j},124:function(e,t,n){"use strict";var r=n(50),a=n.n(r),c=n(0),o=n(4),i=(n(118),n(144));var s=n(147);function u(e,t){var n=e.precision,r=void 0===n?null:n,a=e.decimalSeparator,c=void 0===a?".":a,o=e.thousandSeparator,u=void 0===o?",":o;if("number"!=typeof t&&(t=parseFloat(t)),isNaN(t))return"";if(r=parseInt(r),isNaN(r)){var l=t.toString().split("."),f=Object(i.a)(l,2)[1];r=f?f.length:0}return s(t,r,c,u)}var l=n(96),f=n.n(l);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t;function n(e){var n=b(b({},{code:"USD",symbol:"$",symbolPosition:"left",thousandSeparator:",",decimalSeparator:".",precision:2}),e);t={code:n.code.toString(),symbol:n.symbol.toString(),symbolPosition:n.symbolPosition.toString(),decimalSeparator:n.decimalSeparator.toString(),priceFormat:a(n),thousandSeparator:n.thousandSeparator.toString(),precision:parseInt(n.precision,10)}}function r(e){var n=u(t,e);if(""===n)return n;var r=t,a=r.priceFormat,c=r.symbol;return Object(o.sprintf)(a,c,n)}function a(e){if(e.priceFormat)return t=e.priceFormat.toString(),(n=document.createElement("DIV")).innerHTML=t,n.textContent||n.innerText||"";var t,n;switch(e.symbolPosition){case"left":return"%1$s%2$s";case"right":return"%2$s%1$s";case"left_space":return"%1$s&nbsp;%2$s";case"right_space":return"%2$s&nbsp;%1$s"}return"%1$s%2$s"}return n(e),{getCurrencyConfig:function(){return b({},t)},setCurrency:n,formatAmount:r,formatCurrency:function(e){return f()("Currency().formatCurrency",{version:"5.0.0",alternative:"Currency().formatAmount",plugin:"WooCommerce",hint:"`formatAmount` accepts the same arguments as formatCurrency"}),r(e)},getPriceFormat:a,formatDecimal:function(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return 0;var n=t.precision;return Math.round(e*Math.pow(10,n))/Math.pow(10,n)},formatDecimalString:function(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return"";var n=t.precision;return e.toFixed(n)},render:function(e){return"number"!=typeof e&&(e=parseFloat(e)),e<0?Object(c.createElement)("span",{className:"is-negative"},r(e)):r(e)}}}},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},138:function(e,t,n){},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(142);function a(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},142:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(141);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},147:function(e,t,n){"use strict";e.exports=function(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,c=isFinite(+t)?Math.abs(t):0,o=void 0===r?",":r,i=void 0===n?".":n,s="";return(s=(c?function(e,t){if(-1===(""+e).indexOf("e"))return+(Math.round(e+"e+"+t)+"e-"+t);var n=(""+e).split("e"),r="";return+n[1]+t>0&&(r="+"),(+(Math.round(+n[0]+"e"+r+(+n[1]+t))+"e-"+t)).toFixed(t)}(a,c).toString():""+Math.round(a)).split("."))[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(s[1]||"").length<c&&(s[1]=s[1]||"",s[1]+=new Array(c-s[1].length+1).join("0")),s.join(i)}},150:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}}n.d(t,"a",(function(){return a}))},176:function(e,t,n){"use strict";var r=n(46),a=n(56),c=Object(r.a)(a.a.campaign).getStateProp,o=Object(r.a)(a.a.recipient).getStateProp,i=Object(r.a)(a.a.conversion).getStateProp;t.a={getCampaignData:function(){return c("data")},getStep:function(){return parseInt(c("step"))},getLoading:function(){return c("isLoading")},getCampaignId:function(){return parseInt(c("campaignId"))},getRecipientData:function(){return o("data")},getRecipientLoading:function(){return o("isLoading")},getRecipientCampaignId:function(){return o("campaignId")},getRecipientTotal:function(){return o("total")},getRecipientPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getRecipientOffset:function(){return o("offset")},getRecipientLimit:function(){return o("limit")},getConversionData:function(){return i("data")},getConversionLoading:function(){return i("isLoading")},getConversionOffset:function(){return i("offset")},getConversionCampaignId:function(){return i("campaignId")},getConversionTotal:function(){return i("total")},getConversionPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getConversionLimit:function(){return i("limit")},getExcludes:function(){var e=c("data");return e&&e.data&&Array.isArray(e.data.exclude)?e.data.exclude:[]},getEditableMode:function(){return c("editableMode")}}},185:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}n.d(t,"a",(function(){return r}))},186:function(e,t,n){"use strict";var r=n(118),a=n(25),c=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,s=Object(a.a)(e,["icon","size"]);return Object(c.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},s))}},195:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=c},196:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=c},202:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));t.a=c},203:function(e,t,n){"use strict";var r=n(0),a=n(93),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));t.a=c},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(150),a=n(185),c={ignore_whitespace:!1};function o(e,t){return Object(r.a)(e),0===((t=Object(a.a)(t,c)).ignore_whitespace?e.trim().length:e.length)}},226:function(e,t,n){"use strict";var r=n(0),a=n(15),c=n.n(a),o=n(31),i=(n(244),n(13)),s=n(5),u=n(7),l=n(9);t.a=function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,f=e.center,m=void 0!==f&&f,b=e.isDismissive,p=void 0!==b&&b,d=e.onDismisal,O=void 0===d?function(){}:d;if(Object(s.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:c()("bwf-zero-state",a,{"bwf-block-t-center":m})},p&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return O()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(i.a,{icon:"plus",color:"#444"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(o.a,{key:"layout-block-"+t,className:c()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(o.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(o.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),!Object(u.P)()&&!e.hasOwnProperty("isDummy")&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"}))))})));case"buttons":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(l.Button,{isPrimary:!0,onClick:e.onClick},e.text,!Object(u.P)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"})))})));default:return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content&&Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}}))}}(e.type,e.data))}))))}},244:function(e,t,n){},362:function(e,t,n){"use strict";var r=n(114),a=n(0),c=n(4),o=n(20),i=n(17),s=n(176),u=n(7),l=function(e,t,n){return decodeURIComponent(Object(o.f)(e,t,n))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,b=location&&location.search?Object(i.parse)(location.search.substring(1)):{},p=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},d=p.broadcasts_nav,O=s.a.getCampaignData(),g=s.a.getCampaignId(),y={overview:{name:Object(c.__)("Overview","wp-marketing-automations-crm"),link:l({},"/broadcast/".concat(g,"/overview"),b)},analytics:{name:Object(c.__)("Analytics","wp-marketing-automations-crm"),link:l({},"/broadcast/".concat(g,"/analytics"),b)},recipient:{name:Object(c.__)("Engagements","wp-marketing-automations-crm"),link:l({},"/broadcast/".concat(g,"/engagements"),b)}};Object(u.V)()&&(y.orders={name:Object(c.__)("Orders","wp-marketing-automations-crm"),link:l({},"/broadcast/".concat(g,"/orders"),b)});var h=Object(r.a)(),v=h.setActiveMultiple,j=h.resetHeaderMenu,w=h.setL2NavType,E=h.setL2Nav,_=h.setBackLink,S=h.setL2Title,k=h.setL2Content,P=h.setBackLinkLabel,N=h.setL2NavAlign,C=h.setPageHeader;return Object(a.useEffect)((function(){j(),o?(w("menu"),E(y)):(!n&&w("menu"),!n&&E(d)),v({leftNav:"broadcasts",rightNav:e}),n&&1===m&&(P("Email Broadcasts"),_(l({},"/broadcasts/email",b))),n&&2===m&&(P("SMS Broadcasts"),_(l({},"/broadcasts/sms",b))),n&&3===m&&(P("WhatsApp Broadcasts"),_(l({},"/broadcasts/whatsapp",b))),t?S(t):o&&S(O.title),o&&N("left"),!n&&f&&k(f),C("Broadcasts")}),[e,m]),!0}},683:function(e,t,n){},782:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(17),c=n(4),o=n(112),i=n(7);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=function(){var e=Object(o.a)("campaignList"),t=e.fetch,n=e.setStateProp;return u(u({},f(e,["fetch","setStateProp"])),{},{fetch:function(e,n,r,a){var c=n.s,o=(n.page,n.filter,n.path,{offset:r,limit:a,type:e,search:c,filters:f(n,["s","page","filter","path"])});t("GET",Object(i.g)("/broadcasts"),o)},setCamapignListValues:function(e,t){n(e,t)}})},b=n(46);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var y=function(){var e=Object(b.a)("campaignList"),t=e.getStateProp;return d(d({},g(e,["getStateProp"])),{},{getCampaigns:function(){return t("campaigns")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getPageCountData:function(){return t("countData")}})},h=n(16),v=n.n(h),j=n(130),w=n(18),E=n(45),_=n(9),S=n(47),k=n(123),P=n(116),N=n.n(P),C=n(163),T=n.n(C),x=n(125),A=n.n(x),I=n(5),L=n(20),D=n(108),R=n.n(D);function F(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var M=function(e){return e.title},B={"/broadcasts":1,"/broadcasts/":1,"/broadcasts/email":1,"/broadcasts/email/":1,"/broadcasts/sms":2,"/broadcasts/sms/":2,"/broadcasts/whatsapp":3,"/broadcasts/whatsapp/":3},z={name:"campaigns",className:"bwf-search-bwf-campaign-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N()(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return n=Object(L.h)(),r={search:t,limit:5,offset:0,type:B.hasOwnProperty(n.path)?B[n.path]:""},e.next=6,v()({path:Object(i.g)("/broadcasts?"+Object(a.stringify)(r)),method:"GET"});case 6:return c=e.sent,e.abrupt("return",A()(c,"result")?c.result.campaigns:[]);case 8:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(e){F(c,r,a,o,i,"next",e)}function i(e){F(c,r,a,o,i,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.title]},getFreeTextOptions:function(e,t){return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},R()({mixedString:Object(c.__)("All Broadcast with title that include {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e,campaigns:t.map((function(e){return A()(e,"value")?e.value:e})),searchTerm:e}}]},getOptionLabel:function(e,t){var n=Object(i.e)(M(e),t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":M(e)},n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(e){return e}};function q(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var H=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",a=N()(n)?[]:[{key:n,label:Object(c.__)("Search Broadcast: ","wp-marketing-automations-crm")+n,bwfLabelSource:"bwfcrm_campaign",isSearchTerm:!0}],o=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T()(n)){e.next=2;break}return e.abrupt("return");case 2:if(N()(n)||(r=n[n.length-1],(n=[])[0]=r),a=n.find((function(e){return A()(e,"searchTerm")})),!(Object(I.isUndefined)(a)&&n.length>0&&n[0].hasOwnProperty("id"))){e.next=7;break}return Object(L.j)({path:"/broadcast/"+n[0].id},"/",t),e.abrupt("return");case 7:if(c=Object(I.isUndefined)(a)?void 0:a.searchTerm,o=A()(t,"s")&&!N()(t.s)?t.s:"",c!==o){e.next=11;break}return e.abrupt("return");case 11:Object(L.j)({s:c},"/broadcasts",t);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){q(c,r,a,o,i,"next",e)}function i(e){q(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(r.createElement)(k.a,{autocompleter:z,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:a,onChange:o,placeholder:Object(c.__)("Search by name","wp-marketing-automations-crm"),showClearButton:!0,disabled:!1})},U=n(124),V=n(31),$=(n(683),n(120)),G=n(121),W=n(109),K=n(15),X=n.n(K),J=n(13),Q=n(38);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ce(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw c}}}}function ne(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ne(c,r,a,o,i,"next",e)}function i(e){ne(c,r,a,o,i,"throw",e)}o(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(e){var t=e.query,n=e.type,a=e.onRequestSendUnopen,o=ae(Object(r.useState)({status:!1}),2),s=o[0],u=o[1],l=Object(i.I)("campaign"),f=m(),b=y(),p=Object(i.i)(),d=f.fetch,O=f.setCamapignListValues,g=b.getCampaigns,h=b.getPageNumber,k=b.getPerPageCount,P=b.getTotalCount,N=b.getOffset,C=b.getLoadingStatus,T=g(),x=N(),A=k(),L=C(),D=P(),R=h(),F=Object(U.a)(Object(i.G)()).formatAmount,M=0;Object(I.isEmpty)(n)||("email"===n?M=1:"sms"===n?M=2:"whatsapp"===n&&(M=3)),Object(r.useEffect)((function(){d(M,t,x,A)}),[x,A,n,t.s]);var B=[{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"campaign",label:Object(c.__)("Name","wp-marketing-automations-crm"),isLeftAligned:!0,required:!0},{key:"schedule",label:Object(c.__)("Date","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"contacts",label:Object(c.__)("Contacts","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"},{key:"sent",label:Object(c.__)("Sent","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"}];"sms"!==n&&B.push({key:"open_rate",label:Object(c.__)("Open Rate","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"}),B.push({key:"click_rate",label:Object(c.__)("Click Rate","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"}),Object(i.V)()&&B.push({key:"revenue",label:Object(c.__)("Revenue","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"}),B.push({key:"status",label:Object(c.__)("Status","wp-marketing-automations-crm"),isLeftAligned:!0});var z=function(e){e!==A&&O("limit",e)},q=function(){var e=re(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({path:Object(i.g)("/broadcast/".concat(n,"/")),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){200==e.code&&(u({status:!0,success:!0,message:e.message}),setTimeout((function(){u({}),d(M,t,0,A)}),2e3))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),u({status:!0,error:!0,message:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=re(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({status:!0,confirm:!0}),e.prev=1,e.next=4,v()({path:Object(i.g)("/broadcast/".concat(n,"/pause-unpause")),method:"POST",data:{status:parseInt(r)},headers:{"X-HTTP-Method-Override":"POST"}}).then((function(e){200==e.code&&(u({status:!0,success:!0,message:e.message}),setTimeout((function(){u({}),d(M,t,0,A)}),2e3))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),u({status:!0,confirm:!0,error:!0,message:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=re(regeneratorRuntime.mark((function e(n){var r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],u({status:!0,confirm:!0}),e.prev=2,e.next=5,v()({path:Object(i.g)("/broadcast/".concat(n,"/clone")),method:"POST",data:{created_by:Object(i.n)(),send_to_unopen:r},headers:{"X-HTTP-Method-Override":"POST"}}).then((function(e){200==e.code&&(u({status:!0,success:!0,message:e.message}),setTimeout((function(){u({}),d(M,t,0,A)}),2e3))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),u({status:!0,confirm:!0,error:!0,message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return Object(r.createElement)(E.a,{label:Object(c.__)("Quick Actions","wp-marketing-automations-crm"),menuPosition:"bottom right",renderContent:function(t){var o=t.onToggle;return Object(r.createElement)(r.Fragment,null,parseInt(e.status)>1&&Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){}},Object(r.createElement)(w.a,{href:"admin.php?page=autonami&path=/broadcast/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"view",size:20})),Object(r.createElement)(V.c,null,Object(c.__)("View","wp-marketing-automations-crm"))))),parseInt(e.status)<3&&Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){}},Object(r.createElement)(w.a,{href:"admin.php?page=autonami&path=/broadcast/".concat(e.id,"&edit=true"),type:"bwf-crm",className:"bwf-a-no-underline"},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"edit",size:20})),Object(r.createElement)(V.c,null,Object(c.__)("Edit","wp-marketing-automations-crm"))))),Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){Y(e.id),o()}},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"duplicate"})),Object(r.createElement)(V.c,null,Object(c.__)("Clone","wp-marketing-automations-crm")))),4===parseInt(e.status)&&"grandchild"!==e.level&&"email"===n&&Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){a&&a(parseInt(e.id)),o()}},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"duplicate"})),Object(r.createElement)(V.c,null,Object(c.__)("Send to Unopen","wp-marketing-automations-crm")))),3===parseInt(e.status)&&Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){K(e.id,6),o()}},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"pause"})),Object(r.createElement)(V.c,null,Object(c.__)("Pause","wp-marketing-automations-crm")))),6===parseInt(e.status)&&Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){K(e.id,3),o()}},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"play"})),Object(r.createElement)(V.c,null,Object(c.__)("Resume","wp-marketing-automations-crm")))),Object(r.createElement)(S.a,{isClickable:!0,onInvoke:function(){u({status:!0,id:e.id}),o()}},Object(r.createElement)(V.a,{justify:"flex-start"},Object(r.createElement)(V.c,null,Object(r.createElement)(J.a,{icon:"trash"})),Object(r.createElement)(V.c,null,Object(c.__)("Delete","wp-marketing-automations-crm")))))}})},ne=function(e){return Object(r.createElement)(w.a,{href:"admin.php?page=autonami&path=/broadcast/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(r.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},ce=function(e){return parseFloat(e.revenue)>0?Object(r.createElement)(r.Fragment,null,parseInt(e.conversions)>0?parseInt(e.conversions)+" ( "+F(parseFloat(e.revenue))+" )":F(parseFloat(e.revenue))):" - "},oe=Object(r.useMemo)((function(){var e,t=[],n=te(T);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r){var a=Z({},r);if(delete a.children,t.push(a),Array.isArray(r.children)&&!(r.children.length<=0)){var c,o=te(r.children);try{for(o.s();!(c=o.n()).done;){var i=c.value,s=Z(Z({},i),{},{level:"child"});if(delete s.children,t.push(s),Array.isArray(i.children)&&!(i.children.length<=0)){var u,l=te(i.children);try{for(l.s();!(u=l.n()).done;){var f=Z(Z({},u.value),{},{level:"grandchild"});t.push(f)}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){o.e(e)}finally{o.f()}}}}}catch(e){n.e(e)}finally{n.f()}return t}),[T]),ie=[],se=oe?oe.map((function(e){e.level&&"child"===e.level?ie.push("bwf-c-broadcast-child"):e.level&&"grandchild"===e.level?ie.push("bwf-c-broadcast-grandchild"):ie.push("bwf-c-broadcast-parent");var t=[{display:ee(e),value:null},{display:ne(e),value:e.title},{display:e.execution_time?Object(i.B)(Object(i.q)(e.execution_time)):" - ",value:e.execution_time},{display:parseInt(e.count)>0?e.count:"-",value:e.count>0?e.count:0},{display:parseInt(e.sent)>0?e.sent:"-",value:e.sent}];return"sms"!==n&&t.push({display:e.open_rate?parseFloat(e.open_rate).toFixed(2)+"%":"-",value:e.open_rate}),t.push({display:e.click_rate?parseFloat(e.click_rate).toFixed(2)+"%":"-",value:e.click_rate}),Object(i.V)()&&t.push({display:ce(e),value:parseFloat(e.revenue)}),t.push({display:p.hasOwnProperty(e.status)?p[e.status].label:e.status,value:e.status}),t})):[],ue=X()("bwfcrm-campaign-list-table",{"has-search":!0});return Object(r.createElement)(r.Fragment,null,s&&s.status&&Object(r.createElement)(_.Modal,{title:"",onRequestClose:function(){return u({})},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},s.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)($.a,null),Object(r.createElement)("div",{className:"bwf-h1"},s.message))):s.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(G.a,null),Object(r.createElement)("div",{className:"bwf-h1"},s.message))):s.confirm?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(W.a,null))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h4"},Object(c.__)("Delete","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},Object(r.createElement)("div",{className:"bwf-h2"},Object(c.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(c.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(_.Button,{isTertiary:!0,onClick:function(){u({status:!1})}},Object(c.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(_.Button,{isPrimary:!0,className:"bwf-delete-btn",onClick:function(){u({status:!0,id:s.id,confirm:!0}),q(s.id)}},Object(c.__)("Delete","wp-marketing-automations-crm")))))),Object(r.createElement)(j.a,{className:ue,rows:se,headers:function(e){if(Object(I.isEmpty)(l))return e;var t=[];return e.map((function(e){l.includes(e.key)||(e.visible=!1),t.push(e)})),t}(B),query:{paged:R},rowsPerPage:A,totalRows:D,isLoading:L,onPageChange:function(e,t){O("offset",(e-1)*A)},onQueryChange:function(e){return"per_page"!==e?function(){}:z},onColumnsChange:function(e,t){v()({path:Object(i.g)("/user-preference/".concat(Object(i.n)(),"/")),method:"POST",data:{data:{campaign_column:e}}}).then((function(t){200===t.code&&(bwfcrm_contacts_data.table_column_data.campaign=e)}))},actions:[Object(r.createElement)(H,{key:"search",query:t})],rowHeader:!0,emptyMessage:Object(c.__)("No broadcasts found","wp-marketing-automations-crm"),rowClasses:ie,filterColumnIcon:Object(r.createElement)("span",{className:"bwf-cursor-pointer"},Object(r.createElement)(Q.a,{icon:"filters",iconSize:25,size:30,toolTipText:Object(r.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(c.__)("Filter","wp-marketing-automations-crm"))}))}))},se=n(222);function ue(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me=function(e){var t=e.query,n=e.onCloseModal,a=e.type,o=e.createUnopen,s=le(Object(r.useState)(!1),2),u=s[0],l=s[1],f=le(Object(r.useState)(""),2),m=f[0],b=f[1],p=le(Object(r.useState)({}),2),d=p[0],O=p[1],g=le(Object(r.useState)(null),2),y=g[0],h=g[1],j=le(Object(r.useState)(""),2),w=j[0],E=j[1];Object(r.useEffect)((function(){l(!1),O({}),h(""),E(""),b("")}),[]);var S=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),b(""),e.prev=2,n={title:y,description:w,type:a,created_by:Object(i.n)()},o&&(r=Object(c.__)("Send to Unopen","wp-marketing-automations-crm"),y||(h(r),n.title=r),n.createUnopen=o),e.next=7,v()({path:Object(i.g)("/broadcast/"),method:"POST",data:n}).then((function(e){200==e.code&&(Object(i.u)()||(bwfcrm_contacts_data.first_broadcast_id=1),Object(L.j)({path:"/broadcast/"+e.result.id},"/",t))}));case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),l(!1),b(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){ue(c,r,a,o,i,"next",e)}function i(e){ue(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){o&&S()}),[o]);var k=function(){Object(se.a)(y)?b(Object(c.__)("Name is required.","wp-marketing-automations-crm")):(b(""),S())},P={1:Object(c.__)("Add Email Broadcast","wp-marketing-automations-crm"),2:Object(c.__)("Add SMS Broadcast","wp-marketing-automations-crm"),3:Object(c.__)("Add WhatsApp Broadcast","wp-marketing-automations-crm")};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Modal,{title:P[a],className:"bwf-admin-modal bwf-admin-modal-medium",onRequestClose:function(){return n()}},u?d&&d.success&&d.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)($.a,null),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-h1"},Object(c.__)("Broadcast ")," ",d.data.title," ",Object(c.__)(" Successfully Created")),Object(r.createElement)("p",{style:{fontSize:"18px",color:"#949393"}},Object(c.__)("Hold on while we are rerouting you to the editor's page.","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_20"})):d&&d.error&&d.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(G.a,null),Object(r.createElement)("div",{className:"bwf-h1"},d.message)):Object(r.createElement)(W.a,null):3!=a||Object(i.T)()?Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&k()}},m&&Object(r.createElement)(_.Notice,{status:"error",onRemove:function(){return b("")}},m),Object(r.createElement)(_.TextControl,{placeholder:Object(c.__)("Enter Name","wp-marketing-automations-crm"),autoFocus:!0,label:Object(c.__)("Name","wp-marketing-automations-crm"),value:y,onChange:function(e){return h(e)},disabled:u}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(_.Button,{onClick:function(){return n()},isTertiary:!0},Object(c.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(_.Button,{isPrimary:!0,disabled:u,onClick:function(){k()}},Object(c.__)("Add","wp-marketing-automations-crm")))):Object(r.createElement)(_.Notice,{status:"error",isDismissible:!1},"Whats service is not configured")))},be=n(362),pe=n(117),de=n(52),Oe=n(44),ge=n(114),ye=n(226);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.match.params.type,n=void 0===t?"email":t,o=location&&location.search?Object(a.parse)(location.search.substring(1)):{};Object(i.d)("Broadcasts");var s=we(Object(r.useState)(!1),2),u=s[0],l=s[1],f=we(Object(r.useState)(!0),2),m=f[0],b=f[1],p=we(Object(r.useState)(!1),2),d=p[0],O=p[1],g=we(Object(r.useState)(!1),2),h=g[0],v=g[1],j=(0,y().getPageCountData)(),E=Object(Oe.a)().getPageCountData,S=Object(ge.a)().setPageCountData,k=E();Object(r.useEffect)((function(){S(ve(ve({},k),j))}),[j]),Object(be.a)(n,Object(c.__)("ALL BROADCASTS","wp-marketing-automations-crm"),!1,!1,Object(r.createElement)(_.Button,{isPrimary:!0,onClick:function(){Object(i.P)()?(v(!1),l(!0)):O(!0)},className:"bwf-display-flex"},!Object(i.P)()&&Object(r.createElement)(J.a,{icon:"lock",size:15}),Object(c.__)("Add New","wp-marketing-automations-crm")),1,j);var P=Object(i.p)(),N=P.reached,C=P.daily_limit,T={email:1,sms:2,whatsapp:3},x=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(J.a,{icon:"zero-broadcast",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(c.__)("Reach out with personalized messages","wp-marketing-automations-crm")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(c.__)("Send announcements to all or tailored messages to specific customer segments. Filter contacts by last order date, item purchase, AOV & more.","wp-marketing-automations-crm")}},{type:"buttons",data:{buttons:[{text:Object(c.__)("Add New Broadcast","wp-marketing-automations-crm"),onClick:function(){Object(i.P)()?(v(!1),l(!0)):O(!0)}}]}}];return Object(r.createElement)(r.Fragment,null,Object(i.u)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(pe.a,null),"email"===n&&!!N&&!!m&&Object(r.createElement)(_.Notice,{className:"bwf-error-notice",status:"warning",onRemove:function(){return b(!1)}},"".concat(Object(c.__)("Daily sending limit of","wp-marketing-automations-crm")," ").concat(C," ").concat(Object(c.__)(" emails has been reached today. To send out more emails, go to ","wp-marketing-automations-crm")," "),Object(r.createElement)(w.a,{href:"admin.php?page=autonami&path=/settings",className:"bwf-a-no-underline"},Object(c.__)("Settings > Emails","wp-marketing-automations")),Object(c.__)(" to increase the limit.","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwfcrm-campaign-list"},Object(r.createElement)(ie,{query:o,type:n,onRequestSendUnopen:function(e){Object(i.P)()?(v(e),l(!0)):O(!0)}}))):Object(r.createElement)(ye.a,{data:x}),u&&Object(r.createElement)(me,{query:o,createUnopen:h,onCloseModal:function(){return l(!1)},type:T.hasOwnProperty(n)?T[n]:1}),Object(r.createElement)(de.a,{isOpen:d,onRequestClose:function(){return O(!1)}}))}}}]);