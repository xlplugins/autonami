(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{109:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},111:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(15),c=n.n(a),i=n(9),u=n(33),s=n(8),l=n.n(s),f=n(94),b=(n(138),function(e){var t=e.id,n=e.instanceId,a=e.isVisible,s=e.label,l=e.popoverContents,f=e.remove,b=e.screenReaderLabel,m=e.setState,p=e.className;if(b=b||s,!s)return null;s=Object(u.decodeEntities)(s);var d=c()("bwf-tag",p,{"has-remove":!!f}),h="bwf-tag-label-".concat(n),v=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},b),Object(r.createElement)("span",{"aria-hidden":"true"},s));return Object(r.createElement)("span",{className:d},l?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:h,onClick:function(){return m((function(){return{isVisible:!0}}))}},v):Object(r.createElement)("span",{className:"bwf-tag-text",id:h},v),l&&a&&Object(r.createElement)(i.Popover,{onClose:function(){return m((function(){return{isVisible:!1}}))}},l),f&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return f(t,s)},label:Object(o.sprintf)(Object(o.__)("Remove %s","wp-marketing-automations-crm"),s),"aria-describedby":h},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});b.propTypes={id:l.a.oneOfType([l.a.number,l.a.string]),label:l.a.string.isRequired,popoverContents:l.a.node,remove:l.a.func,screenReaderLabel:l.a.string},t.a=Object(f.withState)({isVisible:!1})(Object(f.withInstanceId)(b))},112:function(e,t,n){"use strict";var r=n(24),o=n(48);t.a=function(e){var t=Object(r.b)(),n=Object(o.a)(e),a=n.setLoading,c=n.fetch,i=n.clearError,u=n.setStateProp;return{setLoading:function(e){return t(a(e))},fetch:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(c(e,n,r,o))},clearError:function(){return t(i())},setStateProp:function(e,n){return t(u(e,n))}}}},114:function(e,t,n){"use strict";var r=n(112),o=n(44);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("menu").setStateProp,t=(0,Object(o.a)().getActive)();return{setActive:function(n,r){return e("active",c(c({},t),{},i({},n,r)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},117:function(e,t,n){"use strict";var r=n(0),o=n(8),a=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(c,e);var t,n,o,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).scrollTo=t.scrollTo.bind(f(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},e)}}])&&i(t.prototype,n),o&&i(t,o),c}(r.Component);m.propTypes={offset:a.a.string},m.defaultProps={offset:"0"},t.a=m},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},121:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},123:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(5),c=n(8),i=n.n(c),u=n(15),s=n.n(u),l=(n(134),n(160));function f(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,a,c=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(O(t)),t.fetchOptions=t.fetchOptions.bind(O(t)),t.updateSelected=t.updateSelected.bind(O(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var o={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(o)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getFormattedOptions(r,t),n.setState({options:o}),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){m(a,r,o,c,i,"next",e)}function i(e){m(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(o.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(f(r.getFreeTextOptions(t,e)),f(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,o=t.inlineTags,a=t.placeholder,c=t.selected,i=t.showClearButton,u=t.staticResults,f=t.disabled,b=(t.multiple,this.state.options),m=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(l.a,{className:s()("bwf-search",n,{"is-static-results":u}),disabled:f,hideBeforeSearch:!1,inlineTags:o,isSearchable:!0,label:a,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:a,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:b,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:m,selected:c,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),a&&d(t,a),i}(r.Component);j.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},j.defaultProps={allowFreeTextSearch:!1,onChange:a.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=j},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),o=n(109),a=n(120),c=n(121),i=n(9),u=n(4);t.a=function(e){var t=e.confirmText,n=void 0===t?"":t,s=e.confirmButtonText,l=void 0===s?"":s,f=e.cancelButtonText,b=void 0===f?"":f,m=e.onConfirm,p=void 0===m?function(){}:m,d=e.isLoading,h=void 0!==d&&d,v=e.successMessage,y=void 0===v?"":v,O=e.errorMessage,g=void 0===O?"":O,j=e.onRequestClose,w=e.isOpen,E=void 0!==w&&w,_=e.confirmDescription,S=void 0===_?"":_,x=e.isDelete,P=void 0!==x&&x;Object(r.useEffect)((function(){(y||g)&&setTimeout((function(){j&&j()}),2e3)}),[y,g]);return E?Object(r.createElement)(i.Modal,{title:"",onRequestClose:function(){return j()},className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},P&&Object(r.createElement)("div",{className:"bwf-h4"},Object(u.__)("Delete","wp-marketing-automations-crm")),h&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(o.a,null)),!!y&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(a.a,null),Object(r.createElement)("div",{className:"bwf-h1"},y)),!!g&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(c.a,null),Object(r.createElement)("div",{className:"bwf-h1"},g)),!h&&!y&&!g&&Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},P?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h2"},Object(u.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(u.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h1"},n),!!S&&Object(r.createElement)("p",null,S)),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:P?"bwf_text_right":""},Object(r.createElement)(i.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){j&&j()}},b),Object(r.createElement)(i.Button,{isPrimary:!0,onClick:function(){p&&p()},className:P?"bwf-delete-btn":""},l)))):null}},138:function(e,t,n){},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},150:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}}n.d(t,"a",(function(){return o}))},185:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}n.d(t,"a",(function(){return r}))},186:function(e,t,n){"use strict";var r=n(118),o=n(25),a=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,u=Object(o.a)(e,["icon","size"]);return Object(a.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},u))}},195:function(e,t,n){"use strict";var r=n(0),o=n(93),a=Object(r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(o.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=a},196:function(e,t,n){"use strict";var r=n(0),o=n(93),a=Object(r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(o.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=a},202:function(e,t,n){"use strict";var r=n(0),o=n(93),a=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));t.a=a},203:function(e,t,n){"use strict";var r=n(0),o=n(93),a=Object(r.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(o.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));t.a=a},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(150),o=n(185),a={ignore_whitespace:!1};function c(e,t){return Object(r.a)(e),0===((t=Object(o.a)(t,a)).ignore_whitespace?e.trim().length:e.length)}},332:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(150),o=n(185);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n,o;Object(r.a)(e),"object"===a(t)?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var c=encodeURI(e).split(/%..|./).length-1;return c>=n&&(void 0===o||c<=o)}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1};var u=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,s=/^[0-9A-F]{1,4}$/i;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Object(r.a)(e),!(t=String(t)))return l(e,4)||l(e,6);if("4"===t){if(!u.test(e))return!1;var n=e.split(".").sort((function(e,t){return e-t}));return n[3]<=255}if("6"===t){var o=[e];if(e.includes("%")){if(2!==(o=e.split("%")).length)return!1;if(!o[0].includes(":"))return!1;if(""===o[1])return!1}var a=o[0].split(":"),c=!1,i=l(a[a.length-1],4),f=i?7:8;if(a.length>f)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(a.shift(),a.shift(),c=!0):"::"===e.substr(e.length-2)&&(a.pop(),a.pop(),c=!0);for(var b=0;b<a.length;++b)if(""===a[b]&&b>0&&b<a.length-1){if(c)return!1;c=!0}else if(i&&b===a.length-1);else if(!s.test(a[b]))return!1;return c?a.length>=1:a.length===f}return!1}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1},p=/^([^\x00-\x1F\x7F-\x9F\cX]+)<(.+)>$/i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,h=/^[a-z\d]+$/,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,y=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,O=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function g(e,t){if(Object(r.a)(e),(t=Object(o.a)(t,m)).require_display_name||t.allow_display_name){var n=e.match(p);if(n){var a,u=f(n,3);if(a=u[1],e=u[2],a.endsWith(" ")&&(a=a.substr(0,a.length-1)),!function(e){var t=e.match(/^"(.+)"$/i),n=t?t[1]:e;if(!n.trim())return!1;if(/[\.";<>]/.test(n)){if(!t)return!1;if(!(n.split('"').length===n.split('\\"').length))return!1}return!0}(a))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var s=e.split("@"),b=s.pop(),g=s.join("@"),j=b.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===j||"googlemail.com"===j)){var w=(g=g.toLowerCase()).split("+")[0];if(!c(w.replace(".",""),{min:6,max:30}))return!1;for(var E=w.split("."),_=0;_<E.length;_++)if(!h.test(E[_]))return!1}if(!(!1!==t.ignore_max_length||c(g,{max:64})&&c(b,{max:254})))return!1;if(!function(e,t){Object(r.a)(e),(t=Object(o.a)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split("."),a=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20\u00A9\uFFFD]/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&n.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))}(b,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!l(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var S=b.substr(1,b.length-2);if(0===S.length||!l(S))return!1}}if('"'===g[0])return g=g.slice(1,g.length-1),t.allow_utf8_local_part?O.test(g):v.test(g);for(var x=t.allow_utf8_local_part?y:d,P=g.split("."),k=0;k<P.length;k++)if(!x.test(P[k]))return!1;return!t.blacklisted_chars||-1===g.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))}},467:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return h}));var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=i(Object(r.useState)({}),2),n=t[0],o=t[1],u=Object.keys(n).length>0&&Object.keys(n).reduce((function(e,t){return e&&n[t]}),!0);Object(r.useEffect)((function(){var t={};if(e)for(var n in e)t[n]=!1;o(t)}),[e]);var s=Object(r.useCallback)((function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=a(a({},n),{},c({},e,t));o(r)}}),[n]),l=Object(r.useMemo)((function(){var e={};for(var t in n){var r={selected:n[t],checked:n[t],onChange:s(t)};e[t]=r}return e}),[n]),f=Object(r.useCallback)((function(){var e={};for(var t in n)e[t]=!u;o(e)}),[n,u]);return{singleSelectProps:l,selectAllProps:{selected:u,checked:u,onChange:f},floatingBarProps:{items:e,selected:n},resetSelection:Object(r.useCallback)((function(){var e={};for(var t in n)e[t]=!1;o(e)}),[n])}},l=n(9),f=n(4),b=n(13),m=(n(491),n(492),function(e){var t=e.number,n=void 0===t?0:t;return Object(r.createElement)("span",{class:"bwf-count-badge"},n)});function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.selected,n=void 0===t?{}:t,o=e.items,a=void 0===o?{}:o,c=e.actions,i=void 0===c?[]:c,u=e.onAction,s=p(Object(r.useState)(!1),2),d=s[0],h=s[1],v=function(e){return e.length>0?{"grid-template-columns":e.reduce((function(e){return"".concat(e," auto")}),"")}:{}}(i),y=Object.keys(n).reduce((function(e,t){return n[t]?e+1:e}),0);Object(r.useEffect)((function(){h(y>0)}),[y]);var O=Object.keys(a).filter((function(e){return n[e]})).map((function(e){return a[e]})),g=Object(r.createElement)(r.Fragment,null,Object(r.createElement)(m,{number:y}),Object(r.createElement)("b",{style:{marginLeft:"5px"}},Object(f.__)("Items Selected","wp-marketing-automations-crm")));return d&&Object(r.createElement)("div",{className:"bwf-floating-action-bar-outer"},Object(r.createElement)("div",{className:"bwf-floating-action-bar"},Object(r.createElement)("div",{className:"bwf-floating-action-bar-wrapper"},Object(r.createElement)("span",{className:"bwf-floating-action-bar-count"},g),Object(r.createElement)("div",{className:"bwf-floating-action-bar-actions",style:v},i.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.createElement)("span",{title:e.hint?e.hint:"",onClick:function(){return!!u&&u(e.id,O)}},Object(r.createElement)(b.a,{icon:e.icon}))}))),Object(r.createElement)(l.Button,{isSecondary:!0,onClick:function(){return h(!1)}},Object(f.__)("Close","wp-marketing-automations-crm")))))}},491:function(e,t,n){},492:function(e,t,n){},501:function(e,t,n){"use strict";var r=n(114),o=n(0);t.a=function(e,t,n){var a=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},c=Object(r.a)(),i=c.setActiveMultiple,u=c.resetHeaderMenu,s=c.setL2NavType,l=c.setL2Nav,f=c.setBackLink,b=c.setL2Title,m=c.setPageHeader;return Object(o.useEffect)((function(){u(),!t&&s("menu"),!t&&l(a.settings_nav),i({leftNav:"settings",rightNav:e}),t&&f(t),n&&b(n),m("Settings")}),[e,n]),!0}},560:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),o=n(1),a=n.n(o),c=n(10),i=n(3),u=n(11),s=n(57),l=function(e){function t(t,n){var r;return(r=e.call(this)||this).client=t,r.setOptions(n),r.bindMethods(),r.updateResult(),r}Object(u.a)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(r.a)({},this.options,{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Object(s.b)();this.currentResult=Object(r.a)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset})},n.notify=function(e){var t=this;c.a.batch((function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))},t}(n(21).a),f=n(98);function b(e,t,n){var o=a.a.useRef(!1),u=a.a.useState(0)[1],s=Object(i.k)(e,t,n),b=Object(f.b)(),m=a.a.useRef();m.current?m.current.setOptions(s):m.current=new l(b,s);var p=m.current.getCurrentResult();a.a.useEffect((function(){o.current=!0;var e=m.current.subscribe(c.a.batchCalls((function(){o.current&&u((function(e){return e+1}))})));return function(){o.current=!1,e()}}),[]);var d=a.a.useCallback((function(e,t){m.current.mutate(e,t).catch(i.i)}),[]);if(p.error&&m.current.options.useErrorBoundary)throw p.error;return Object(r.a)({},p,{mutate:d,mutateAsync:p.mutate})}},778:function(t,n,r){"use strict";r.r(n),r.d(n,"default",(function(){return le}));var o=r(0),a=r(501),c=r(4),i=r(9),u=r(16),s=r.n(u),l=r(7),f=r(46);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(){var e=Object(f.a)("unsubscriberList"),t=e.getStateProp;return m(m({},d(e,["getStateProp"])),{},{getUnsubscribers:function(){return t("unsubscribers")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")}})},v=r(112);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var w=function(){var e=Object(v.a)("unsubscriberList"),t=e.fetch,n=e.setStateProp;return O(O({},j(e,["fetch","setStateProp"])),{},{fetch:function(e,n,r){var o=e.s,a=(e.page,e.filter,e.path,{offset:n,limit:r,search:o,filters:j(e,["s","page","filter","path"])});t("GET",Object(l.g)("/settings/unsubscribers"),a)},setUnsubscriberListValues:function(e,t){n(e,t)}})},E=r(109),_=r(120),S=r(121),x=r(332),P=r(222);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(t){var n=t.query,r=w().fetch,a=k(Object(o.useState)(""),2),u=a[0],f=a[1],b=h().getPerPageCount,m=k(Object(o.useState)(""),2),p=m[0],d=m[1],v=k(Object(o.useState)({loading:!1,status:!1}),2),y=v[0],O=v[1],g=b();Object(o.useEffect)((function(){!0===y.status&&y.success&&r(n,0,g)}),[y]);var j=function(){if(""!=u.trim()){var t="",n=!1,r=-1!==u.indexOf(",")?u.split(","):u.split("\n");(r=r.map((function(e){return e.trim()}))).forEach((function(e){Object(x.a)(e)||(Object(P.a)(t)||(t+=","),t+=e,n=!0)})),n?d(Object(c.__)("Invalid Email : ","wp-marketing-automations")+t):(d(""),f(""),function(t){O({status:!0,loading:!0});try{s()({path:Object(l.g)("/settings/unsubscribers"),method:"POST",data:{unsubscribers:t}}).then((function(e){200==e.code?(O({status:!0,loading:!0,success:e.message}),f(""),setTimeout((function(){O({status:!1})}),2e3)):console.log(e)})).catch((function(e){console.log(e),O({status:!0,loading:!0,error:e.message}),setTimeout((function(){O({status:!0})}),2e3)}))}catch(t){console.log(e)}}(r))}else d(Object(c.__)("Please enter some emails to unsubscribe.","wp-marketing-automations"))};return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(i.Button,{isSecondary:!0,onClick:function(){O({status:!0})}},Object(c.__)("Bulk Unsubscribe","wp-marketing-automations-crm")),y.status&&Object(o.createElement)(i.Modal,{title:Object(c.__)("Bulk Unsubscribe","wp-marketing-automations-crm"),onRequestClose:function(){return O({status:!1})},className:"bwf-admin-modal bwf-admin-modal-medium"},Object(o.createElement)(o.Fragment,null,y.loading?Object(o.createElement)(o.Fragment,null,y.success?Object(o.createElement)("div",{className:"bwf-t-center"},Object(o.createElement)(_.a,null),Object(o.createElement)("div",{className:"bwf-h1"},y.success)):y.error?Object(o.createElement)("div",{className:"bwf-t-center"},Object(o.createElement)(S.a,null),Object(o.createElement)("div",{className:"bwf-h1"},y.error)):Object(o.createElement)("div",{className:"bwf-t-center"},Object(o.createElement)(E.a,null))):Object(o.createElement)("div",{onKeyPress:function(e){e.key}},p&&Object(o.createElement)(i.Notice,{status:"error",onRemove:function(){return d("")}},p),Object(o.createElement)(i.TextareaControl,{placeholder:Object(c.__)("Enter emails comma (,) separated or each in new line to unsubscribe multiple emails.","wp-marketing-automations"),spellCheck:!1,style:{height:"200px"},value:u,onChange:f}),Object(o.createElement)("p",null,Object(o.createElement)("i",null,Object(c.__)("This will unsubscribe users from all emails marked as promotional."))),Object(o.createElement)("div",{className:"bwf_text_right"},Object(o.createElement)(i.Button,{isPrimary:!0,onClick:j},Object(c.__)("Unsubscribe","wp-marketing-automations")))))))},N=r(130),A=r(123),F=r(116),R=r.n(F),M=r(163),L=r.n(M),D=r(125),I=r.n(D),B=r(5),q=r(20),U=r(108),$=r.n(U),z=r(17);function V(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var H=function(e){return e.recipient},G={name:"recipient",className:"bwf-search-bwf-unsubscriber-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R()(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return n={search:t,limit:5,offset:0},e.next=5,s()({path:Object(l.g)("/settings/unsubscribers?"+Object(z.stringify)(n)),method:"GET"});case 5:return r=e.sent,e.abrupt("return",I()(r,"result")&&I()(r.result,"items")?r.result.items:[]);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(e){V(a,r,o,c,i,"next",e)}function i(e){V(a,r,o,c,i,"throw",e)}c(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.recipient]},getFreeTextOptions:function(e,t){return[{key:"name",label:Object(o.createElement)("span",{key:"name",className:"bwf-search-result-name"},$()({mixedString:Object(c.__)("All unsubscribers with names that include {{query /}}","wp-marketing-automations-crm"),components:{query:Object(o.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e,lists:t.map((function(e){return I()(e,"value")?e.value:e})),searchTerm:e}}]},getOptionLabel:function(e,t){var n=Object(l.e)(H(e),t)||{};return Object(o.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":H(e)},n.suggestionBeforeMatch,Object(o.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(e){return e}};function K(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var W=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",r=R()(n)?[]:[{key:n,label:Object(c.__)("Search List: ","wp-marketing-automations-crm")+n,bwfLabelSource:"bwfcrm_lists",isSearchTerm:!0}],a=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L()(n)){e.next=2;break}return e.abrupt("return");case 2:if(R()(n)||(r=n[n.length-1],(n=[])[0]=r),o=n.find((function(e){return I()(e,"searchTerm")})),!(Object(B.isUndefined)(o)&&n.length>0&&n[0].hasOwnProperty("recipient"))){e.next=7;break}return Object(q.j)({s:n[0].recipient},"/settings/unsubscribers",t),e.abrupt("return");case 7:if(a=Object(B.isUndefined)(o)?void 0:o.searchTerm,c=I()(t,"s")&&!R()(t.s)?t.s:"",a!==c){e.next=11;break}return e.abrupt("return");case 11:Object(q.j)({s:a},"/settings/unsubscribers",t);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){K(a,r,o,c,i,"next",e)}function i(e){K(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(o.createElement)(A.a,{autocompleter:G,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:r,onChange:a,placeholder:Object(c.__)("Search by Contact","wp-marketing-automations-crm"),showClearButton:!0,disabled:!1})},J=r(467),X=r(560),Q=r(137);function Y(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var Z=function(e){var t=e.isOpen,n=e.unsubs,r=e.onSuccess,a=e.onError,i=e.onRequestClose,u=Object(X.a)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()({path:Object(l.g)("/settings/unsubscribers"),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"},data:{unsubscribers_ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){Y(a,r,o,c,i,"next",e)}function i(e){Y(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return u.reset()}),2500),r&&r()},onError:function(){setTimeout((function(){return u.reset()}),2500),a&&a()}});return Object(o.createElement)(Q.a,{confirmText:Object(c.__)("Are you sure you want to delete the unsubscribers?","wp-marketing-automations-crm"),confirmButtonText:Object(c.__)("Delete","wp-marketing-automations-crm"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations-crm"),onConfirm:function(){return u.mutate(n.map((function(e){return e.id})))},isLoading:u.isLoading,successMessage:u.isSuccess&&Object(c.__)("Unsubscribers Deleted!","wp-marketing-automations-crm"),errorMessage:u.isError&&(u.error&&u.error.message?u.error.message:Object(c.__)("Unable to delete unsubscribers","wp-marketing-automations-crm")),onRequestClose:function(){return!!i&&i()},isOpen:t,isDelete:!0})};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=[{id:"delete",icon:"trash",hint:Object(c.__)("Delete Tasks","wp-marketing-automations-crm")}],oe=function(e){var t=e.floatingBarProps,n=void 0===t?{}:t,r=e.resetSelection,a=e.onSuccess,c=te(Object(o.useState)([]),2),i=c[0],u=c[1],s=te(Object(o.useState)(!1),2),l=s[0],f=s[1],b=function(){r&&r(),u([])},m=Object(o.useCallback)((function(e,t){switch(e){case"delete":u(t),f(!0)}}),[]);return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(J.a,ee({actions:re,onAction:m},n)),Object(o.createElement)(Z,{unsubs:i,isOpen:l,onSuccess:function(){a&&a("delete",i),b()},onError:b,onRequestClose:function(){return f(!1)}}))},ae=r(18);function ce(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e){var t=e.query,n=w(),r=h(),a=n.fetch,u=n.setUnsubscriberListValues,s=r.getUnsubscribers,l=r.getPageNumber,f=r.getPerPageCount,b=r.getTotalCount,m=r.getOffset,p=r.getLoadingStatus;Object(o.useEffect)((function(){a(t,v,y)}),[v,y,t]);var d=s(),v=m(),y=f(),O=p(),g=b(),j=l(),E=Object(o.useMemo)((function(){var e={};if(Array.isArray(d)){var t,n=ce(d);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.id]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[d]),_=Object(J.b)(E),S=_.singleSelectProps,x=_.selectAllProps,P=_.floatingBarProps,k=_.resetSelection,T=[{key:"checkbox",label:Object(o.createElement)(i.CheckboxControl,x)},{key:"contact",label:Object(c.__)("Contact","wp-marketing-automations")},{key:"date",label:Object(c.__)("Date","wp-marketing-automations")},{key:"source",label:Object(c.__)("Source","wp-marketing-automations")}],C=function(e){e!==y&&u("limit",e)},A=function(e){if(e.hasOwnProperty("automation_id")&&!Object(B.isEmpty)(e.automation_id))switch(parseInt(e.source_type)){case 1:return Object(o.createElement)("a",{href:"admin.php?page=autonami-automations&edit=".concat(e.automation_id),className:"bwf-a-no-underline"},e.automation_name);case 2:return Object(o.createElement)(ae.a,{href:"admin.php?page=autonami&path=/broadcast/".concat(e.automation_id),type:"bwf-crm",className:"bwf-a-no-underline"},e.automation_name)}return Object(o.createElement)(o.Fragment,null,e.automation_name)},F=d?d.map((function(e){return[{display:Object(o.createElement)(i.CheckboxControl,S[e.id]),value:""},{display:e.recipient,value:e.recipient},{display:e.date,value:e.date},{display:A(e),value:e.automation_name}]})):[];return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(N.a,{className:"has-search bwf-table-bulk-action",headers:T,showMenu:!1,rows:F,query:{paged:j},rowsPerPage:y,totalRows:g,isLoading:O,onPageChange:function(e,t){u("offset",(e-1)*y)},onQueryChange:function(e){return"per_page"!==e?function(){}:C},actions:[Object(o.createElement)(W,{key:"search",query:t})],emptyMessage:Object(c.__)("No unsubscribers available","wp-marketing-automations-crm")}),Object(o.createElement)(oe,{floatingBarProps:P,resetSelection:k,onSuccess:function(){return a(t,0,y)}}))},se=r(117);function le(){Object(a.a)("unsubscribers",!1,"");var e=Object(q.h)();return Object(l.d)("Unsubscribers"),Object(o.createElement)(o.Fragment,null,Object(o.createElement)(se.a,null),Object(o.createElement)("div",{className:"bwfan_page_unsubscribers"},Object(o.createElement)(C,{query:e}),Object(o.createElement)("div",{className:"bwf_clear_20"}),Object(o.createElement)(ue,{query:e})))}}}]);