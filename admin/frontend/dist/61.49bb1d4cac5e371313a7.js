(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{114:function(e,t,a){"use strict";var c=a(112),n=a(44);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=function(){var e=Object(c.a)("menu").setStateProp,t=(0,Object(n.a)().getActive)();return{setActive:function(a,c){return e("active",s(s({},t),{},l({},a,c)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},117:function(e,t,a){"use strict";var c=a(0),n=a(8),r=a.n(n);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var a=0;a<t.length;a++){var c=t[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,c=b(e);if(t){var n=b(this).constructor;a=Reflect.construct(c,arguments,n)}else a=c.apply(this,arguments);return m(this,a)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,a,n,r=o(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).scrollTo=t.scrollTo.bind(u(t)),t}return t=s,(a=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(c.createRef)(),Object(c.createElement)("div",{ref:this.ref},e)}}])&&l(t.prototype,a),n&&l(t,n),s}(c.Component);f.propTypes={offset:r.a.string},f.defaultProps={offset:"0"},t.a=f},173:function(e,t,a){"use strict";var c=a(0),n=a(15),r=a.n(n),s=a(17),l=a(8),i=a.n(l),o=a(320),m=a.n(o),u=a(5),b=a(321),f=a.n(b),d=(a(184),function(e){var t,a,n,l,i=e.alt,o=e.title,b=e.size,d=e.user,p=e.className,O=r()("bwf-gravatar",p,{"is-placeholder":!d}),j=i||d&&(d.display_name||d.name)||"",v="https://www.gravatar.com/avatar/0?s="+b+"&d=blank";return d&&(t=Object(u.isString)(d)?(l=d,"https://www.gravatar.com/avatar/"+f()(l)):d.avatar_URLs[96],a=m.a.parse(t),(n=Object(s.parse)(a.query)).s=b,n.d="blank",a.search=Object(s.stringify)(n),v=m.a.format(a)),Object(c.createElement)("img",{alt:j,title:o,className:O,src:v,width:b,height:b})});d.propTypes={user:i.a.oneOfType([i.a.object,i.a.string]),alt:i.a.string,title:i.a.string,size:i.a.number,className:i.a.string},d.defaultProps={size:60},t.a=d},181:function(e,t,a){"use strict";var c=a(0),n=a(7),r=a(5),s=a(159),l=a.n(s),i=(a(200),function(e){var t=e.first_name,a=e.last_name;return Object(c.createElement)("div",{className:"bwf-c-name-initials"},Object(c.createElement)("span",null,Object(r.isEmpty)(l()(t+" "+a))?"-":Object(n.F)(t,a)))});i.defaultProps={first_name:"",last_name:""};var o=i,m=a(31),u=a(4),b=a(116),f=a.n(b),d=(a(201),a(173)),p=function(e){var t=e.dateText,a=e.date,r=e.contact,s=r.f_name,i=void 0===s?"":s,b=r.l_name,p=void 0===b?"":b,O=(r.id,r.creation_date),j=r.email,v=e.hideJoiningDate,w=void 0!==v&&v,y=e.lowerText,g=Object(n.X)([i,p]," "),E=Object(n.B)(a||O);return Object(c.createElement)(m.a,{className:"bwf-c-contact-basic-info-cell",justify:"flex-start"},Object(c.createElement)(m.c,{className:"bwf-c-avatar"},j&&Object(c.createElement)(d.a,{user:j,size:40}),Object(c.createElement)(o,{first_name:i,last_name:p})),Object(c.createElement)(m.c,null,Object(c.createElement)(m.a,{style:{flexDirection:"column"},align:"flex-start"},Object(c.createElement)(m.c,{style:{padding:0}},Object(c.createElement)("span",{className:"bwf-c-contact-name"},f()(l()(g))?Object(u.__)("-","wp-marketing-automations-crm"):g)),!w&&E&&Object(c.createElement)(m.c,null,Object(c.createElement)("span",{className:"bwf-c-contact-creation-date"},t||Object(u.__)("Joined","wp-marketing-automations-crm")," ",y||E)))))};p.defaultProps={contact:{f_name:"",l_name:"",id:0,creation_date:""}};t.a=p},184:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},362:function(e,t,a){"use strict";var c=a(114),n=a(0),r=a(4),s=a(20),l=a(17),i=a(176),o=a(7),m=function(e,t,a){return decodeURIComponent(Object(s.f)(e,t,a))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=location&&location.search?Object(l.parse)(location.search.substring(1)):{},d=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},p=d.broadcasts_nav,O=i.a.getCampaignData(),j=i.a.getCampaignId(),v={overview:{name:Object(r.__)("Overview","wp-marketing-automations-crm"),link:m({},"/broadcast/".concat(j,"/overview"),f)},analytics:{name:Object(r.__)("Analytics","wp-marketing-automations-crm"),link:m({},"/broadcast/".concat(j,"/analytics"),f)},recipient:{name:Object(r.__)("Engagements","wp-marketing-automations-crm"),link:m({},"/broadcast/".concat(j,"/engagements"),f)}};Object(o.W)()&&(v.orders={name:Object(r.__)("Orders","wp-marketing-automations-crm"),link:m({},"/broadcast/".concat(j,"/orders"),f)});var w=Object(c.a)(),y=w.setActiveMultiple,g=w.resetHeaderMenu,E=w.setL2NavType,_=w.setL2Nav,N=w.setBackLink,h=w.setL2Title,k=w.setL2Content,C=w.setBackLinkLabel,T=w.setL2NavAlign,P=w.setPageHeader;return Object(n.useEffect)((function(){g(),s?(E("menu"),_(v)):(!a&&E("menu"),!a&&_(p)),y({leftNav:"broadcasts",rightNav:e}),a&&1===b&&(C("Email Broadcasts"),N(m({},"/broadcasts/email",f))),a&&2===b&&(C("SMS Broadcasts"),N(m({},"/broadcasts/sms",f))),a&&3===b&&(C("WhatsApp Broadcasts"),N(m({},"/broadcasts/whatsapp",f))),t?h(t):s&&h(O.title),s&&T("left"),!a&&u&&k(u),P("Broadcasts")}),[e,b]),!0}},550:function(e,t,a){"use strict";var c=a(0);a(551);t.a=function(e){var t=e.size,a=e.isOpen,n=e.onRequestClose,r=e.children,s=a?"is-open":"",l=Object(c.useRef)(),i=Object(c.useRef)(a);return Object(c.useEffect)((function(){i.current=a}),[a]),Object(c.useEffect)((function(){jQuery("body").click((function(e){!(jQuery(l.current).find(e.target).length>0)&&i.current&&n()}))}),[]),Object(c.createElement)("div",{className:"bwf-crm-side-panel "+s,ref:l,style:{width:t+"px"}},r)}},551:function(e,t,a){},725:function(e,t,a){},726:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(4),r=a(130),s=a(550),l=function(){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status is-preview"})," ",Object(c.createElement)("span",{className:"is-placeholder"})),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle"},Object(c.createElement)("span",{className:"is-placeholder long"})))),Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status is-preview"})," ",Object(c.createElement)("span",{className:"is-placeholder"})),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle"},Object(c.createElement)("span",{className:"is-placeholder long"})))))},i=a(7),o=(a(9),a(124)),m=a(16),u=a.n(m),b=a(5);function f(e,t,a,c,n,r,s){try{var l=e[r](s),i=l.value}catch(e){return void a(e)}l.done?t(i):Promise.resolve(i).then(c,n)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],c=!0,n=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(c=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);c=!0);}catch(e){n=!0,r=e}finally{try{c||null==l.return||l.return()}finally{if(n)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,c=new Array(t);a<t;a++)c[a]=e[a];return c}var O=Object(o.a)(Object(i.H)()).formatAmount,j=function(e){var t=e.contact,a=e.campaignId,r=d(Object(c.useState)(!0),2),s=r[0],o=r[1],m=d(Object(c.useState)([]),2),p=m[0],j=m[1],v=function(){var e,c=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"GET",path:Object(i.g)("/broadcasts/".concat(a,"/recipients/").concat(t.conversation_id,"/timeline"))}).then((function(e){200==e.code&&e.hasOwnProperty("result")&&!Object(b.isEmpty)(e.result)?j(e.result):j([]),o(!1)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(!1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,a=arguments;return new Promise((function(c,n){var r=e.apply(t,a);function s(e){f(r,c,n,s,l,"next",e)}function l(e){f(r,c,n,s,l,"throw",e)}s(void 0)}))});return function(){return c.apply(this,arguments)}}();Object(c.useEffect)((function(){o(!0),Object(b.isEmpty)(t.conversation_id)||v()}),[t]);return s?Object(c.createElement)(l,null):Object(c.createElement)(c.Fragment,null,Object(b.isEmpty)(p)?Object(c.createElement)("p",null,Object(n.__)("No timeline found","wp-marketing-automations-crm")):p.map((function(e){switch(e.type){case"conversion":return function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status bwf-crm-status-success"}),Object(c.createElement)("span",null,Object(n.__)("Converted","wp-marketing-automations-crm"),Object(c.createElement)("a",{href:"post.php?post="+e.order_id+"&action=edit"},Object(n.__)("Order","wp-marketing-automations-crm")+" #"+e.order_id))),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle",title:Object(i.B)(e.date,!0)},Object(i.E)(e.date).fromNow())),Object(c.createElement)("div",{className:"bwf-crm-card-r"},Object(c.createElement)("div",{className:"bwf-crm-card-date"},O(parseFloat(e.revenue))))))}(e);case"open":return function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status bwf-crm-status-success"}),Object(c.createElement)("span",null,Object(n.__)("Opened","wp-marketing-automations-crm"))),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle",title:Object(i.B)(e.date,!0)},Object(i.E)(e.date).fromNow()))))}(e);case"click":return function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status bwf-crm-status-success"}),Object(c.createElement)("span",null,Object(n.__)("Clicked","wp-marketing-automations-crm"))),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle",title:Object(i.B)(e.date,!0)},Object(i.E)(e.date).fromNow()))))}(e);case"failed":return function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status bwf-crm-status-failed"}),Object(c.createElement)("span",null,Object(n.__)("Failed","wp-marketing-automations-crm"))),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle",title:Object(i.B)(e.date,!0)},Object(i.E)(e.date).fromNow()))))}(e);case"sent":return function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)("section",{className:"bwf-crm-card"},Object(c.createElement)("div",{className:"bwf-crm-card-l"},Object(c.createElement)("div",{className:"bwf-crm-card-title"},Object(c.createElement)("span",{className:"bwf-crm-status bwf-crm-status-success"}),Object(c.createElement)("span",null,Object(n.__)("Sent","wp-marketing-automations-crm"))),Object(c.createElement)("div",{className:"bwf-crm-card-subtitle",title:Object(i.B)(e.date,!0)},Object(i.E)(e.date).fromNow()))))}(e)}})))},v=(a(725),a(173)),w=a(159),y=a.n(w),g=a(18),E=Object(o.a)(Object(i.H)()).formatAmount,_=function(e){var t=e.isOpen,a=e.campaignId,r=e.onRequestClose,l=e.contact;return Object(c.createElement)(s.a,{size:400,isOpen:t,onRequestClose:r},Object(c.createElement)("div",{className:"bwf-crm-body"},Object(c.createElement)("div",{className:"bwf-crm-details"},Object(c.createElement)("div",{className:"bwf-crm-d-head bwf-crm-gap-border"},Object(c.createElement)("div",{className:"bwf-gravatar-wrapper"},l.send_to&&Object(c.createElement)(v.a,{user:l.send_to,size:60}),Object(c.createElement)("div",{className:"bwf-crm-gravatar"},Object(c.createElement)("span",null,Object(b.isEmpty)(y()(l.f_name+" "+l.l_name))?"-":Object(i.F)(l.f_name,l.l_name)))),Object(c.createElement)("div",{className:"bwf-crm-name"},l&&l.f_name&&l.l_name&&l.f_name.charAt(0).toUpperCase()+l.f_name.slice(1)+" "+(l.l_name.charAt(0).toUpperCase()+l.l_name.slice(1))),Object(c.createElement)("div",{className:"bwf-crm-email"},l.send_to),Object(c.createElement)("div",{className:"bwf-t-center bwf-pt-15"},Object(c.createElement)(g.a,{href:"admin.php?page=autonami&path=/contact/"+l.cid,type:"bwf-crm",className:"bwf-a-no-underline button is-secondary"},Object(n.__)("View Contact")))),Object(c.createElement)("div",{className:"bwf-crm-d-data bwf-crm-gap-border"},Object(c.createElement)("div",{className:"bwf-crm-head"},Object(n.__)("Details","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-col2",key:1},Object(c.createElement)("div",{className:"bwf-crm-list",key:1},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Sent","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},Object(i.B)(l.sent_time))),l.is_unsubscribe&&!Object(b.isEmpty)(l.unsubscribe)&&Object(c.createElement)("div",{className:"bwf-crm-list",key:2},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Unsubscribe","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},Object(i.B)(l.unsubscribe)))),Object(c.createElement)("div",{className:"bwf-crm-col2",key:2},Object(c.createElement)("div",{className:"bwf-crm-list",key:2},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Total Click","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},parseInt(l.click))),Object(c.createElement)("div",{className:"bwf-crm-list",key:1},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Total Open","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},parseInt(l.open)))),Object(c.createElement)("div",{className:"bwf-crm-col2",key:2},Object(c.createElement)("div",{className:"bwf-crm-list",key:1},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Is Converted","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},parseInt(l.conversions)>0?Object(n.__)("Yes","wp-marketing-automations-crm"):Object(n.__)("No","wp-marketing-automations-crm"))),Object(c.createElement)("div",{className:"bwf-crm-list",key:2},Object(c.createElement)("div",{className:"bwf-crm-label"},Object(n.__)("Total Revenue","wp-marketing-automations-crm")),Object(c.createElement)("div",{className:"bwf-crm-value"},E(parseInt(l.revenue))))))),Object(c.createElement)("div",{className:"bwf-crm-timeline"},Object(c.createElement)("div",{className:"bwf-crm-head"},Object(n.__)("Timeline","wp-marketing-automations-crm")),Object(c.createElement)(j,{contact:l,campaignId:a}))))},N=a(181),h=a(31),k=a(459),C=a(176),T=(a(726),a(362)),P=a(117),S=a(13);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],c=!0,n=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(c=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);c=!0);}catch(e){n=!0,r=e}finally{try{c||null==l.return||l.return()}finally{if(n)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,c=new Array(t);a<t;a++)c[a]=e[a];return c}t.default=function(e){var t=e.campaignId,a=e.campaignType,s=C.a.getCampaignData(),l=(s||{}).type,m=R(Object(c.useState)(!1),2),u=m[0],b=m[1],f=R(Object(c.useState)({}),2),d=f[0],p=f[1],O=C.a.getRecipientData(),j=C.a.getRecipientLoading(),v=C.a.getRecipientLimit(),w=C.a.getRecipientOffset(),y=C.a.getRecipientTotal(),E=Object(k.a)(),A=E.fetchRecipient,I=E.setRecipientsValues,L=Object(o.a)(Object(i.H)()).formatAmount;Object(T.a)("recipient","",!0,!0,!1,a),Object(c.useEffect)((function(){A(t,v,w)}),[v,w]);var B=[{key:"contact",label:Object(n.__)("Contact","wp-marketing-automations-crm"),required:!0,cellClassName:"bwf-crm-col-contact"},{key:"contact_details",label:Object(n.__)("Details","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-contact-details"},{key:"sent",label:Object(n.__)("Sent","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m bwf-t-center"},1===parseInt(l)?{key:"open",label:Object(n.__)("Open","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m bwf-t-center"}:{},{key:"click",label:Object(n.__)("Click","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m bwf-t-center"},{key:"unsubscribe",label:Object(n.__)("Unsubscribe","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m bwf-t-center"},Object(i.W)()?{key:"converted",label:Object(n.__)("Converted","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m bwf-t-center"}:{},Object(i.W)()?{key:"revenue",label:Object(n.__)("Revenue","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m"}:{}],x=C.a.getRecipientPage(),D=function(e){e!==v&&(I("limit",e),I("offset",0))},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"null":case null:a="";break;case!0:case"yes":a=t?" bwf-crm-status-failed":" bwf-crm-status-success";break;case!1:case"no":a=t?" bwf-crm-status-success":""}return Object(c.createElement)("div",{className:"bwf-crm-status bwf-crm-status-s"+a})},H=function(e){var t=e;return t.email=e.send_to,Object(c.createElement)("div",{onClick:function(){return function(e){p(e),b(!0)}(e)}},Object(c.createElement)(N.a,{contact:t,dateText:Object(n.__)("Sent","wp-marketing-automations-crm"),date:e.sent_time}))},M=function(e){return Object(c.createElement)("div",{className:"bwf-crm-contact-details-cell"},e.send_to?Object(c.createElement)(h.a,{justify:"start"},Object(c.createElement)(h.c,null,Object(c.createElement)(S.a,{icon:"mail"})),Object(c.createElement)(h.c,null,0!=e.cid?Object(c.createElement)(g.a,{className:"bwf-a-no-underline",href:"mailto:"+e.send_to,type:"external"},e.send_to):e.send_to)):"-")},z=O.map((function(e){return[{display:H(e),value:e.f_name+" "+e.l_name},{display:M(e),value:e.email},{display:F(!parseInt(e.sent)>0,!0),value:e.sent},1===parseInt(l)?{display:F(parseInt(e.open)>0),value:e.open}:{},{display:F(parseInt(e.click)>0),value:e.click},{display:F(0!=parseInt(e.unsubscribed)||null,!0),value:e.unsubscribe},Object(i.W)()?{display:F(parseInt(e.conversions)>0),value:e.is_converted}:{},Object(i.W)()?{display:L(parseFloat(e.revenue)),value:e.revenue}:{}]}));return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(P.a,null),Object(c.createElement)(r.a,{className:"bwf-crm-campaign-report-recipients",rows:z,headers:B,query:{paged:x},rowsPerPage:v,totalRows:y,isLoading:j,onPageChange:function(e,t){I("offset",(e-1)*v)},onQueryChange:function(e){return"per_page"!==e?function(){}:D},emptyMessage:Object(n.__)("No engagements found","wp-marketing-automations-crm"),rowHeader:!0,showMenu:!1,hideHeader:"yes"}),Object(c.createElement)(_,{funnelId:1,contact:d,size:400,campaignId:t,isOpen:u,onRequestClose:function(){return b(!1)}}))}}}]);