(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{113:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(15),c=n.n(o),i=n(9),l=n(34),s=n(8),u=n.n(s),m=n(96),f=(n(138),function(e){var t=e.id,n=e.instanceId,o=e.isVisible,s=e.label,u=e.popoverContents,m=e.remove,f=e.screenReaderLabel,b=e.setState,p=e.className;if(f=f||s,!s)return null;s=Object(l.decodeEntities)(s);var d=c()("bwf-tag",p,{"has-remove":!!m}),y="bwf-tag-label-".concat(n),O=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},f),Object(r.createElement)("span",{"aria-hidden":"true"},s));return Object(r.createElement)("span",{className:d},u?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:y,onClick:function(){return b((function(){return{isVisible:!0}}))}},O):Object(r.createElement)("span",{className:"bwf-tag-text",id:y},O),u&&o&&Object(r.createElement)(i.Popover,{onClose:function(){return b((function(){return{isVisible:!1}}))}},u),m&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return m(t,s)},label:Object(a.sprintf)(Object(a.__)("Remove %s","wp-marketing-automations-crm"),s),"aria-describedby":y},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});f.propTypes={id:u.a.oneOfType([u.a.number,u.a.string]),label:u.a.string.isRequired,popoverContents:u.a.node,remove:u.a.func,screenReaderLabel:u.a.string},t.a=Object(m.withState)({isVisible:!1})(Object(m.withInstanceId)(f))},124:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(5),c=n(8),i=n.n(c),l=n(15),s=n.n(l),u=(n(134),n(160));function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,o,c=O(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(j(t)),t.fetchOptions=t.fetchOptions.bind(j(t)),t.updateSelected=t.updateSelected.bind(j(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){b(o,r,a,c,i,"next",e)}function i(e){b(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(a.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(m(r.getFreeTextOptions(t,e)),m(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,o=t.placeholder,c=t.selected,i=t.showClearButton,l=t.staticResults,m=t.disabled,f=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(u.a,{className:s()("bwf-search",n,{"is-static-results":l}),disabled:m,hideBeforeSearch:!1,inlineTags:a,isSearchable:!0,label:o,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:o,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:f,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:c,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),o&&d(t,o),i}(r.Component);h.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},h.defaultProps={allowFreeTextSearch:!1,onChange:o.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=h},134:function(e,t,n){},138:function(e,t,n){},174:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(16),c=n.n(o),i=n(110),l=n.n(i),s=n(120),u=n.n(s),m=n(115),f=n.n(m),b=n(7),p=n(18);function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}t.a={name:"tags",className:"bwf-search-bwf-tags-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,limit:10,offset:0},e.next=3,c()({path:Object(b.g)("/tags?"+Object(p.stringify)(n)),method:"GET"});case 3:return r=e.sent,a=u()(r,"result")?r.result:[],f()(a)||(a=a.map((function(e){return{key:String(e.ID),label:e.name}}))),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){O(o,r,a,c,i,"next",e)}function i(e){O(o,r,a,c,i,"throw",e)}c(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.key},getOptionKeywords:function(e){return[e.label]},getFreeTextOptions:function(e,t){var n,o=d(t);try{for(o.s();!(n=o.n()).done;){if(n.value.value.label.toLowerCase()===e.toLowerCase())return[]}}catch(e){o.e(e)}finally{o.f()}return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},l()({mixedString:Object(a.__)("Add new tag with name {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{key:"0",label:e}}]},getOptionLabel:function(e,t){var n=Object(b.e)(e.label,t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":e.label},Object.keys(n).length>0?Object(r.createElement)(r.Fragment,null,n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):e.label)},getOptionCompletion:function(e){return e}}},180:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(16),c=n.n(o),i=n(110),l=n.n(i),s=n(120),u=n.n(s),m=n(115),f=n.n(m),b=n(7),p=n(18);function d(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}t.a={name:"lists",className:"bwf-search-bwf-tags-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,limit:10,offset:0},e.next=3,c()({path:Object(b.g)("/lists?"+Object(p.stringify)(n)),method:"GET"});case 3:return r=e.sent,a=u()(r,"result")?r.result:[],f()(a)||(a=a.map((function(e){return{key:String(e.ID),label:e.name}}))),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){O(o,r,a,c,i,"next",e)}function i(e){O(o,r,a,c,i,"throw",e)}c(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.key},getOptionKeywords:function(e){return[e.label]},getFreeTextOptions:function(e,t){var n,o=d(t);try{for(o.s();!(n=o.n()).done;){if(n.value.value.label.toLowerCase()===e.toLowerCase())return[]}}catch(e){o.e(e)}finally{o.f()}return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},l()({mixedString:Object(a.__)("Add new list with name {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{key:"0",label:e}}]},getOptionLabel:function(e,t){var n=Object(b.e)(e.label,t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":e.label},Object.keys(n).length>0?Object(r.createElement)(r.Fragment,null,n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):e.label)},getOptionCompletion:function(e){return e}}},224:function(e,t,n){"use strict";var r=n(0);n(257);t.a=function(e){return Object(r.useEffect)((function(){setTimeout((function(){e.removeMessage()}),5e3)}),[e.message]),Object(r.createElement)(r.Fragment,null,e.message&&Object(r.createElement)("div",{id:"bwfcrm-message-notice"},Object(r.createElement)("span",{className:"bwfcrm-message-text"},e.message)))}},257:function(e,t,n){},483:function(e,t,n){"use strict";var r=n(48),a=(n(247),n(5));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){if(!Array.isArray(e)||0===e.length)return!1;var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!(!1 in a)){var o,c=s(a.fields);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(!(!1 in i)&&t===i.slug)return i}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){r.e(e)}finally{r.f()}return!1},f=function(e,t){if(0===Object(a.size)(e))return!1;for(var n in e){var r=e[n];if(r&&r.slug&&t===r.slug)return r}return!1};t.a=function(){var e=Object(r.a)("groupdata"),t=e.getStateProp;return c(c({},l(e,["getStateProp"])),{},{getGroups:function(){return t("groups")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getFieldBySlug:function(e){var n=t("groups"),r=t("extra_fields"),a=m(n,e);return(!1!==a||!1!==(a=f(r,e)))&&a.ID},getCountData:function(){return t("countData")}})}},504:function(e,t,n){"use strict";var r=n(50),a=n(7);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("groupdata"),t=e.fetch,n=e.setStateProp;return c(c({},l(e,["fetch","setStateProp"])),{},{fetch:function(){t("GET",Object(a.g)("/groupfields"))},setStateGroupValues:function(e){n("groups",e)}})}},587:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(9),c=n(5),i=n(7);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.index,n=e.label,s=e.value,u=e.type,m=e.options,f=e.onChange,b=e.placeholder,p=Object(a.__)("Click to Edit","wp-marketing-automations-crm"),d=l(Object(r.useState)(s),2),y=d[0],O=d[1],g=l(Object(r.useState)(!1),2),j=g[0],v=g[1],h=Object(i.K)(),w=function(e,t){var n=!1;try{e&&JSON.parse(e).includes(t)&&(n=!0)}catch(e){}return n};return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},n||t),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("span",{className:"bwf-editable-span",title:p,onClick:function(e){v(!0)}},j&&Object(r.createElement)(o.Popover,{onFocusOutside:function(e){v(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},[4,5,6].includes(parseInt(u))&&Object(c.isEmpty)(m)?Object(a.__)("Add Options to select here","wp-marketing-automations-crm"):Object(r.createElement)(r.Fragment,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";switch(e){case 1:return Object(r.createElement)(o.TextControl,{value:n,className:"bwf-pop-input-field",placeholder:i||Object(a.__)("Enter","wp-marketing-automations-crm"),onChange:function(e){O(e)},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}});case 2:return Object(r.createElement)(o.TextControl,{type:"number",value:n,placeholder:i||Object(a.__)("Enter","wp-marketing-automations-crm"),onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))},onChange:function(e){O(e)}});case 3:return Object(r.createElement)(o.TextareaControl,{value:n,onChange:function(e){O(e)}});case 4:var s=[{value:"",label:Object(a.__)("Select Option","wp-marketing-automations-crm")}];return c.map((function(e){s.push({value:e,label:e})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:s,onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))},onChange:function(e){O(e)}});case 5:var u=[];return c.map((function(e){u.push({value:e,label:e})})),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}},Object(r.createElement)(o.RadioControl,{label:Object(a.__)("Select an Option","wp-marketing-automations-crm"),selected:n,options:u,onChange:function(e){O(e)}}));case 6:return Object(r.createElement)(r.Fragment,null,c.map((function(e){return Object(r.createElement)(o.CheckboxControl,{label:e,checked:w(n,e),onChange:function(t){var r=[];try{r=n?JSON.parse(n):[],t?r.push(e):r=r.filter((function(t){return t!==e})),O(JSON.stringify(r))}catch(t){r.push(e),O(JSON.stringify(r))}},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}})})));case 7:return Object(r.createElement)("input",{type:"date",value:n,style:{width:"100%"},onChange:function(e){O(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}});case 8:var m=[{value:"",label:Object(a.__)("Select timezone","wp-marketing-automations-crm")}];return Object.entries(h).map((function(e){var t=l(e,2),n=t[0],r=t[1];m.push({value:n,label:r})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:m,onKeyPress:function(e){"Enter"===e.key&&(f(t,n),v(!1))},onChange:function(e){O(e)}})}}(parseInt(u),y,m,b),Object(r.createElement)(o.Button,{className:"bwf-pop-button",isSecondary:!0,onClick:function(e){e.stopPropagation(),v(!1)}},Object(a.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(o.Button,{isPrimary:!0,className:"bwf-pop-button",onClick:function(e){e.stopPropagation(),f(t,y),v(!1)}},Object(a.__)("Update","wp-marketing-automations-crm"))))),function(){var e=Object(a.__)("-","wp-marketing-automations-crm");if(Object(c.isEmpty)(s))return e;if(6===u)try{var t=JSON.parse(s);Object(c.isEmpty)(t)||(e=t.join(", "))}catch(e){}else e=s;if(8===u&&(e="-",h.hasOwnProperty(s)&&(e=h[s])),7===u)try{e=Object(i.B)(s)}catch(t){e="-"}return e}())))}},588:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(9),c=n(202),i=n(5),l=n(483),s=n(366),u=n(7);function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t,n=e.meta,p=e.onChange,d=e.contact,y=Object(l.a)().getFieldBySlug,O=Object(s.a)(),g=O.setContactField,j=O.setContactMeta,v={addressOne:y("address-1"),addressTwo:y("address-2"),pinCode:y("postcode"),city:y("city")},h=n[v.addressOne],w=n[v.addressTwo],E=n[v.pinCode],k=n[v.city],_=d.state,S=d.country,C=b(Object(r.useState)(!1),2),N=C[0],P=C[1],A=Object(a.__)("Click to Edit","wp-marketing-automations-crm"),x=Object.entries(c).map((function(e){var t=b(e,2),n=t[0];return{label:t[1],value:n}}));return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(a.__)("Address","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("div",{className:"bwf-editable-span",title:A,onClick:function(){return P(!0)}},N&&Object(r.createElement)(o.Popover,{onFocusOutside:function(){P(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},Object(r.createElement)(o.TextControl,{type:"text",key:"1",value:h,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 1","wp-marketing-automations-crm"),onChange:function(e){Object(u.R)()&&j(v.addressOne,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"2",value:w,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 2","wp-marketing-automations-crm"),onChange:function(e){Object(u.R)()&&j(v.addressTwo,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"3",value:E,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Pincode","wp-marketing-automations-crm"),onChange:function(e){Object(u.R)()&&j(v.pinCode,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"4",value:k,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter City","wp-marketing-automations-crm"),onChange:function(e){Object(u.R)()&&j(v.city,e)}}),Object(r.createElement)(o.SelectControl,{value:S,className:"bwf-c-s-width-full bwf-pop-input-field",options:[{label:"Select country",value:""}].concat(m(x)),onChange:function(e){u.R&&g({country:e,state:""})}}),Object(r.createElement)(o.TextControl,{type:"text",key:"5",value:_,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter State","wp-marketing-automations-crm"),onChange:function(e){Object(u.R)()&&g({state:e})}}),Object(r.createElement)(o.Button,{key:"cancel",className:"bwf-pop-button",isSecondary:!0,onClick:function(e){e.stopPropagation(),P(!1)}},Object(a.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(o.Button,{key:"save",isPrimary:!0,className:"bwf-pop-button",onClick:function(e){var t;e.stopPropagation(),Object(u.R)()&&(f(t={},v.addressOne,h),f(t,v.addressTwo,w),f(t,v.pinCode,E),f(t,v.city,k),f(t,"state",_),f(t,"country",S),p(t)),P(!1)}},Object(a.__)("Update","wp-marketing-automations-crm")))),(t=[],h&&t.push(h),w&&t.push(w),k&&t.push(k),_?E?t.push(_+" "+E):t.push(_):E&&t.push(E),S&&(c.hasOwnProperty(S)?t.push(c[S]):t.push(S)),t=Object(i.isEmpty)(t)?Object(a.__)("Click to enter Address","wp-marketing-automations-crm"):t.join(", "),Object(r.createElement)("p",null,t)))))}},701:function(e,t,n){},768:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(325),o=n(4),c=n(587),i=n(588),l=n(113),s=n(9),u=n(54),m=n(13);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=f(Object(r.useState)(!1),2),n=t[0],b=t[1],p=[{id:2,name:Object(o.__)("First Name","wp-marketing-automations-crm"),type:1,value:"John",meta:{placeholder:Object(o.__)("Enter First Name","wp-marketing-automations-crm")}},{id:3,name:Object(o.__)("Last Name","wp-marketing-automations-crm"),type:1,value:"Doe",meta:{placeholder:Object(o.__)("Enter Last Name","wp-marketing-automations-crm")}},{id:"timezone",name:Object(o.__)("TimeZone","wp-marketing-automations-crm"),value:"America/New_York"},{id:"gender",name:Object(o.__)("Gender","wp-marketing-automations-crm"),value:"Male"},{id:"address",name:Object(o.__)("Address","wp-marketing-automations-crm")},{id:"contact_no",name:Object(o.__)("Phone number","wp-marketing-automations-crm"),type:1,value:"1234567890",meta:{placeholder:Object(o.__)("Enter Phone Number","wp-marketing-automations-crm")}},{id:4,name:Object(o.__)("Company","wp-marketing-automations-crm"),type:1,value:"Wisetr",meta:{placeholder:Object(o.__)("Enter Company","wp-marketing-automations-crm")}}],d={},y=function(){b(!0)},O=[{id:1,name:Object(o.__)("Tag1","wp-marketing-automations-crm")},{id:2,name:Object(o.__)("Tag2","wp-marketing-automations-crm")}],g=[{id:1,name:Object(o.__)("List1","wp-marketing-automations-crm")},{id:2,name:Object(o.__)("List2","wp-marketing-automations-crm")}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"}),Object(r.createElement)(a.a,{items:[{key:0,label:Object(o.__)("General","wp-marketing-automations-crm"),display:Object(r.createElement)(r.Fragment,null,p.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:e.type?e.type:1,options:e.meta&&e.meta.options?e.meta.options:[],value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:y});var t=e.meta&&e.meta.options?e.meta.options:[],n=e.type?e.type:1;return"address"==e.id?Object(r.createElement)(i.a,{key:e.id,meta:{},contact:d,onChange:y}):("gender"==e.id&&(t=["Male","Female","Others"],n="4"),"timezone"==e.id?Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:d[e.id],placeholder:"",onChange:y}):(e.id,Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:n,options:t,value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:y})))}})),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,O&&O.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){b(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return y()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations-crm")))))),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Lists"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,g&&g.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){b(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return y()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations-crm")))))))},{key:1,label:Object(o.__)("Custom Field Group","wp-marketing-automations-crm"),display:Object(r.createElement)(c.a,{key:23,index:43,label:"Custom Field",type:1,options:[],value:"Custom Data",placeholder:"Enter",onChange:function(){return b(!0)}})}]}),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){b(!0)}},Object(o.__)("Add Field Group","wp-marketing-automations-crm")),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isPrimary:!0,onClick:function(){b(!0)}},Object(o.__)("Add Field","wp-marketing-automations-crm")),Object(r.createElement)(u.a,{isOpen:n,onRequestClose:function(){return b(!1)}})))}},793:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(16),o=n.n(a),c=n(4),i=n(366),l=n(247),s=n(483),u=n(325),m=n(519),f=n(7),b=n(587),p=n(9),d=n(113),y=n(124),O=n(180),g=n(224),j=n(5),v=n(13);function h(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){w(o,r,a,c,i,"next",e)}function i(e){w(o,r,a,c,i,"throw",e)}c(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.contactId,n=e.lists,a=e.saveList,l=k(Object(r.useState)(n),2),s=l[0],u=l[1],m=k(Object(r.useState)(!1),2),b=m[0],w=m[1],_=k(Object(r.useState)([]),2),S=_[0],C=_[1],N=k(Object(r.useState)({message:"",type:1}),2),P=N[0],A=N[1],x=k(Object(r.useState)(""),2),T=x[0],I=x[1],F=(Object(i.a)().setContactField,function(){var e=E(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.g)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){200==e.code&&(A({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("lists",s.filter((function(e){return e.ID!=n.ID}))))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),A({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),R=function(){var e=E(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A({message:Object(c.__)("Saving…","wp-marketing-automations-crm")}),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.g)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A({message:t.message,type:1}),Object(j.isEmpty)(t.result)||(n=t.result.list_added.map((function(e){return e})),r=[].concat(h(s),h(n)),r=Object(j.uniqBy)(r,"ID"),u(r),a("lists",r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),A({message:e.t0.message,type:0}),u(n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),D=S&&S.map((function(e){return{key:e.id,label:e.name}})),M=function(){0==S.length?I(Object(c.__)("Please select a list.","wp-marketing-automations-crm")):(I(""),R(S),C([]),w(!1))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(g.a,{message:P.message,type:P.type,removeMessage:function(){return A({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Lists","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e){return Object(r.createElement)(d.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return F(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return w(!0)}},Object(r.createElement)(v.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations-crm")))),b&&Object(r.createElement)(p.Modal,{title:Object(c.__)("Select Lists","wp-marketing-automations-crm"),onRequestClose:function(){return w(!1)},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-overflow-visible"},T&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return I("")}},T),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&M()}},Object(r.createElement)(y.a,{autocompleter:O.a,multiple:!0,allowFreeTextSearch:!0,inlineTags:!0,selected:D,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),C(e)},onRemoveTag:function(e){C(S.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by list name","wp-marketing-automations-crm"),bwfEnableEmptySearch:!0,showClearButton:!1,disabled:!1}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){M()},className:"bwf-ml-0"},Object(c.__)("Add to Lists","wp-marketing-automations-crm"))))))};C.defaultProps={contactId:0,lists:[]};var N=C,P=n(174);function A(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){x(o,r,a,c,i,"next",e)}function i(e){x(o,r,a,c,i,"throw",e)}c(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){var t=e.contactId,n=e.tags,a=e.saveTags,l=I(Object(r.useState)(n),2),s=l[0],u=l[1],m=I(Object(r.useState)(!1),2),b=m[0],O=m[1],h=I(Object(r.useState)([]),2),w=h[0],E=h[1],k=I(Object(r.useState)({message:"",type:1}),2),_=k[0],S=k[1],C=I(Object(r.useState)(""),2),N=C[0],x=C[1],F=(Object(i.a)().setContactField,function(){var e=T(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.g)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){S({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("tags",s.filter((function(e){return e.ID!=n.ID})))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),S({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),R=function(){var e=T(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({message:Object(c.__)("Saving…","wp-marketing-automations-crm")}),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.g)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=T(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S({message:t.message,type:1}),Object(j.isEmpty)(t.result)||(n=t.result.tags_added.map((function(e){return e})),r=[].concat(A(s),A(n)),r=Object(j.uniqBy)(r,"ID"),u(r),a(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),S({message:e.t0.message,type:0}),u(n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),D=w&&w.map((function(e){return{key:e.id,label:e.name}})),M=function(){0==w.length?x(Object(c.__)("Please select a tag.","wp-marketing-automations-crm")):(x(""),R(w),E([]),O(!1))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(g.a,{message:_.message,type:_.type,removeMessage:function(){return S({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e){return Object(r.createElement)(d.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return F(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return O(!0)}},Object(r.createElement)(v.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations-crm")))),b&&Object(r.createElement)(p.Modal,{title:Object(c.__)("Select Tags","wp-marketing-automations-crm"),onRequestClose:function(){return O(!1)},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-overflow-visible"},N&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return x("")}},N),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&M()}},Object(r.createElement)(y.a,{autocompleter:P.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:D,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),E(e)},onRemoveTag:function(e){E(w.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by tag name","wp-marketing-automations-crm"),showClearButton:!1,disabled:!1}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){M()},className:"bwf-ml-0"},Object(c.__)("Add Tags","wp-marketing-automations-crm"))))))};D.defaultProps={contactId:0,tags:[]};var M=D,B=n(588),L=(n(701),n(121)),G=n(122),K=n(111),U=n(504);function q(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){var t=e.options,n=e.field,a=e.setField,o="";return Object(j.isEmpty)(t)||(o=t.map((function(e,t){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-option-wrapper"},Object(r.createElement)(p.TextControl,{value:e,className:"bwf-m-f-add-option",placeholder:Object(c.__)("Add Option Name","wp-marketing-automations-crm"),onChange:function(e){var r=n.meta&&n.meta.options?n.meta.options:[];r[t]=e,a(V(V({},n),{},{meta:V(V({},n.meta),{},{options:r})}))}}),Object(r.createElement)("span",{className:"dashicons dashicons-dismiss",onClick:function(){var e=n.meta.options;e.splice(t,1),a(V(V({},n),{},{meta:V(V({},n.meta),{},{options:e})}))}})))}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},o&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Options","wp-marketing-automations-crm")),o),Object(r.createElement)(p.Button,{isSecondary:!0,className:"bwf-m-f-add-option-btn bwf-ml-0 bwf-display-flex",onClick:function(){var e=n.meta&&n.meta.options?n.meta.options:[];e.push(""),a(V(V({},n),{},{meta:V(V({},n.meta),{},{options:e})}))}},Object(c.__)("Add Option","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_20"}))},W=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(L.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(G.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)(K.a,null)},Y=function(){var e=Object(r.useContext)(f.b),t=Object(U.a)(),n=$(Object(r.useState)([]),2),a=n[0],i=n[1],l=$(Object(r.useState)({}),2),u=l[0],m=l[1],b=$(Object(r.useState)(!1),2),d=b[0],y=b[1],O=$(Object(r.useState)({status:!1,message:""}),2),g=O[0],v=O[1],h=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o()({path:Object(f.g)("/fields/"),method:"POST",data:{group_id:r.group,field:{name:r.name,type:r.type,search:r.search,options:r.meta&&r.meta.options&&[4,5,6].includes(parseInt(r.type))?r.meta.options:[],placeholder:r.meta&&r.meta.placeholder?r.meta.placeholder:""}},headers:{"Content-Type":"application/json"}});case 3:(a=n.sent)&&200===a.code&&(v({status:!1}),t.fetch(),y(!1),e(a.message),Object(f.M)(e,2e3)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),v({status:!0,error:!0,message:n.t0.message}),setTimeout((function(){v({status:!1})}),2e3);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){q(o,r,a,c,i,"next",e)}function i(e){q(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}(),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(s.a)(),n=t.getGroups(),a=Object(U.a)();Object(r.useEffect)((function(){Object(j.isEmpty)(n)&&a.fetch()}),[]);var o=[{value:"",label:Object(c.__)("Select group","wp-marketing-automations-crm")}];return n&&n.map((function(t){0!==parseInt(e)&&parseInt(t.id)===parseInt(e)||o.push({value:t.id,label:t.name})})),o}(),E=Object(c.__)(u&&u.id?"Edit Field":"Add Field","wp-marketing-automations-crm"),k=function(){var e=[];if(u.name||e.push(Object(c.__)("Please enter field name.","wp-marketing-automations-crm")),""===u.group&&e.push(Object(c.__)("Please select a group for field.","wp-marketing-automations-crm")),u.type||e.push(Object(c.__)("Please select a type for field.","wp-marketing-automations-crm")),Object(j.isEmpty)(e)){var t=[];u.meta&&!Object(j.isEmpty)(u.meta.options)&&(t=u.meta.options.filter((function(e){return null!=e&&""!=e}))),m(V(V({},u),{},{meta:V(V({},u.meta),{},{options:t})})),v({status:!0}),h(V(V({},u),{},{meta:V(V({},u.meta),{},{options:t})}))}else i(e)};return Object(r.createElement)(r.Fragment,null,d&&Object(r.createElement)(p.Modal,{title:E,onRequestClose:function(){return y(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-medium"},g.status?Object(r.createElement)(W,{state:g}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&k()}},Array.isArray(a)&&a.length>0&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return i([])}},a.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Field Name","wp-marketing-automations-crm")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-field-name",autoFocus:!0,value:u&&u.name?u.name:"",placeholder:Object(c.__)("Field name here …","wp-marketing-automations-crm"),onChange:function(e){m(V(V({},u),{},{name:e}))}})),!!u&&[1,2,3].includes(parseInt(u.type))&&Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Placeholder","wp-marketing-automations-crm")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-placeholder-name",value:u&&u.meta?u.meta.placeholder:"",placeholder:Object(c.__)("Placeholder text here …","wp-marketing-automations-crm"),onChange:function(e){m(V(V({},u),{},{meta:V(V({},u.meta),{},{placeholder:e})}))}})),(!u||!parseInt(u.id))&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Group","wp-marketing-automations-crm")),Object(r.createElement)(p.SelectControl,{value:u.group,className:"bwf-m-f-model-group-name",options:w,onChange:function(e){return m(V(V({},u),{},{group:e}))}})),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Type","wp-marketing-automations-crm")),Object(r.createElement)(p.SelectControl,{value:u?u.type:1,className:"bwf-m-f-model-field-type",options:Object(f.t)(),onChange:function(e){return m(V(V({},u),{},{type:e}))}}))),!!u&&[4,5,6].includes(parseInt(u.type))&&Object(r.createElement)(X,{options:u.meta&&u.meta.options?u.meta.options:[],field:u,setField:m}),Object(r.createElement)(p.ToggleControl,{label:Object(c.__)("Is searchable","wp-marketing-automations-crm"),className:"bwf-tooglecontrol-advance",checked:!u||!u.search||2!=parseInt(u.search),onChange:function(e){var t=1;e||(t=2),m(V(V({},u),{},{search:t}))}}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return y(!1)}},Object(c.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){k()},className:"bwf-m-f-model-save-btn bwf-ml-0"},Object(c.__)("Add","wp-marketing-automations-crm")))))),Object(r.createElement)(p.Button,{className:"bwf-p-15",isPrimary:!0,onClick:function(){m({}),i([]),y(!0)}},Object(c.__)("Add Field","wp-marketing-automations-crm")))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(L.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(G.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)(K.a,null)},ie=function(){var e=Object(U.a)().setStateGroupValues,t=Object(r.useContext)(f.b),n=Object(s.a)().getGroups(),a=re(Object(r.useState)([]),2),i=a[0],l=a[1],u=re(Object(r.useState)({}),2),m=u[0],b=u[1],d=re(Object(r.useState)(!1),2),y=d[0],O=d[1],g=re(Object(r.useState)({status:!1,message:""}),2),v=g[0],h=g[1],w=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){var c,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o()({path:Object(f.g)("/groupfields/"),method:"POST",data:{group_name:a.name},headers:{"Content-Type":"application/json"}});case 3:200==(c=r.sent).code&&(i=c.result?c.result[0]:{},Object(j.isEmpty)(i)||e([].concat(te(n),[{id:i.id,name:i.name,fields:[]}])),h({status:!1}),O(!1),t(c.message),Object(f.M)(t,2e3)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),h({status:!0,error:!0,message:r.t0.message}),setTimeout((function(){h({status:!1})}),2e3);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function c(e){ne(o,n,a,c,i,"next",e)}function i(e){ne(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return a.apply(this,arguments)}}(),E=Object(c.__)(Object(j.isEmpty)(m.group_id)&&"0"!=m.group_id?"Add Group":"Edit Group","wp-marketing-automations-crm"),k=function(){var e=[];m.name||e.push(Object(c.__)("Please enter group name.","wp-marketing-automations-crm")),Object(j.isEmpty)(e)?(h({status:!0}),w(m)):l(e)};return Object(r.createElement)(r.Fragment,null,y&&Object(r.createElement)(p.Modal,{title:E,onRequestClose:function(){return O(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-medium"},v.status?Object(r.createElement)(ce,{state:v}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&k()}},!Object(j.isEmpty)(i)&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return l([])}},i.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Group Name","wp-marketing-automations-crm")),Object(r.createElement)(p.TextControl,{type:"text",value:m&&m.name?m.name:"",autoFocus:!0,placeholder:Object(c.__)("Group name here …","wp-marketing-automations-crm"),onChange:function(e){b(Q(Q({},m),{},{name:e}))}})),Object(r.createElement)("div",{className:"bwf_clear"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return O(!1)}},Object(c.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){k()},className:"bwf-m-f-model-save-btn bwf-ml-0"},Object(j.isEmpty)(m)?Object(c.__)("Add","wp-marketing-automations-crm"):Object(c.__)("Save","wp-marketing-automations-crm")))))),Object(r.createElement)(p.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){b({}),l([]),O(!0)}},Object(c.__)("Add Field Group","wp-marketing-automations-crm")))};function le(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=Object(i.a)().setStateProps,n=l.a.getContactLoading(),a=l.a.getContact(),p=se(Object(r.useState)({message:"",type:1}),2),d=p[0],y=p[1],O=Object(s.a)(),v=O.getLoading(),h=O.getGroups(),w=Object(U.a)();if(Object(r.useEffect)((function(){Object(j.isEmpty)(h)&&w.fetch()}),[]),n||v)return Object(r.createElement)(m.d,null);var E,k=a.id,_=a.tags,S=a.lists,C=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({message:Object(c.__)("Saving…","wp-marketing-automations-crm")}),e.prev=1,e.next=4,o()({path:Object(f.g)("/contacts/".concat(k,"/fields/")),method:"PUT",data:{email:a.email,fields:n}}).then((function(e){200===parseInt(e.code)&&(y({message:e.message,type:1}),t(e.result))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),y({message:e.t0.message,type:0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){le(o,r,a,c,i,"next",e)}function i(e){le(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}(),P=function(e,t){var n={};n[e]=t,C(n)},A=function(e,n){t(a,e,n)},x=function(e){C(e)},T=function(e,t){return Object(r.createElement)(r.Fragment,null,Object(j.isEmpty)(e)?Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(c.__)("No fields Found","wp-marketing-automations-crm"),Object(r.createElement)("div",{className:"bwf_clear_10"})):e.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:e.type?parseInt(e.type):1,options:e.meta&&e.meta.options?e.meta.options:[],value:a&&a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:P});var n=e.meta&&e.meta.options?e.meta.options:[],o=e.type?parseInt(e.type):1;if("0"==t){if("address"==e.id)return Object(r.createElement)(B.a,{key:e.id,meta:a.fields,contact:a,onChange:x});if("gender"==e.id&&(n=["Male","Female","Others"],o=4),"timezone"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:a[e.id],placeholder:"",onChange:P});if("email"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:"Email",type:1,value:a.email,placeholder:"",onChange:P});if("contact_no"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:P})}return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a.fields&&a.fields[e.id]?a.fields[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:P})}})),0==t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(M,{tags:_,saveTags:A,contactId:k}),Object(r.createElement)(N,{lists:S,saveList:A,contactId:k})))};return Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"},Object(r.createElement)(g.a,{message:d.message,type:d.type,removeMessage:function(){return y({message:"",type:1})}})),Object(r.createElement)(u.a,{items:(E=[],h&&h.map((function(e){e.id,E.push({key:e.id,label:e.name,display:T(e.fields,e.id)})})),E)}),Object(r.createElement)(ie,null),Object(r.createElement)(Y,null))}}}]);