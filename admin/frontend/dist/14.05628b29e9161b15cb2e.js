(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{111:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},113:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(15),c=n.n(a),i=n(9),l=n(34),s=n(8),u=n.n(s),f=n(96),p=(n(138),function(e){var t=e.id,n=e.instanceId,a=e.isVisible,s=e.label,u=e.popoverContents,f=e.remove,p=e.screenReaderLabel,b=e.setState,d=e.className;if(p=p||s,!s)return null;s=Object(l.decodeEntities)(s);var m=c()("bwf-tag",d,{"has-remove":!!f}),y="bwf-tag-label-".concat(n),h=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},p),Object(r.createElement)("span",{"aria-hidden":"true"},s));return Object(r.createElement)("span",{className:m},u?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:y,onClick:function(){return b((function(){return{isVisible:!0}}))}},h):Object(r.createElement)("span",{className:"bwf-tag-text",id:y},h),u&&a&&Object(r.createElement)(i.Popover,{onClose:function(){return b((function(){return{isVisible:!1}}))}},u),f&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return f(t,s)},label:Object(o.sprintf)(Object(o.__)("Remove %s","wp-marketing-automations-crm"),s),"aria-describedby":y},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});p.propTypes={id:u.a.oneOfType([u.a.number,u.a.string]),label:u.a.string.isRequired,popoverContents:u.a.node,remove:u.a.func,screenReaderLabel:u.a.string},t.a=Object(f.withState)({isVisible:!1})(Object(f.withInstanceId)(p))},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},121:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},122:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},124:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(5),c=n(8),i=n.n(c),l=n(15),s=n.n(l),u=(n(134),n(160));function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,a,c=h(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(O(t)),t.fetchOptions=t.fetchOptions.bind(O(t)),t.updateSelected=t.updateSelected.bind(O(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===d(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var o={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(o)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getFormattedOptions(r,t),n.setState({options:o}),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){b(a,r,o,c,i,"next",e)}function i(e){b(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(o.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(f(r.getFreeTextOptions(t,e)),f(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,o=t.inlineTags,a=t.placeholder,c=t.selected,i=t.showClearButton,l=t.staticResults,f=t.disabled,p=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(u.a,{className:s()("bwf-search",n,{"is-static-results":l}),disabled:f,hideBeforeSearch:!1,inlineTags:o,isSearchable:!0,label:a,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:a,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:p,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:c,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&m(t.prototype,n),a&&m(t,a),i}(r.Component);j.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},j.defaultProps={allowFreeTextSearch:!1,onChange:a.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=j},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),o=n(111),a=n(121),c=n(122),i=n(9),l=n(4);t.a=function(e){var t=e.confirmText,n=void 0===t?"":t,s=e.confirmButtonText,u=void 0===s?"":s,f=e.cancelButtonText,p=void 0===f?"":f,b=e.onConfirm,d=void 0===b?function(){}:b,m=e.isLoading,y=void 0!==m&&m,h=e.successMessage,v=void 0===h?"":h,O=e.errorMessage,g=void 0===O?"":O,j=e.onRequestClose,w=e.isOpen,S=void 0!==w&&w,E=e.confirmDescription,x=void 0===E?"":E,k=e.isDelete,_=void 0!==k&&k;Object(r.useEffect)((function(){(v||g)&&setTimeout((function(){j&&j()}),2e3)}),[v,g]);return S?Object(r.createElement)(i.Modal,{title:"",onRequestClose:function(){return j()},className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},_&&Object(r.createElement)("div",{className:"bwf-h4"},Object(l.__)("Delete","wp-marketing-automations-crm")),y&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(o.a,null)),!!v&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(a.a,null),Object(r.createElement)("div",{className:"bwf-h1"},v)),!!g&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(c.a,null),Object(r.createElement)("div",{className:"bwf-h1"},g)),!y&&!v&&!g&&Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},_?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h2"},Object(l.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(l.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h1"},n),!!x&&Object(r.createElement)("p",null,x)),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:_?"bwf_text_right":""},Object(r.createElement)(i.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){j&&j()}},p),Object(r.createElement)(i.Button,{isPrimary:!0,onClick:function(){d&&d()},className:_?"bwf-delete-btn":""},u)))):null}},138:function(e,t,n){},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},174:function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(16),c=n.n(a),i=n(110),l=n.n(i),s=n(120),u=n.n(s),f=n(115),p=n.n(f),b=n(7),d=n(18);function m(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}t.a={name:"tags",className:"bwf-search-bwf-tags-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,limit:10,offset:0},e.next=3,c()({path:Object(b.g)("/tags?"+Object(d.stringify)(n)),method:"GET"});case 3:return r=e.sent,o=u()(r,"result")?r.result:[],p()(o)||(o=o.map((function(e){return{key:String(e.ID),label:e.name}}))),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(e){h(a,r,o,c,i,"next",e)}function i(e){h(a,r,o,c,i,"throw",e)}c(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.key},getOptionKeywords:function(e){return[e.label]},getFreeTextOptions:function(e,t){var n,a=m(t);try{for(a.s();!(n=a.n()).done;){if(n.value.value.label.toLowerCase()===e.toLowerCase())return[]}}catch(e){a.e(e)}finally{a.f()}return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},l()({mixedString:Object(o.__)("Add new tag with name {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{key:"0",label:e}}]},getOptionLabel:function(e,t){var n=Object(b.e)(e.label,t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":e.label},Object.keys(n).length>0?Object(r.createElement)(r.Fragment,null,n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):e.label)},getOptionCompletion:function(e){return e}}},186:function(e,t,n){"use strict";var r=n(118),o=n(27),a=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,l=Object(o.a)(e,["icon","size"]);return Object(a.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},l))}},485:function(e,t,n){"use strict";var r=n(0),o=n(9);n(101);var a=n(4);var c=Object(o.createSlotFill)("StandAloneBlockEditorSidebarInspector"),i=c.Slot,l=c.Fill;function s(){return Object(r.createElement)("div",{className:"getdavesbe-sidebar",role:"region","aria-label":Object(a.__)("Standalone Block Editor advanced settings."),tabIndex:"-1"},Object(r.createElement)(o.Panel,{header:Object(a.__)("Inspector")},Object(r.createElement)(i,{bubblesVirtually:!0})))}s.InspectorFill=l;n(102),n(103),n(104);var u=n(105);Object(u.registerCoreBlocks)();var f=n(30),p=n(5);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.content,n=void 0===t?"":t,o=e.setContent,a=e.keyid,c=Object(r.useRef)(!1),i=Object(r.useRef)(n),l=y(Object(r.useState)(n),2),s=l[0],u=l[1];return Object(r.useEffect)((function(){if(c.current){var e=window.tinymce.get("editor-bwfcrm"+a);(null==e?void 0:e.getContent())!==n&&(e.setContent(n||""),i.current=n||"")}}),[n]),Object(r.useEffect)((function(){o(s)}),[s]),Object(r.useEffect)((function(){function e(){var e=window.wpEditorL10n.tinymce.settings;wp.oldEditor.initialize("editor-bwfcrm"+a,{tinymce:d(d({},e),{},{inline:!1,content_css:!1,setup:t,height:400})})}function t(e){var t=Object(p.debounce)((function(){var t=e.getContent();t!==e._lastChange&&(e._lastChange=t,u(t))}),250);e.on("Paste Change input Undo Redo",t),e.on("remove",t.cancel),e.on("keydown",(function(t){f.isKeyboardEvent.primary(t,"z")&&t.stopPropagation(),t.keyCode!==f.BACKSPACE&&t.keyCode!==f.DELETE||!function(e){var t=e.getBody();return!(t.childNodes.length>1)&&(0===t.childNodes.length||!(t.childNodes[0].childNodes.length>1)&&/^\n?$/.test(t.innerText||t.textContent))}(e)||(onReplace([]),t.preventDefault(),t.stopImmediatePropagation()),t.altKey&&t.keyCode===f.F10&&t.stopPropagation()})),e.on("init",(function(){e.setContent(i.current),u(i.current)}))}function n(){"complete"===document.readyState&&e()}return c.current=!0,"complete"===document.readyState?e():document.addEventListener("readystatechange",n),function(){document.removeEventListener("readystatechange",n),wp.oldEditor.remove("editor-bwfcrm"+a)}}),[]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)("div",{key:"editor",id:"editor-bwfcrm"+a,className:"wp-block-freeform block-library-rich-text__tinymce"})))};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return Object(r.createElement)(v,O({},e,{keyid:e.keyid}))}},514:function(e,t,n){"use strict";var r=n(0),o=n(5),a=n(8),c=n.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){f(a,r,o,c,i,"next",e)}function i(e){f(a,r,o,c,i,"throw",e)}c(void 0)}))}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,n,o,a,c,i=m(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this)).state={values:e.initialValues,errors:e.errors,touched:e.touched},t.getInputProps=t.getInputProps.bind(h(t)),t.handleSubmit=t.handleSubmit.bind(h(t)),t.setTouched=t.setTouched.bind(h(t)),t.setValue=t.setValue.bind(h(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.validate()}},{key:"isValidForm",value:(c=p(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validate();case 2:return e.abrupt("return",!Object.keys(this.state.errors).length);case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"validate",value:function(){var e=this.state.values,t=this.props.validate(e);this.setState({errors:t})}},{key:"setValue",value:function(e,t){this.setState((function(n){return{values:s(s({},n.values),{},u({},e,t))}}),this.validate)}},{key:"setTouched",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState((function(n){return{touched:s(s({},n.touched),{},u({},e,t))}}))}},{key:"handleChange",value:function(e,t){var n=this.state.values;t.target?"checkbox"===t.target.type?this.setValue(e,!n[e]):this.setValue(e,t.target.value):this.setValue(e,t)}},{key:"handleBlur",value:function(e){this.setTouched(e)}},{key:"handleSubmit",value:(a=p(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.values,n={},Object.keys(t).map((function(e){return n[e]=!0})),this.setState({touched:n}),e.next=6,this.isValidForm();case 6:if(!e.sent){e.next=8;break}this.props.onSubmitCallback(t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getInputProps",value:function(e){var t=this,n=this.state,r=n.errors,o=n.touched,a=n.values;return{value:a[e],checked:Boolean(a[e]),selected:a[e],onChange:function(n){return t.handleChange(e,n)},onBlur:function(){return t.handleBlur(e)},className:o[e]&&r[e]?"has-error":null,help:o[e]?r[e]:null}}},{key:"getStateAndHelpers",value:function(){var e=this.state,t=e.values,n=e.errors;return{values:t,errors:n,touched:e.touched,setTouched:this.setTouched,setValue:this.setValue,handleSubmit:this.handleSubmit,getInputProps:this.getInputProps,isValidForm:!Object.keys(n).length}}},{key:"render",value:function(){var e=this.props.children(this.getStateAndHelpers());return Object(r.cloneElement)(e)}}])&&b(t.prototype,n),o&&b(t,o),l}(r.Component);O.propTypes={children:c.a.any,errors:c.a.object,initialValues:c.a.object.isRequired,onSubmitCallback:c.a.func,validate:c.a.func},O.defaultProps={errors:{},initialValues:{},onSubmitCallback:o.noop,touched:{},validate:o.noop},t.a=O},591:function(e,t,n){"use strict";var r=n(0),o=n(9),a=n(15),c=n.n(a),i=n(186),l=n(95),s=Object(r.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(l.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),u=n(96),f=n(5);n(689);function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=n(4),y=n(8),h=n.n(y),v=n(30);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(l,e);var t,n,a,i=S(l);function l(){var e;return g(this,l),(e=i.apply(this,arguments)).handleKeyDown=e.handleKeyDown.bind(x(e)),e.select=e.select.bind(x(e)),e.optionRefs={},e.listbox=Object(r.createRef)(),e}return t=l,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,r=t.selectedIndex;Object(f.isEqual)(n,e.options)||(this.optionRefs={}),r!==e.selectedIndex&&this.scrollToOption(r)}},{key:"getOptionRef",value:function(e){return this.optionRefs.hasOwnProperty(e)||(this.optionRefs[e]=Object(r.createRef)()),this.optionRefs[e]}},{key:"select",value:function(e){var t=this.props.onSelect;e.isDisabled||t(e)}},{key:"scrollToOption",value:function(e){var t=this.listbox.current;if(!(t.scrollHeight<=t.clientHeight)&&this.optionRefs[e]){var n=this.optionRefs[e].current,r=t.clientHeight+t.scrollTop,o=n.offsetTop+n.offsetHeight;o>r?t.scrollTop=o-t.clientHeight:n.offsetTop<t.scrollTop&&(t.scrollTop=n.offsetTop)}}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.decrementSelectedIndex,r=t.incrementSelectedIndex,o=t.options,a=t.onSearch,c=t.selectedIndex,i=t.setExpanded;if(0!==o.length)switch(e.keyCode){case v.UP:n(),e.preventDefault(),e.stopPropagation();break;case v.DOWN:r(),e.preventDefault(),e.stopPropagation();break;case v.ENTER:this.select(o[c]),e.preventDefault(),e.stopPropagation();break;case v.LEFT:case v.RIGHT:i(!1);break;case v.ESCAPE:return i(!1),void a(null);case v.TAB:this.select(o[c]),i(!1),a(null)}}},{key:"toggleKeyEvents",value:function(e){this.props.node[e?"addEventListener":"removeEventListener"]("keydown",this.handleKeyDown,!0)}},{key:"componentDidMount",value:function(){this.toggleKeyEvents(!0)}},{key:"componentWillUnmount",value:function(){this.toggleKeyEvents(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.instanceId,a=t.listboxId,i=t.options,l=t.selectedIndex,s=t.staticList,u=c()("bwf-select-control__listbox",{"is-static":s});return Object(r.createElement)("div",{ref:this.listbox,id:a,role:"listbox",className:u,tabIndex:"-1"},i.map((function(t,a){return Object(r.createElement)(o.Button,{ref:e.getOptionRef(a),key:t.key,id:"bwf-select-control__option-".concat(n,"-").concat(t.key),role:"option","aria-selected":a===l,disabled:t.isDisabled,className:c()("bwf-select-control__option",{"is-selected":a===l}),onClick:function(){return e.select(t)},tabIndex:"-1"},t.label)})))}}])&&j(t.prototype,n),a&&j(t,a),l}(r.Component);_.propTypes={instanceId:h.a.number,listboxId:h.a.string,node:h.a.instanceOf(Element).isRequired,onSelect:h.a.func,options:h.a.arrayOf(h.a.shape({isDisabled:h.a.bool,key:h.a.oneOfType([h.a.number,h.a.string]).isRequired,keywords:h.a.arrayOf(h.a.oneOfType([h.a.string,h.a.number])),label:h.a.oneOfType([h.a.string,h.a.object]),value:h.a.any})).isRequired,selectedIndex:h.a.number,staticList:h.a.bool};var C=_,P=n(113);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,a,c=B(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).removeAll=t.removeAll.bind(D(t)),t.removeResult=t.removeResult.bind(D(t)),t}return t=i,(n=[{key:"removeAll",value:function(){(0,this.props.onChange)([])}},{key:"removeResult",value:function(e){var t=this.props,n=t.selected,r=t.onChange,o=Object(f.findIndex)(n,{key:e});r([].concat(I(n.slice(0,o)),I(n.slice(o+1))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selected,a=t.showClearButton;return n.length?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-select-control__tags"},n.map((function(t,o){if(!t.label)return null;var a=Object(m.sprintf)(Object(m.__)("%1$s (%2$s of %3$s)","wp-marketing-automations-crm"),t.label,o+1,n.length);return Object(r.createElement)(P.a,{key:t.key,id:t.key,label:t.label,remove:e.removeResult,screenReaderLabel:a})}))),a&&Object(r.createElement)(o.Button,{className:"bwf-select-control__clear",isLink:!0,onClick:this.removeAll},Object(r.createElement)(o.Icon,{icon:"dismiss"}),Object(r.createElement)("span",{className:"screen-reader-text"},Object(m.__)("Clear all","wp-marketing-automations-crm")))):null}}])&&A(t.prototype,n),a&&A(t,a),i}(r.Component);M.propTypes={onChange:h.a.func,onSelect:h.a.func,selected:h.a.arrayOf(h.a.shape({key:h.a.oneOfType([h.a.number,h.a.string]).isRequired,label:h.a.string})),showClearButton:h.a.bool};var q=M;function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(i,e);var t,n,o,a=z(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isActive:!1},t.input=Object(r.createRef)(),t.updateSearch=t.updateSearch.bind(Q(t)),t.onFocus=t.onFocus.bind(Q(t)),t.onBlur=t.onBlur.bind(Q(t)),t.onKeyDown=t.onKeyDown.bind(Q(t)),t}return t=i,(n=[{key:"updateSearch",value:function(e){return function(t){e(t.target.value)}}},{key:"onFocus",value:function(e){var t=this,n=this.props,r=n.isSearchable,o=n.setExpanded,a=n.showAllOnFocus,c=n.updateSearchOptions;return function(n){t.setState({isActive:!0}),r&&a?(n.target.select(),c("")):r?e(n.target.value):o(!0)}}},{key:"onBlur",value:function(){var e=this.props.onBlur;"function"==typeof e&&e(),this.setState({isActive:!1})}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.decrementSelectedIndex,r=t.incrementSelectedIndex,o=t.selected,a=t.onChange,c=t.query,i=t.setExpanded;v.BACKSPACE===e.keyCode&&!c&&o.length&&a(K(o.slice(0,-1))),v.DOWN===e.keyCode&&(r(),i(!0),e.preventDefault(),e.stopPropagation()),v.UP===e.keyCode&&(n(),i(!0),e.preventDefault(),e.stopPropagation())}},{key:"renderButton",value:function(){var e=this.props,t=e.multiple,n=e.selected;return t||!n.length?null:Object(r.createElement)("div",{className:"bwf-select-control__control-value"},n[0].label)}},{key:"renderInput",value:function(){var e=this.props,t=e.activeId,n=e.hasTags,o=e.inlineTags,a=e.instanceId,c=e.isExpanded,i=e.isSearchable,l=e.listboxId,s=e.onSearch,u=e.placeholder,f=e.searchInputType,p=this.state.isActive;return Object(r.createElement)("input",{autoComplete:"off",className:"bwf-select-control__control-input",id:"bwf-select-control-".concat(a,"__control-input"),ref:this.input,type:i?f:"button",value:this.getInputValue(),placeholder:p?u:"",onChange:this.updateSearch(s),onFocus:this.onFocus(s),onBlur:this.onBlur,onKeyDown:this.onKeyDown,role:"combobox","aria-autocomplete":"list","aria-expanded":c,"aria-haspopup":"true","aria-owns":l,"aria-controls":l,"aria-activedescendant":t,"aria-describedby":n&&o?"search-inline-input-".concat(a):null})}},{key:"getInputValue",value:function(){var e=this.props,t=e.inlineTags,n=e.isFocused,r=e.isSearchable,o=e.multiple,a=e.query,c=e.selected,i=c.length?c[0].label:"";return o||n||t?r&&n&&a?a:"":i}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.hasTags,a=t.help,i=t.inlineTags,l=t.instanceId,s=t.isSearchable,u=t.label,f=t.query,p=this.state.isActive;return Object(r.createElement)("div",{className:c()("components-base-control","bwf-select-control__control",n,{empty:!f||0===f.length,"is-active":p,"has-tags":i&&o,"with-value":this.getInputValue().length,"has-error":!!a}),onClick:function(){e.input.current.focus()}},s&&Object(r.createElement)("i",{className:"material-icons-outlined"},"search"),i&&Object(r.createElement)(q,this.props),Object(r.createElement)("div",{className:"components-base-control__field"},!!u&&Object(r.createElement)("label",{htmlFor:"bwf-select-control-".concat(l,"__control-input"),className:"components-base-control__label"},u),this.renderInput(),i&&Object(r.createElement)("span",{id:"search-inline-input-".concat(l),className:"screen-reader-text"},Object(m.__)("Move backward for selected items","wp-marketing-automations-crm")),!!a&&Object(r.createElement)("p",{id:"bwf-select-control-".concat(l,"__help"),className:"components-base-control__help"},a)))}}])&&$(t.prototype,n),o&&$(t,o),i}(r.Component);W.propTypes={hasTags:h.a.bool,help:h.a.oneOfType([h.a.string,h.a.node]),inlineTags:h.a.bool,isSearchable:h.a.bool,instanceId:h.a.number,label:h.a.string,listboxId:h.a.string,onBlur:h.a.func,onChange:h.a.func,onSearch:h.a.func,placeholder:h.a.string,query:h.a.string,selected:h.a.arrayOf(h.a.shape({key:h.a.oneOfType([h.a.number,h.a.string]).isRequired,label:h.a.string})),showAllOnFocus:h.a.bool};var Y=W;n(690);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe={isExpanded:!1,isFocused:!1,query:""},pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,o,a=ie(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state=re(re({},fe),{},{searchOptions:[],selectedIndex:0}),t.bindNode=t.bindNode.bind(se(t)),t.decrementSelectedIndex=t.decrementSelectedIndex.bind(se(t)),t.incrementSelectedIndex=t.incrementSelectedIndex.bind(se(t)),t.onAutofillChange=t.onAutofillChange.bind(se(t)),t.updateSearchOptions=Object(f.debounce)(t.updateSearchOptions.bind(se(t)),e.searchDebounceTime),t.search=t.search.bind(se(t)),t.selectOption=t.selectOption.bind(se(t)),t.setExpanded=t.setExpanded.bind(se(t)),t}return t=i,(n=[{key:"bindNode",value:function(e){this.node=e}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelected(),t=this.props.inlineTags,n=re({},fe);!t&&e.length&&e[0].label&&(n.query=e[0].label),this.setState(n)}},{key:"handleFocusOutside",value:function(){this.reset()}},{key:"hasTags",value:function(){var e=this.props,t=e.inlineTags,n=e.selected;return!!t&&(Array.isArray(n)?n.some((function(e){return Boolean(e.label)})):Boolean(n))}},{key:"getSelected",value:function(){var e=this.props,t=e.multiple,n=e.options,r=e.selected;if(t||Array.isArray(r))return t&&!Array.isArray(r)?Object(f.isEmpty)(r)?[]:[r]:r;var o=n.find((function(e){return e.key===r}));return o?[o]:[]}},{key:"selectOption",value:function(e){var t=this.props,n=t.multiple,r=t.onChange,o=t.selected,a=this.state.query,c=n?[].concat(ee(o),[e]):[e];this.reset(c),Array.isArray(o)?-1===Object(f.findIndex)(o,{key:e.key})&&r(c,a):o!==e.key&&r(e.key,a)}},{key:"decrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),n=null!==e?(0===e?t.length:e)-1:t.length-1;this.setState({selectedIndex:n})}},{key:"incrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),n=null!==e?(e+1)%t.length:0;this.setState({selectedIndex:n})}},{key:"announce",value:function(e){var t=this.props.debouncedSpeak;t&&(e.length?t(Object(m.sprintf)(Object(m._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length,"wp-marketing-automations-crm"),e.length),"assertive"):t(Object(m.__)("No results.","wp-marketing-automations-crm"),"assertive"))}},{key:"getOptions",value:function(){var e=this.props,t=e.isSearchable,n=e.options,r=e.excludeSelectedOptions,o=this.state.searchOptions,a=this.getSelected().map((function(e){return e.key})),c=t?o:n;return r?c.filter((function(e){return!a.includes(e.key)})):c}},{key:"getOptionsByQuery",value:function(e,t){for(var n=this.props,r=n.getSearchExpression,o=n.maxResults,a=n.onFilter,c=[],i=r(Object(f.escapeRegExp)(t?t.trim():"")),l=i?new RegExp(i,"i"):/^$/,s=0;s<e.length;s++){var u=e[s],p=u.keywords,b=void 0===p?[]:p;if("string"==typeof u.label&&(b=[].concat(ee(b),[u.label])),b.some((function(e){return l.test(e)}))&&(c.push(u),o&&c.length===o))break}return a(c,t)}},{key:"setExpanded",value:function(e){this.setState({isExpanded:e})}},{key:"search",value:function(e){var t=this,n=this.cacheSearchOptions||[],r=null===e||e.length||this.props.hideBeforeSearch?this.getOptionsByQuery(n,e):n;this.setState({query:e,isFocused:!0,selectedIndex:0,searchOptions:r},(function(){t.setState({isExpanded:Boolean(t.getOptions().length)})})),this.updateSearchOptions(e)}},{key:"updateSearchOptions",value:function(e){var t=this,n=this.props,r=n.hideBeforeSearch,o=n.options,a=n.onSearch,c=this.activePromise=Promise.resolve(a(o,e)).then((function(n){if(c===t.activePromise){t.cacheSearchOptions=n;var o=null===e||e.length||r?t.getOptionsByQuery(n,e):n;t.setState({selectedIndex:0,searchOptions:o},(function(){t.setState({isExpanded:Boolean(t.getOptions().length)}),t.announce(o)}))}}))}},{key:"onAutofillChange",value:function(e){var t=this.props.options,n=this.getOptionsByQuery(t,e.target.value);1===n.length&&this.selectOption(n[0])}},{key:"render",value:function(){var e=this.props,t=e.autofill,n=e.children,o=e.className,a=e.controlClassName,i=e.inlineTags,l=e.instanceId,s=e.isSearchable,u=e.options,f=e.multiple,p=this.state,b=p.isExpanded,d=p.isFocused,m=p.selectedIndex,y=this.hasTags(),h=(u[m]||{}).key,v=void 0===h?"":h,O=b?"bwf-select-control__listbox-".concat(l):null,g=b?"bwf-select-control__option-".concat(l,"-").concat(v):null;return Object(r.createElement)("div",{className:c()("bwf-select-control",o,{"has-inline-tags":y&&i,"is-focused":d,"is-searchable":s}),ref:this.bindNode},t&&Object(r.createElement)("input",{onChange:this.onAutofillChange,name:t,type:"text",className:"bwf-select-control__autofill-input",tabIndex:"-1"}),n,Object(r.createElement)(Y,Z({},this.props,this.state,{activeId:g,className:a,hasTags:y,isExpanded:b,listboxId:O,onSearch:this.search,selected:this.getSelected(),setExpanded:this.setExpanded,updateSearchOptions:this.updateSearchOptions,decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex})),!i&&f&&Object(r.createElement)(q,Z({},this.props,{selected:this.getSelected(),options:this.getOptions()})),b&&Object(r.createElement)(C,Z({},this.props,this.state,{activeId:g,listboxId:O,node:this.node,onSelect:this.selectOption,onSearch:this.search,options:this.getOptions(),decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex,setExpanded:this.setExpanded})))}}])&&ae(t.prototype,n),o&&ae(t,o),i}(r.Component);pe.propTypes={autofill:h.a.string,children:h.a.node,className:h.a.string,controlClassName:h.a.string,excludeSelectedOptions:h.a.bool,onFilter:h.a.func,getSearchExpression:h.a.func,help:h.a.oneOfType([h.a.string,h.a.node]),inlineTags:h.a.bool,isSearchable:h.a.bool,label:h.a.string,onChange:h.a.func,onSearch:h.a.func,options:h.a.arrayOf(h.a.shape({isDisabled:h.a.bool,key:h.a.oneOfType([h.a.number,h.a.string]).isRequired,keywords:h.a.arrayOf(h.a.oneOfType([h.a.string,h.a.number])),label:h.a.oneOfType([h.a.string,h.a.object]),value:h.a.any})).isRequired,placeholder:h.a.string,searchDebounceTime:h.a.number,selected:h.a.oneOfType([h.a.string,h.a.arrayOf(h.a.shape({key:h.a.oneOfType([h.a.number,h.a.string]).isRequired,label:h.a.string}))]),maxResults:h.a.number,multiple:h.a.bool,showClearButton:h.a.bool,searchInputType:h.a.oneOf(["text","search","number","email","tel","url"]),hideBeforeSearch:h.a.bool,showAllOnFocus:h.a.bool,staticList:h.a.bool},pe.defaultProps={autofill:null,excludeSelectedOptions:!0,getSearchExpression:f.identity,inlineTags:!1,isSearchable:!1,onChange:f.noop,onFilter:f.identity,onSearch:function(e){return Promise.resolve(e)},maxResults:0,multiple:!1,searchDebounceTime:0,searchInputType:"search",selected:[],showAllOnFocus:!1,showClearButton:!1,hideBeforeSearch:!1,staticList:!1};var be=Object(u.compose)([o.withSpokenMessages,u.withInstanceId,o.withFocusOutside])(pe),de=n(18);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ye(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ge=n(485);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Se=function(e){var t=e.value,n=void 0===t?"":t,o=e.onChange,a=e.id,i=e.label,l=e.className,s=we(e,["value","onChange","id","label","className"]);return Object(r.createElement)("div",{className:c()("components-richeditor",l)},i&&Object(r.createElement)("label",{className:"components-label components-richeditor-label",htmlFor:a},i),Object(r.createElement)(ge.a,je({content:n,setContent:function(e){o(e,a)},keyid:a},s)))},Ee=n(13),xe=n(7),ke=function(e){var t=e.label,n=e.copy_text,a=Object(r.useContext)(xe.b);return Object(r.createElement)("div",{className:c()("components-copier")},t&&Object(r.createElement)("label",{className:"components-label"},t),n&&Object(r.createElement)("div",{className:"bwf-display-flex"},Object(r.createElement)("span",{className:"bwf-copier-text"},n," "),Object(r.createElement)(o.Button,{className:"bwf-copier-icon",isSecondary:!0,onClick:function(){return e=n,(t=document.createElement("textarea")).value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),a(Object(m.__)("Copied to Clipboard","wp-marketing-automations-crm")),void Object(xe.M)(a,1e3);var e,t}},Object(r.createElement)(Ee.a,{icon:"duplicate",size:20}),"Copy")))},_e=n(16),Ce=n.n(_e),Pe=n(137);function Te(e,t,n,r,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae=function(e){var t=e.id,n=e.label,a=e.license,i=void 0===a?"":a,l=e.setSettingFieldSchema,s=Ie(Object(r.useState)(i?i.api_key:""),2),u=s[0],p=s[1],b=Ie(Object(r.useState)({loading:!1,status:!1}),2),d=b[0],y=b[1],h=Object(r.useContext)(xe.b),v=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]&&r[0],!Object(f.isEmpty)(u)){e.next=5;break}return h(Object(m.__)("Please enter licence key","wp-marketing-automations-crm")),Object(xe.M)(h,2e3),e.abrupt("return");case 5:return y({status:!0,loading:!0}),e.prev=6,e.next=9,Ce()({path:Object(xe.g)("/license/"),method:"POST",data:{name:t,action:n?"deactivate":"activate",key:u}}).then((function(e){200===e.code&&(bwfanParams.bwfan_global_settings_schema=e.result,n&&p(""),l(e.result),y({status:!0,success:e.message}))}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),y({status:!0,error:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[6,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){Te(a,r,o,c,i,"next",e)}function i(e){Te(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}(),O=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-display-flex",style:{justifyContent:"flex-start",paddingLeft:0}},Object(r.createElement)(o.TextControl,{className:"bwf-license-text-input",placeholder:Object(m.__)("Enter license key here","wp-marketing-automations-crm"),disabled:!1,value:u,autocomplete:"off",onChange:function(e){return p(e)}}),Object(r.createElement)(o.Button,{isSecondary:!0,onClick:function(){return v(!1)}},Object(m.__)("Activate","wp-marketing-automations-crm"))),Object(r.createElement)("p",{className:"bwf-license-text-label bwfan-error"},"This license has expired. Login to ",Object(r.createElement)("a",{target:"_blank",href:"https://account.buildwoofunnels.com/"},"Your Account")," and renew your license."))};return Object(r.createElement)("div",{className:c()("bwf-components-licence")},Object(xe.R)()&&n&&Object(r.createElement)("label",{className:"components-label"},n),Object(xe.R)()?function(){if(i.hasOwnProperty("expires")&&!Object(f.isEmpty)(i.expires)&&new Date>new Date(i.expires))return O();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-display-flex",style:{justifyContent:"flex-start",paddingLeft:0}},Object(r.createElement)(o.TextControl,{className:"bwf-license-text-input",placeholder:Object(m.__)("Enter license key here","wp-marketing-automations-crm"),disabled:!!i,value:i?"xxxxxxxxxxxxxxxxxxxxxxxxxx"+u.substring(26):u,autocomplete:"off",onChange:function(e){return p(e)}}),Object(r.createElement)(o.Button,{isSecondary:!0,onClick:function(){return v(i)}},i?Object(m.__)("Deactivate","wp-marketing-automations-crm"):Object(m.__)("Activate","wp-marketing-automations-crm"))),Object(r.createElement)("p",{className:"bwf-license-text-label"},i?i.expires?Object(r.createElement)(r.Fragment,null,Object(m.__)("Renews on ","wp-marketing-automations-crm"),Object(xe.B)(i.expires)):Object(m.__)("Lifetime license","wp-marketing-automations-crm"):""))}():Object(r.createElement)("div",null,Object(r.createElement)("p",null,Object(m.__)("You are using Autonami lite plugin, no license needed ! ","wp-marketing-automations-crm")),Object(r.createElement)("p",null,Object(m.__)("To unlock more features consider ","wp-marketing-automations-crm"),Object(r.createElement)("a",{className:"bwf-a-no-underline",href:"https://buildwoofunnels.com/wordpress-marketing-automation-autonami/"},Object(m.__)("Upgrading to PRO","wp-marketing-automations-crm")))),Object(r.createElement)(Pe.a,{confirmText:d.confirmText,confirmButtonText:d.buttonConfirm,cancelButtonText:d.buttonCancel,onConfirm:d.onConfirm,isLoading:d.loading,successMessage:d.success,errorMessage:d.error,onRequestClose:function(){return y({status:!1})},isOpen:d.status}))},Re=n(174),Be=n(124);function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=function(e){var t=e.label,n=e.value,o=void 0===n?[]:n,a=e.id,i=e.onChange,l=void 0===i?f.noop:i,s=Fe(Object(r.useState)([]),2),u=s[0],p=s[1];Object(r.useEffect)((function(){Object(f.isEmpty)(o)||p(JSON.parse(o))}),[]);var b=u&&u.map((function(e){return{key:e.id,label:e.name}}));return Object(r.createElement)("div",{className:c()("components-tag-selector")},t&&Object(r.createElement)("label",{className:"components-label"},t),Object(r.createElement)(Be.a,{autocompleter:Re.a,multiple:!0,allowFreeTextSearch:!1,inlineTags:!0,selected:b,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),p(e),l(JSON.stringify(e),a)},onRemoveTag:function(e){p(u.filter((function(t){return t.id!==e})))},id:a,placeholder:Object(m.__)("Search by name","wp-marketing-automations-crm"),showClearButton:!1,disabled:!1}))};n(691);function Me(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||Ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=function(e){var t=e.options,n=e.onChange,a=e.label,c=e.selected,i=void 0===c?[]:c,l=qe(Object(r.useState)(i),2),s=l[0],u=l[1],f=Object(r.useCallback)((function(e,t){var r=t?[].concat(Me(s),[e]):s.filter((function(t){return t!==e}));u(r),n&&n(r)}),[s,u,n]);return t?Object(r.createElement)("div",{className:"components-tag-selector bwfan-checkbox-grid"},a&&Object(r.createElement)("label",{className:"components-label"},a),Object(r.createElement)("div",{className:"bwfan-checkboxes-inner"},Object.keys(t).map((function(e){return Object(r.createElement)(o.CheckboxControl,{key:e,checked:s.includes(e),onChange:function(t){return f(e,t)},label:t[e]})})))):Object(r.createElement)("p",null,Object(m.__)("No options available to check","wp-marketing-automations-crm"))};function $e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge={checkbox:function(e){var t=e.label,n=e.checkboxlabel,a=d(e,["label","checkboxlabel"]);return Object(r.createElement)(o.CheckboxControl,b({heading:t,label:n},a))},radio:function(e){var t=e.label,n=e.className,a=e.selected,i=e.help,l=e.onChange,s=e.hideLabelFromVision,p=e.options,b=void 0===p?[]:p,d=($e(e,["label","className","selected","help","onChange","hideLabelFromVision","options"]),Object(u.useInstanceId)(RadioControl)),m="inspector-radio-control-".concat(d),y=function(e){return l(e.target.value)};return!Object(f.isEmpty)(b)&&Object(r.createElement)(o.BaseControl,{label:t,id:m,hideLabelFromVision:s,help:i,className:c()(n,"components-radio-control")},b.map((function(e,t){return Object(r.createElement)("div",{key:"".concat(m,"-").concat(t),className:"components-radio-control__option"},Object(r.createElement)("input",{id:"".concat(m,"-").concat(t),className:"components-radio-control__input",type:"radio",name:m,value:e.value,onChange:y,checked:e.value===a,"aria-describedby":i?"".concat(m,"__help"):void 0}),Object(r.createElement)("label",{htmlFor:"".concat(m,"-").concat(t)},e.label))})))},select:be,textarea:o.TextareaControl,text:o.TextControl,input:o.TextControl,checklist:function e(t){var n=t.label,o=void 0===n?"":n,a=t.options,l=void 0===a?[]:a,b=t.value,d=void 0===b?[]:b,m=t.onChange,y=void 0===m?f.noop:m,h=t.className,v=t.help;if(p(t,["label","options","value","onChange","className","help"]),Object(f.isEmpty)(l))return null;d=Array.isArray(d)?d:[];var O="inspector-checklist-".concat(Object(u.useInstanceId)(e)),g=function(e){!0===e.target.checked?d.includes(e.target.value)||d.push(e.target.value):d=d.filter((function(t){return t!==e.target.value})),y(d,{event:e})};return Object(r.createElement)("div",{className:c()("components-checklist",h)},o&&Object(r.createElement)("label",{className:"components-label components-checklist-label",htmlFor:O},o),Object(r.createElement)("div",{className:"component-checklist-option-wrap"},l.map((function(e,t){return Object(r.createElement)("div",{key:"".concat(O,"-").concat(t),className:"components-checklist__option"},Object(r.createElement)("span",{className:"components-checklist__input-container"},Object(r.createElement)("input",{id:"".concat(O,"-").concat(t),className:"components-checklist__input",type:"checkbox",value:e.value,onChange:g,checked:d.includes(e.value),"aria-describedby":v?"".concat(O,"__help"):void 0}),d.includes(e.value)?Object(r.createElement)(i.a,{icon:s,className:"components-checklist__checked",role:"presentation"}):null),Object(r.createElement)("label",{htmlFor:"".concat(O,"-").concat(t)},e.label),e.hint&&Object(r.createElement)("div",{className:"hint checklist-hint",dangerouslySetInnerHTML:{__html:e.hint}}))}))))},ajax:function(e){var t=e.ajax_cb,n=e.options,o=void 0===n?[]:n,a=Oe(e,["ajax_cb","options"]),c=he(Object(r.useState)(o),2),i=c[0],l=c[1],s=he(Object(r.useState)(!1),2),u=s[0],p=s[1];Object(r.useEffect)((function(){Object(f.isEmpty)(i)&&b()}),[i]);var b=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(bwfanParams.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},credentials:"same-origin",body:Object(de.stringify)({action:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,o=(o=Array.isArray(r.results)?r.results:[]).map((function(e){return"object"!==e.value&&(e.key||"object"===e.value||(e.key=e.value),e.value={id:e.value}),e})),l(o),p(!0);case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){ye(a,r,o,c,i,"next",e)}function i(e){ye(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,u?Object(r.createElement)(be,me({options:i},a)):Object(r.createElement)("div",{className:"setting-form-field"},Object(r.createElement)("div",{className:"is-placeholder long"})))},richeditor:Se,copier:ke,license:Ae,tagselector:Le,para:function(e){var t=e.children;return Object(r.createElement)("p",null,t)},wp_select:o.SelectControl,redirect_button:function(e){var t=e.redirect_url,n=e.label,a=e.btntype,c=void 0===a?"primary":a,i=e.newtab,l=void 0===i?"":i;switch(c){case"secondary":return Object(r.createElement)(o.Button,{isSecondary:!0,onClick:function(){return window.open(t,l)}},n);case"tertiary":return Object(r.createElement)(o.Button,{isTertiary:!0,onClick:function(){return window.open(t,l)}},n);default:return Object(r.createElement)(o.Button,{isPrimary:!0,onClick:function(){return window.open(t,l)}},n)}},checkbox_grid:Ue,notice:function(e){var t=e.status,n=e.message,a=e.dismiss,c=void 0!==a&&a;return Object(r.createElement)(o.Notice,{status:t,isDismissible:c,className:"bwf-setting-notice"},n)}};t.a=function(e){var t=e.input,n=e.formProps,a=e.values,i=e.setSettingFieldSchema,l=Ge.text;if(t.type.toLowerCase()in Ge&&(l=Ge[t.type.toLowerCase()]),t.ajax_cb&&(l=Ge.ajax),"select"===t.type&&t.multiple&&!Object(f.isEmpty)(a)){var s=a[t.id];if(Object(f.isEmpty)(s))a[t.id]=[];else if(!Object(f.isEmpty)(t.options)&&"string"==typeof s[0]){var u=[];t.options.forEach((function(e){if(void 0===e.key)if("string"==typeof e.value&&s.includes(e.value)){var t={};t.key=e.value,t.label=e.label,t.value={id:e.value},u.push(t)}else if("string"==typeof e.value.id&&s.includes(e.value.id)){var n={};n.key=e.value,n.label=e.label,n.value={id:e.value},u.push(n)}})),a[t.id]=u}}var p,b;return Object(r.createElement)("div",{className:c()("form-group",t.class,"text"!==t.type&&"field--"+t.type,{"inline-group":!t.label})},"disabled"===t.type?Object(r.createElement)(o.TextControl,{disabled:!0,value:t.value,label:t.label}):Object(r.createElement)(l,Je(Je({label:!0===t.required?Object(r.createElement)(r.Fragment,null,t.label," ",Object(r.createElement)("span",{style:{color:"red"}},"*")):t.label},(p=t,b=Object.assign({},p.props),p.type.toLowerCase()in Ge||(b.type=p.type.toLowerCase()),b.placeholder=p.placeholder,b.options=p.options,p.checkboxlabel&&(b.checkboxlabel=p.checkboxlabel),p.multiple&&(b.multiple=p.multiple),p.ajax_cb&&(b.ajax_cb=p.ajax_cb),"copier"!==p.type&&"license"!=p.type&&"tagselector"!=p.type&&"para"!=p.type&&"redirect_button"!=p.type&&"checkbox_grid"!=p.type&&"notice"!=p.type||(b=Je(Je({},p),{},{setSettingFieldSchema:i})),"select"===p.type&&(b.excludeSelectedOptions=!1,b.options&&(b.options=b.options.map((function(e){var t=Je({},e);return"object"!==He(e.value)&&(t.key="object"!==He(e.value)?e.value:e.key,t.value={id:e.value}),t}))),p.multiple&&(b.excludeSelectedOptions=!0,b.inlineTags=!0)),"richeditor"===p.type&&(b.id=p.id),"text"===p.type&&p.disabled&&(b.disabled=p.disabled),b)),n)),t.hint&&Object(r.createElement)("div",{className:"hint",dangerouslySetInnerHTML:{__html:t.hint}}))}},689:function(e,t,n){},690:function(e,t,n){},691:function(e,t,n){}}]);