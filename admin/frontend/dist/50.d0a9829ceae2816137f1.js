(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{109:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},111:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(15),c=n.n(o),i=n(9),s=n(33),u=n(8),l=n.n(u),m=n(94),f=(n(138),function(e){var t=e.id,n=e.instanceId,o=e.isVisible,u=e.label,l=e.popoverContents,m=e.remove,f=e.screenReaderLabel,b=e.setState,p=e.className;if(f=f||u,!u)return null;u=Object(s.decodeEntities)(u);var d=c()("bwf-tag",p,{"has-remove":!!m}),O="bwf-tag-label-".concat(n),g=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},f),Object(r.createElement)("span",{"aria-hidden":"true"},u));return Object(r.createElement)("span",{className:d},l?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:O,onClick:function(){return b((function(){return{isVisible:!0}}))}},g):Object(r.createElement)("span",{className:"bwf-tag-text",id:O},g),l&&o&&Object(r.createElement)(i.Popover,{onClose:function(){return b((function(){return{isVisible:!1}}))}},l),m&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return m(t,u)},label:Object(a.sprintf)(Object(a.__)("Remove %s","wp-marketing-automations-crm"),u),"aria-describedby":O},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});f.propTypes={id:l.a.oneOfType([l.a.number,l.a.string]),label:l.a.string.isRequired,popoverContents:l.a.node,remove:l.a.func,screenReaderLabel:l.a.string},t.a=Object(m.withState)({isVisible:!1})(Object(m.withInstanceId)(f))},112:function(e,t,n){"use strict";var r=n(24),a=n(48);t.a=function(e){var t=Object(r.b)(),n=Object(a.a)(e),o=n.setLoading,c=n.fetch,i=n.clearError,s=n.setStateProp;return{setLoading:function(e){return t(o(e))},fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(c(e,n,r,a))},clearError:function(){return t(i())},setStateProp:function(e,n){return t(s(e,n))}}}},114:function(e,t,n){"use strict";var r=n(112),a=n(44);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("menu").setStateProp,t=(0,Object(a.a)().getActive)();return{setActive:function(n,r){return e("active",c(c({},t),{},i({},n,r)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},117:function(e,t,n){"use strict";var r=n(0),a=n(8),o=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,a,o=u(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).scrollTo=t.scrollTo.bind(m(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},e)}}])&&i(t.prototype,n),a&&i(t,a),c}(r.Component);b.propTypes={offset:o.a.string},b.defaultProps={offset:"0"},t.a=b},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},121:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},123:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(5),c=n(8),i=n.n(c),s=n(15),u=n.n(s),l=(n(134),n(160));function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,o,c=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(j(t)),t.fetchOptions=t.fetchOptions.bind(j(t)),t.updateSelected=t.updateSelected.bind(j(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){b(o,r,a,c,i,"next",e)}function i(e){b(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(a.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(m(r.getFreeTextOptions(t,e)),m(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,o=t.placeholder,c=t.selected,i=t.showClearButton,s=t.staticResults,m=t.disabled,f=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(l.a,{className:u()("bwf-search",n,{"is-static-results":s}),disabled:m,hideBeforeSearch:!1,inlineTags:a,isSearchable:!0,label:o,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:o,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:f,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:c,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),o&&d(t,o),i}(r.Component);h.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},h.defaultProps={allowFreeTextSearch:!1,onChange:o.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=h},124:function(e,t,n){"use strict";var r=n(50),a=n.n(r),o=n(0),c=n(4),i=(n(118),n(144));var s=n(147);function u(e,t){var n=e.precision,r=void 0===n?null:n,a=e.decimalSeparator,o=void 0===a?".":a,c=e.thousandSeparator,u=void 0===c?",":c;if("number"!=typeof t&&(t=parseFloat(t)),isNaN(t))return"";if(r=parseInt(r),isNaN(r)){var l=t.toString().split("."),m=Object(i.a)(l,2)[1];r=m?m.length:0}return s(t,r,o,u)}var l=n(96),m=n.n(l);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t;function n(e){var n=b(b({},{code:"USD",symbol:"$",symbolPosition:"left",thousandSeparator:",",decimalSeparator:".",precision:2}),e);t={code:n.code.toString(),symbol:n.symbol.toString(),symbolPosition:n.symbolPosition.toString(),decimalSeparator:n.decimalSeparator.toString(),priceFormat:a(n),thousandSeparator:n.thousandSeparator.toString(),precision:parseInt(n.precision,10)}}function r(e){var n=u(t,e);if(""===n)return n;var r=t,a=r.priceFormat,o=r.symbol;return Object(c.sprintf)(a,o,n)}function a(e){if(e.priceFormat)return t=e.priceFormat.toString(),(n=document.createElement("DIV")).innerHTML=t,n.textContent||n.innerText||"";var t,n;switch(e.symbolPosition){case"left":return"%1$s%2$s";case"right":return"%2$s%1$s";case"left_space":return"%1$s&nbsp;%2$s";case"right_space":return"%2$s&nbsp;%1$s"}return"%1$s%2$s"}return n(e),{getCurrencyConfig:function(){return b({},t)},setCurrency:n,formatAmount:r,formatCurrency:function(e){return m()("Currency().formatCurrency",{version:"5.0.0",alternative:"Currency().formatAmount",plugin:"WooCommerce",hint:"`formatAmount` accepts the same arguments as formatCurrency"}),r(e)},getPriceFormat:a,formatDecimal:function(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return 0;var n=t.precision;return Math.round(e*Math.pow(10,n))/Math.pow(10,n)},formatDecimalString:function(e){if("number"!=typeof e&&(e=parseFloat(e)),Number.isNaN(e))return"";var n=t.precision;return e.toFixed(n)},render:function(e){return"number"!=typeof e&&(e=parseFloat(e)),e<0?Object(o.createElement)("span",{className:"is-negative"},r(e)):r(e)}}}},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),a=n(109),o=n(120),c=n(121),i=n(9),s=n(4);t.a=function(e){var t=e.confirmText,n=void 0===t?"":t,u=e.confirmButtonText,l=void 0===u?"":u,m=e.cancelButtonText,f=void 0===m?"":m,b=e.onConfirm,p=void 0===b?function(){}:b,d=e.isLoading,O=void 0!==d&&d,g=e.successMessage,v=void 0===g?"":g,j=e.errorMessage,y=void 0===j?"":j,h=e.onRequestClose,w=e.isOpen,E=void 0!==w&&w,_=e.confirmDescription,k=void 0===_?"":_,P=e.isDelete,S=void 0!==P&&P;Object(r.useEffect)((function(){(v||y)&&setTimeout((function(){h&&h()}),2e3)}),[v,y]);return E?Object(r.createElement)(i.Modal,{title:"",onRequestClose:function(){return h()},className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},S&&Object(r.createElement)("div",{className:"bwf-h4"},Object(s.__)("Delete","wp-marketing-automations-crm")),O&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(a.a,null)),!!v&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(o.a,null),Object(r.createElement)("div",{className:"bwf-h1"},v)),!!y&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(c.a,null),Object(r.createElement)("div",{className:"bwf-h1"},y)),!O&&!v&&!y&&Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},S?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h2"},Object(s.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(s.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h1"},n),!!k&&Object(r.createElement)("p",null,k)),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:S?"bwf_text_right":""},Object(r.createElement)(i.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){h&&h()}},f),Object(r.createElement)(i.Button,{isPrimary:!0,onClick:function(){p&&p()},className:S?"bwf-delete-btn":""},l)))):null}},138:function(e,t,n){},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(142);function a(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},142:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(141);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},147:function(e,t,n){"use strict";e.exports=function(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,c=void 0===r?",":r,i=void 0===n?".":n,s="";return(s=(o?function(e,t){if(-1===(""+e).indexOf("e"))return+(Math.round(e+"e+"+t)+"e-"+t);var n=(""+e).split("e"),r="";return+n[1]+t>0&&(r="+"),(+(Math.round(+n[0]+"e"+r+(+n[1]+t))+"e-"+t)).toFixed(t)}(a,o).toString():""+Math.round(a)).split("."))[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(s[1]||"").length<o&&(s[1]=s[1]||"",s[1]+=new Array(o-s[1].length+1).join("0")),s.join(i)}},186:function(e,t,n){"use strict";var r=n(118),a=n(25),o=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,s=Object(a.a)(e,["icon","size"]);return Object(o.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},s))}},195:function(e,t,n){"use strict";var r=n(0),a=n(93),o=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=o},196:function(e,t,n){"use strict";var r=n(0),a=n(93),o=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=o},202:function(e,t,n){"use strict";var r=n(0),a=n(93),o=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));t.a=o},203:function(e,t,n){"use strict";var r=n(0),a=n(93),o=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));t.a=o},242:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(8),c=n.n(o),i=n(111),s=(n(255),n(13)),u=function(e){var t=e.items;return Object(r.createElement)(i.a,{className:"bwf-view-more-list",label:Object(r.createElement)("span",{className:"bwf-display-flex"},Object(r.createElement)("span",{className:"bwf-view-more-label"},Object(a.sprintf)(Object(a.__)("+%d ","bwf-admin"),t.length-1)),Object(r.createElement)(s.a,{icon:"tailless-arrow-down"})),popoverContents:Object(r.createElement)("ul",{className:"bwf-view-more-list__popover"},t.map((function(e,t){return Object(r.createElement)("li",{key:t,className:"bwf-view-more-list__popover__item"},e)})))})};u.propTypes={items:c.a.arrayOf(c.a.node)},u.defaultProps={items:[]},t.a=u},245:function(e,t,n){"use strict";var r=n(0),a=n(15),o=n.n(a),c=n(31),i=(n(256),n(13)),s=n(5),u=n(7),l=n(9);t.a=function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,m=e.center,f=void 0!==m&&m,b=e.isDismissive,p=void 0!==b&&b,d=e.onDismisal,O=void 0===d?function(){}:d;if(Object(s.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:o()("bwf-zero-state",a,{"bwf-block-t-center":f})},p&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return O()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(i.a,{icon:"plus",color:"#444"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(c.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(c.a,{key:"layout-block-"+t,className:o()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(c.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(c.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),!Object(u.O)()&&!e.hasOwnProperty("isDummy")&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"}))))})));case"buttons":return Object(r.createElement)(c.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(l.Button,{isPrimary:!0,onClick:e.onClick},e.text,!Object(u.O)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"})))})));default:return Object(r.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content&&Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}}))}}(e.type,e.data))}))))}},255:function(e,t,n){},256:function(e,t,n){},461:function(e,t,n){"use strict";var r=n(114),a=n(0),o=n(4),c=n(7),i=function(e){var t={workflow:{name:Object(o.__)("Workflow","wp-marketing-automations"),link:"admin.php?page=autonami-automations&edit=".concat(e)},engagement:{name:Object(o.__)("Engagement","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(e,"/engagement")}};return Object(c.V)()&&(t.orders={name:Object(o.__)("Orders","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(e,"/orders")}),t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},f=m.automation_nav,b=Object(r.a)(),p=b.setActiveMultiple,d=b.resetHeaderMenu,O=b.setL2NavType,g=b.setL2Nav,v=b.setBackLink,j=b.setL2Title,y=b.setL2Content,h=b.setBackLinkLabel,w=b.setL2NavAlign,E=b.setPageHeader;return Object(a.useEffect)((function(){d(),!c&&O("menu"),g(u?i(u):f),p({leftNav:"automations",rightNav:e}),n&&v(n),n&&u&&v("admin.php?page=autonami-automations&edit=".concat(u)),c&&h(Object(o.__)("All Automations","wp-marketing-automations-crm")),u&&h(Object(o.__)("Back to Automation","wp-marketing-automations-crm")),u&&w("right"),t&&j(t),!n&&s&&y(s),E("Automations"),l&&g({})}),[e]),!0}},497:function(e,t,n){"use strict";var r=n(0),a=n(116),o=n.n(a),c=n(16),i=n.n(c),s=n(17),u=n(125),l=n.n(u),m=n(108),f=n.n(m),b=n(4),p=n(7);function d(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var O=function(e){return e.name};t.a={name:"automation",className:"bwf-search-bwf-automation-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o()(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return n={search:t,type:1,limit:5,offset:0},e.next=5,i()({path:Object(p.f)("/analytics/engagements/search?"+Object(s.stringify)(n)),method:"GET"});case 5:return r=e.sent,a=l()(r,"result")?r.result.map((function(e){return{key:e.id,name:e.title,label:e.title}})):[],e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){d(o,r,a,c,i,"next",e)}function i(e){d(o,r,a,c,i,"throw",e)}c(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.ID},getOptionKeywords:function(e){return[e.name]},getFreeTextOptions:function(e,t){return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},f()({mixedString:Object(b.__)("All Automation with names that include {{query /}}","wp-marketing-automations-crm"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e,tags:t.map((function(e){return l()(e,"value")?e.value:e})),searchTerm:e}}]},getOptionLabel:function(e,t){var n=Object(p.e)(O(e),t)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":O(e)},n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(e){return e}}},503:function(e,t,n){"use strict";var r=n(46),a=n(55);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("automationList"),t=e.getStateProp,n=s(e,["getStateProp"]),o=Object(r.a)(a.a.recipient).getStateProp,i=Object(r.a)(a.a.conversion).getStateProp;return c(c({},n),{},{getAutomations:function(){return t("automations")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getRecipientData:function(){return o("data")},getRecipientLoading:function(){return o("isLoading")},getRecipientOffset:function(){return o("offset")},getRecipientAutomationId:function(){return o("automationId")},getRecipientTotal:function(){return o("total")},getRecipientPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getRecipientLimit:function(){return o("limit")},getConversionData:function(){return i("data")},getConversionLoading:function(){return i("isLoading")},getConversionOffset:function(){return i("offset")},getConversionAutomationId:function(){return i("automationId")},getConversionTotal:function(){return i("total")},getConversionPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getConversionLimit:function(){return i("limit")},getCountData:function(){return t("countData")}})}},504:function(e,t,n){"use strict";var r=n(112),a=n(7),o=n(55);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("automationList"),t=e.fetch,n=e.setStateProp,c=u(e,["fetch","setStateProp"]),s=Object(r.a)(o.a.recipient),l=s.fetch,m=s.setStateProp,f=Object(r.a)(o.a.conversion),b=f.fetch,p=f.setStateProp;return i(i({},c),{},{fetch:function(e,n,r,o){var c=n.s,i=(n.page,n.filter,n.path,{offset:r,limit:o,status:e,search:c,filters:u(n,["s","page","filter","path"])});t("GET",Object(a.f)("/automations"),i)},setAutomationListValues:function(e,t){n(e,t)},fetchRecipient:function(e,t,n){l("GET",Object(a.f)("/automation/".concat(e,"/recipients?limit=").concat(t,"&offset=").concat(n)))},setRecipientsValues:function(e,t){m(e,t)},fetchConversion:function(e,t,n){b("GET",Object(a.f)("/automation/".concat(e,"/conversions?limit=").concat(t,"&offset=").concat(n)))},setConversionValues:function(e,t){p(e,t)}})}},797:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(117),o=n(4),c=n(130),i=n(503),s=n(504),u=n(5),l=n(45),m=n(47),f=n(31),b=n(9),p=n(137),d=n(16),O=n.n(d),g=n(7),v=n(123),j=n(116),y=n.n(j),h=n(163),w=n.n(h),E=n(125),_=n.n(E),k=n(20),P=n(497);function S(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var N=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",a=y()(n)?[]:[{key:n,label:Object(o.__)("Search Term: ","wp-marketing-automations-crm")+n,bwfLabelSource:"bwfcrm_contacts",isSearchTerm:!0}],c=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w()(n)){e.next=2;break}return e.abrupt("return");case 2:if(r=n.find((function(e){return _()(e,"searchTerm")})),!(Object(u.isUndefined)(r)&&n.length>0&&n[0].hasOwnProperty("key"))){e.next=6;break}return window.location.href="admin.php?page=autonami-automations&edit="+n[0].key,e.abrupt("return");case 6:if(a=Object(u.isUndefined)(r)?void 0:r.searchTerm,o=_()(t,"s")&&!y()(t.s)?t.s:"",a!==o){e.next=10;break}return e.abrupt("return");case 10:Object(k.j)({s:a},"/automations",t);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){S(o,r,a,c,i,"next",e)}function i(e){S(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(r.createElement)(v.a,{autocompleter:P.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:a,onChange:c,placeholder:Object(o.__)("Search by name","wp-marketing-automations-crm"),showClearButton:!0,disabled:!1})},C=n(15),x=n.n(C),T=n(461),A=n(120),L=n(121),I=n(109);function R(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=function(e){var t=D(Object(r.useState)(!1),2),n=t[0],a=t[1],c=D(Object(r.useState)(""),2),i=c[0],s=c[1],u=D(Object(r.useState)({}),2),l=u[0],m=u[1],f=D(Object(r.useState)(null),2),p=f[0],d=f[1],v=e.onCloseModal;Object(r.useEffect)((function(){a(!1),m({}),d("")}),[]);var j=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return s("Automation title is required field"),e.abrupt("return");case 3:return s(""),a(!0),e.prev=5,e.next=8,O()({path:Object(g.f)("/automations/create/"),method:"POST",data:{title:p}});case 8:if(!((t=e.sent)&&t.result&&t.result.automation_id)){e.next=12;break}return window.location.href="admin.php?page=autonami-automations&edit="+t.result.automation_id,e.abrupt("return");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),a(!1),m({error:!0,message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){R(o,r,a,c,i,"next",e)}function i(e){R(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.createElement)(b.Modal,{title:Object(o.__)("New Automation","wp-marketing-automations-crm"),className:"bwf-admin-modal bwf-admin-modal-medium",onRequestClose:function(){return v()}},i&&Object(r.createElement)(b.Notice,{status:"error",onRemove:function(){return s("")}},i),n||l&&l.error||l&&l.success?l&&l.success&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(A.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):l&&l.error&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(L.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):Object(r.createElement)(I.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&j()}},Object(r.createElement)(b.TextControl,{placeholder:Object(o.__)("Enter Name","wp-marketing-automations-crm"),autoFocus:!0,label:Object(o.__)("Name","wp-marketing-automations-crm"),value:p,onChange:function(e){return d(e)},disabled:n}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(b.Button,{onClick:function(){return v()},isTertiary:!0},Object(o.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(b.Button,{isPrimary:!0,disabled:n,onClick:j},Object(o.__)("Add","wp-marketing-automations-crm")))))},B=n(13),z=n(242),q=n(124),V=n(44),$=n(114),H=n(245);function G(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){G(o,r,a,c,i,"next",e)}function i(e){G(o,r,a,c,i,"throw",e)}c(void 0)}))}}function K(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||X(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||X(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(e){var t=e.type,n=e.query,a=n.s,d=Object(s.a)(),v=Object(i.a)(),j=d.fetch,y=d.setAutomationListValues,h=v.getAutomations,w=v.getPageNumber,E=v.getPerPageCount,_=v.getTotalCount,P=v.getOffset,S=v.getLoadingStatus,C=v.getCountData,A=Z(Object(r.useState)({loading:!1,status:!1}),2),L=A[0],I=A[1],R=Z(Object(r.useState)(0),2),D=R[0],F=R[1],G=Z(Object(r.useState)(0),2),J=G[0],W=G[1],X=Z(Object(r.useState)(!1),2),Y=X[0],ee=X[1],te=h(),ne=P(),re=E(),ae=S(),oe=_(),ce=w(),ie=C(),se="all";Object(u.isEmpty)(t)||("active"===t?se=1:"inactive"===t&&(se=2));var ue=Object(q.a)(Object(g.F)()).formatAmount;Object(r.useEffect)((function(){j(se,n,ne,re)}),[ne,re,t,a]);var le=Object(r.createElement)(r.Fragment,null,Object(r.createElement)(b.Button,{isPrimary:!0,onClick:function(){return ee(!0)},className:"bwf-display-flex"},Object(o.__)("Add New","wp-marketing-automations-crm"))),me=Object(V.a)().getPageCountData,fe=Object($.a)().setPageCountData,be=me();Object(r.useEffect)((function(){fe(Q(Q({},be),ie));var e=0,t=0;ie.hasOwnProperty("status_count")&&(ie.status_count.hasOwnProperty("active")&&(t=parseInt(ie.status_count.active)),ie.status_count.hasOwnProperty("inactive")&&(e=parseInt(ie.status_count.inactive))),F(t),W(e)}),[ie]),Object(T.a)("automations","","",!1,le,0);var pe=[{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"title",label:Object(o.__)("Name","wp-marketing-automations-crm"),isLeftAligned:!0,required:!0},{key:"event",label:Object(o.__)("Event","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"actions",label:Object(o.__)("Actions","wp-marketing-automations-crm"),isLeftAligned:!0},{key:"tasks",label:Object(o.__)("Tasks","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-400 bwf-pipe-list"},{key:"total_run",label:Object(o.__)("Total Runs","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-120"},Object(g.V)()&&{key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations-crm"),cellClassName:"bwf-col-center bwf-w-120"},{key:"status",label:Object(o.__)("Status","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-60"}],de=function(e){e!==re&&y("limit",e)},Oe=function(e){var t=[],n="";return Object(u.isEmpty)(e.automation_actions)||Object.entries(e.automation_actions).map((function(e){var r=Z(e,2),a=(r[0],r[1]);Object(u.isEmpty)(n)&&(n=a[0]),t=[].concat(K(t),K(a))})),Object(r.createElement)(r.Fragment,null,Object(u.isEmpty)(n)?"-":Object(r.createElement)(r.Fragment,null,!Object(u.isEmpty)(n)&&n,!Object(u.isEmpty)(t)&&t.length>1&&Object(r.createElement)(z.a,{items:t})))},ge=function(){var e=U(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I({status:!0,loading:!0}),e.prev=1,e.next=4,O()({path:Object(g.f)("/automations"),method:"DELETE",data:{automation_ids:[t]}}).then((function(e){200===e.code&&(I({status:!0,success:e.message}),setTimeout((function(){j(se,n,0,re)}),1e3))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),I({status:!0,error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=U(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I({status:!0,loading:!0}),e.prev=1,e.next=4,O()({path:Object(g.f)("/automations/".concat(t,"/duplicate")),method:"POST"}).then((function(e){200===e.code&&(I({status:!0,success:e.message}),j(se,n,0,re))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),I({status:!0,error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),je=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()},ye=function(){var e=U(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,n=a.length>1&&void 0!==a[1]?a[1]:"automation",I({status:!0,loading:!0}),r="",r=t?Object(g.f)("/automations/".concat(t,"/export")):Object(g.f)("/automations/export/"),e.prev=5,e.next=8,O()({path:r,method:"GET"}).then((function(e){200===e.code&&(je(e.result,n),I({status:!0,success:Object(o.__)("File Exported Successfully","wp-marketing-automations-crm")}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),I({status:!0,error:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),he=function(e){switch(parseInt(e.status)){case 1:return Object(o.__)("Active","wp-marketing-automations-crm");default:return Object(o.__)("Inactive","wp-marketing-automations-crm")}},we=function(e){return Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+e.id,className:"bwf-a-no-underline"},Object(r.createElement)("b",null,e.name))},Ee=function(e){return Object(r.createElement)(r.Fragment,null,e.event?e.event:Object(o.__)("Not Found","wp-marketing-automations-crm"))},_e=(Object(r.createElement)("div",{title:Object(o.__)("Event doesn't exists. Kindly check the Automation and re-save it","wp-marketing-automations-crm")},Object(r.createElement)(B.a,{icon:"info"})),Object(r.createElement)("div",{title:Object(o.__)("Automation is correctly configured","wp-marketing-automations-crm")},Object(r.createElement)(B.a,{icon:"tick"})),function(e){var t="-";return Object(u.isEmpty)(e.tasks_count)||(t=Object.entries(e.tasks_count).map((function(t){var a=Z(t,2),o=(a[0],a[1]);return Object(r.createElement)(f.c,null,Object(r.createElement)(b.Tooltip,{text:o.name,position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},o.count>0?Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(k.j)({path:"/automations/task-history/".concat(o.name.toLowerCase()),automation:e.id},"/",n)},style:{display:"inline-flex"}},Object(r.createElement)(B.a,{icon:"status-"+o.name.toLowerCase(),width:18,height:18})," ",o.count):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B.a,{icon:"status-"+o.name.toLowerCase(),width:18,height:18})," ",o.count))))}))),Object(r.createElement)(f.a,{gap:2,justify:"center"},t)}),ke=Array.isArray(te)?te.map((function(e){return[{display:(t=e,Object(r.createElement)(l.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations-crm"),menuPosition:"bottom right",renderContent:function(e){var n=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(m.a,null,Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+t.id,className:"bwf-a-no-underline"},Object(r.createElement)(f.a,{justify:"flex-start"},Object(r.createElement)(f.c,null,Object(r.createElement)(B.a,{icon:"edit"})),Object(r.createElement)(f.c,null,Object(o.__)("Edit","wp-marketing-automations-crm"))))),Object(r.createElement)(m.a,{isClickable:!0,onInvoke:function(){I({status:!0,loading:!0}),ve(t.id),n()}},Object(r.createElement)(f.a,{justify:"flex-start"},Object(r.createElement)(f.c,null,Object(r.createElement)(B.a,{icon:"duplicate"})),Object(r.createElement)(f.c,null,Object(o.__)("Duplicate","wp-marketing-automations-crm")))),Object(r.createElement)(m.a,{isClickable:!0,onInvoke:function(){ye(t.id,t.name),n()}},Object(r.createElement)(f.a,{justify:"flex-start"},Object(r.createElement)(f.c,null,Object(r.createElement)(B.a,{icon:"export"})),Object(r.createElement)(f.c,null,Object(o.__)("Export","wp-marketing-automations-crm")))),Object(r.createElement)(m.a,{isClickable:!0,onInvoke:function(){I({status:!0,confirmText:Object(o.__)("Are you sure you want to delete this automation ?","wp-marketing-automations-crm"),buttonConfirm:Object(o.__)("Confirm","wp-marketing-automations-crm"),buttonCancel:Object(o.__)("Cancel","wp-marketing-automations-crm"),onConfirm:function(){return ge(t.id)}}),n()}},Object(r.createElement)(f.a,{justify:"flex-start"},Object(r.createElement)(f.c,null,Object(r.createElement)(B.a,{icon:"trash"})),Object(r.createElement)(f.c,null,Object(o.__)("Delete","wp-marketing-automations-crm")))))}})),value:""},{display:we(e),value:e.name},{display:Ee(e),value:e.event},{display:Oe(e),value:""},{display:_e(e),value:""},{display:parseInt(e.run_count)>0?parseInt(e.run_count):"0",value:e.run_count},Object(g.V)()&&{display:e.revenue&&parseFloat(e.revenue)>0?ue(e.revenue):"-",value:""},{display:he(e),value:""}];var t})):[],Pe=x()("bwfcrm-campaign-list-table",{"has-search":!0}),Se=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(B.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(o.__)("Grow your business with marketing automation","wp-marketing-automations-crm")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(o.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations-crm")}},{type:"buttons",data:{buttons:[{text:Object(o.__)("Add New Automation","wp-marketing-automations-crm"),proCheck:!1,onClick:function(){ee(!0)}}]}}],Ne=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",title:Object(o.__)("Export","wp-marketing-automations-crm"),onClick:function(){ye()}},Object(r.createElement)(B.a,{icon:"export",size:25})),Object(r.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",title:Object(o.__)("Import","wp-marketing-automations-crm"),onClick:function(){Object(k.j)({path:"/automations/import"},"/",n)}},Object(r.createElement)(B.a,{icon:"import",size:25})));return Object(r.createElement)(r.Fragment,null,Object(g.s)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(b.ButtonGroup,null,Object(r.createElement)(b.Button,{isPrimary:!t,isSecondary:!!t,onClick:function(){return Object(k.j)({path:"/automations/"},"/",n)}},Object(o.__)("All","wp-marketing-automations-crm"),ie.hasOwnProperty("automations")&&parseInt(ie.automations)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(ie.automations)):""),Object(r.createElement)(b.Button,{isPrimary:t&&"active"===t,isSecondary:t&&"active"!==t,onClick:function(){return Object(k.j)({path:"/automations/list/active"},"/",n)}},Object(o.__)("Active","wp-marketing-automations-crm"),parseInt(D)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(D)):""),Object(r.createElement)(b.Button,{isPrimary:t&&"inactive"===t,isSecondary:t&&"inactive"!==t,onClick:function(){return Object(k.j)({path:"/automations/list/inactive"},"/",n)}},Object(o.__)("Inactive","wp-marketing-automations-crm"),parseInt(J)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(J)):"")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(c.a,{className:Pe,rows:ke,headers:pe,query:{paged:ce},rowsPerPage:re,totalRows:oe,isLoading:ae,onPageChange:function(e,t){y("offset",(e-1)*re)},onQueryChange:function(e){return"per_page"!==e?function(){}:de},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(N,{key:"search",query:n})],emptyMessage:Object(o.__)("No automations found","wp-marketing-automations-crm"),extraSectionBeforefilterCol:Ne}),Object(r.createElement)(p.a,{confirmText:L.confirmText,confirmButtonText:L.buttonConfirm,cancelButtonText:L.buttonCancel,onConfirm:L.onConfirm,isLoading:L.loading,successMessage:L.success,errorMessage:L.error,onRequestClose:function(){return I({status:!1})},isOpen:L.status,isDelete:"Are you sure you want to delete this automation ?"==L.confirmText})):Object(r.createElement)(H.a,{data:Se}),Y&&Object(r.createElement)(M,{onCloseModal:function(){return ee(!1)}}))};t.default=function(e){var t=e.match.params.type,n=Object(k.h)();return Object(g.d)("Automations"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.a,null),Object(r.createElement)("div",{className:"bwfcrm-automations-list"},Object(r.createElement)(ee,{query:n,type:t})))}}}]);