(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{111:function(t,e,n){"use strict";var r=n(0),a=n(4),o=n(15),c=n.n(o),i=n(9),s=n(33),u=n(8),l=n.n(u),f=n(94),m=(n(138),function(t){var e=t.id,n=t.instanceId,o=t.isVisible,u=t.label,l=t.popoverContents,f=t.remove,m=t.screenReaderLabel,p=t.setState,b=t.className;if(m=m||u,!u)return null;u=Object(s.decodeEntities)(u);var O=c()("bwf-tag",b,{"has-remove":!!f}),g="bwf-tag-label-".concat(n),d=Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},m),Object(r.createElement)("span",{"aria-hidden":"true"},u));return Object(r.createElement)("span",{className:O},l?Object(r.createElement)(i.Button,{className:"bwf-tag-text",id:g,onClick:function(){return p((function(){return{isVisible:!0}}))}},d):Object(r.createElement)("span",{className:"bwf-tag-text",id:g},d),l&&o&&Object(r.createElement)(i.Popover,{onClose:function(){return p((function(){return{isVisible:!1}}))}},l),f&&Object(r.createElement)(i.Button,{className:"bwf-tag-remove",onClick:function(){return f(e,u)},label:Object(a.sprintf)(Object(a.__)("Remove %s","wp-marketing-automations-crm"),u),"aria-describedby":g},Object(r.createElement)(i.Dashicon,{icon:"dismiss",size:20})))});m.propTypes={id:l.a.oneOfType([l.a.number,l.a.string]),label:l.a.string.isRequired,popoverContents:l.a.node,remove:l.a.func,screenReaderLabel:l.a.string},e.a=Object(f.withState)({isVisible:!1})(Object(f.withInstanceId)(m))},112:function(t,e,n){"use strict";var r=n(25),a=n(48);e.a=function(t){var e=Object(r.b)(),n=Object(a.a)(t),o=n.setLoading,c=n.fetch,i=n.clearError,s=n.setStateProp;return{setLoading:function(t){return e(o(t))},fetch:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(c(t,n,r,a))},clearError:function(){return e(i())},setStateProp:function(t,n){return e(s(t,n))}}}},114:function(t,e,n){"use strict";var r=n(112),a=n(44);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a=function(){var t=Object(r.a)("menu").setStateProp,e=(0,Object(a.a)().getActive)();return{setActive:function(n,r){return t("active",c(c({},e),{},i({},n,r)))},setActiveMultiple:function(e){return t("active",e)},setBackLink:function(e){return t("backLink",e)},setL2Title:function(e){return t("l2Title",e)},setL2PostTitle:function(e){return t("l2PostTitle",e)},setL2Nav:function(e){return t("l2Nav",e)},setL2NavType:function(e){return t("l2NavType",e)},setL2Content:function(e){return t("l2Content",e)},setL2NavAlign:function(e){return t("l2NavAlign",e)},setPageHeader:function(e){return t("pageHeader",e)},setBackLinkLabel:function(e){return t("backLinkLabel",e)},setPageCountData:function(e){return t("pageCountData",e)},resetHeaderMenu:function(){t("backLink",""),t("l2Title",""),t("l2PostTitle",""),t("l2Nav",{}),t("l2NavType",""),t("active",{leftNav:"",rightNav:""}),t("l2Content",""),t("l2NavAlign","left"),t("pageHeader","")},setContactL2Menu:function(){return t("l2Nav")}}}},117:function(t,e,n){"use strict";var r=n(0),a=n(8),o=n.n(a);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,t);var e,n,a,o=u(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=o.call(this,t)).scrollTo=e.scrollTo.bind(f(e)),e}return e=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var t=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(t,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var t=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},t)}}])&&i(e.prototype,n),a&&i(e,a),c}(r.Component);p.propTypes={offset:o.a.string},p.defaultProps={offset:"0"},e.a=p},138:function(t,e,n){},173:function(t,e,n){"use strict";var r=n(0),a=n(15),o=n.n(a),c=n(17),i=n(8),s=n.n(i),u=n(320),l=n.n(u),f=n(5),m=n(321),p=n.n(m),b=(n(184),function(t){var e,n,a,i,s=t.alt,u=t.title,m=t.size,b=t.user,O=t.className,g=o()("bwf-gravatar",O,{"is-placeholder":!b}),d=s||b&&(b.display_name||b.name)||"",v="https://www.gravatar.com/avatar/0?s="+m+"&d=blank";return b&&(e=Object(f.isString)(b)?(i=b,"https://www.gravatar.com/avatar/"+p()(i)):b.avatar_URLs[96],n=l.a.parse(e),(a=Object(c.parse)(n.query)).s=m,a.d="blank",n.search=Object(c.stringify)(a),v=l.a.format(n)),Object(r.createElement)("img",{alt:d,title:u,className:g,src:v,width:m,height:m})});b.propTypes={user:s.a.oneOfType([s.a.object,s.a.string]),alt:s.a.string,title:s.a.string,size:s.a.number,className:s.a.string},b.defaultProps={size:60},e.a=b},181:function(t,e,n){"use strict";var r=n(0),a=n(7),o=n(5),c=n(159),i=n.n(c),s=(n(200),function(t){var e=t.first_name,n=t.last_name;return Object(r.createElement)("div",{className:"bwf-c-name-initials"},Object(r.createElement)("span",null,Object(o.isEmpty)(i()(e+" "+n))?"-":Object(a.F)(e,n)))});s.defaultProps={first_name:"",last_name:""};var u=s,l=n(31),f=n(4),m=n(116),p=n.n(m),b=(n(201),n(173)),O=function(t){var e=t.dateText,n=t.date,o=t.contact,c=o.f_name,s=void 0===c?"":c,m=o.l_name,O=void 0===m?"":m,g=(o.id,o.creation_date),d=o.email,v=t.hideJoiningDate,j=void 0!==v&&v,y=t.lowerText,w=Object(a.X)([s,O]," "),h=Object(a.B)(n||g);return Object(r.createElement)(l.a,{className:"bwf-c-contact-basic-info-cell",justify:"flex-start"},Object(r.createElement)(l.c,{className:"bwf-c-avatar"},d&&Object(r.createElement)(b.a,{user:d,size:40}),Object(r.createElement)(u,{first_name:s,last_name:O})),Object(r.createElement)(l.c,null,Object(r.createElement)(l.a,{style:{flexDirection:"column"},align:"flex-start"},Object(r.createElement)(l.c,{style:{padding:0}},Object(r.createElement)("span",{className:"bwf-c-contact-name"},p()(i()(w))?Object(f.__)("-","wp-marketing-automations-crm"):w)),!j&&h&&Object(r.createElement)(l.c,null,Object(r.createElement)("span",{className:"bwf-c-contact-creation-date"},e||Object(f.__)("Joined","wp-marketing-automations-crm")," ",y||h)))))};O.defaultProps={contact:{f_name:"",l_name:"",id:0,creation_date:""}};e.a=O},184:function(t,e,n){},200:function(t,e,n){},201:function(t,e,n){},243:function(t,e,n){"use strict";var r=n(0),a=n(4),o=n(8),c=n.n(o),i=n(111),s=(n(256),n(13)),u=function(t){var e=t.items;return Object(r.createElement)(i.a,{className:"bwf-view-more-list",label:Object(r.createElement)("span",{className:"bwf-display-flex"},Object(r.createElement)("span",{className:"bwf-view-more-label"},Object(a.sprintf)(Object(a.__)("+%d ","bwf-admin"),e.length-1)),Object(r.createElement)(s.a,{icon:"tailless-arrow-down"})),popoverContents:Object(r.createElement)("ul",{className:"bwf-view-more-list__popover"},e.map((function(t,e){return Object(r.createElement)("li",{key:e,className:"bwf-view-more-list__popover__item"},t)})))})};u.propTypes={items:c.a.arrayOf(c.a.node)},u.defaultProps={items:[]},e.a=u},256:function(t,e,n){},460:function(t,e,n){"use strict";var r=n(114),a=n(0),o=n(4),c=n(7),i=function(t){var e={workflow:{name:Object(o.__)("Workflow","wp-marketing-automations"),link:"admin.php?page=autonami-automations&edit=".concat(t)},engagement:{name:Object(o.__)("Engagement","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/engagement")}};return Object(c.W)()&&(e.orders={name:Object(o.__)("Orders","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/orders")}),e};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},m=f.automation_nav,p=Object(r.a)(),b=p.setActiveMultiple,O=p.resetHeaderMenu,g=p.setL2NavType,d=p.setL2Nav,v=p.setBackLink,j=p.setL2Title,y=p.setL2Content,w=p.setBackLinkLabel,h=p.setL2NavAlign,_=p.setPageHeader;return Object(a.useEffect)((function(){O(),!c&&g("menu"),d(u?i(u):m),b({leftNav:"automations",rightNav:t}),n&&v(n),n&&u&&v("admin.php?page=autonami-automations&edit=".concat(u)),c&&w(Object(o.__)("All Automations","wp-marketing-automations-crm")),u&&w(Object(o.__)("Back to Automation","wp-marketing-automations-crm")),u&&h("right"),e&&j(e),!n&&s&&y(s),_("Automations"),l&&d({})}),[t]),!0}},502:function(t,e,n){"use strict";var r=n(46),a=n(55);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("automationList"),e=t.getStateProp,n=s(t,["getStateProp"]),o=Object(r.a)(a.a.recipient).getStateProp,i=Object(r.a)(a.a.conversion).getStateProp;return c(c({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return o("data")},getRecipientLoading:function(){return o("isLoading")},getRecipientOffset:function(){return o("offset")},getRecipientAutomationId:function(){return o("automationId")},getRecipientTotal:function(){return o("total")},getRecipientPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getRecipientLimit:function(){return o("limit")},getConversionData:function(){return i("data")},getConversionLoading:function(){return i("isLoading")},getConversionOffset:function(){return i("offset")},getConversionAutomationId:function(){return i("automationId")},getConversionTotal:function(){return i("total")},getConversionPage:function(){return parseInt(i("offset"))/parseInt(i("limit"))+1},getConversionLimit:function(){return i("limit")},getCountData:function(){return e("countData")}})}},503:function(t,e,n){"use strict";var r=n(112),a=n(7),o=n(55);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("automationList"),e=t.fetch,n=t.setStateProp,c=u(t,["fetch","setStateProp"]),s=Object(r.a)(o.a.recipient),l=s.fetch,f=s.setStateProp,m=Object(r.a)(o.a.conversion),p=m.fetch,b=m.setStateProp;return i(i({},c),{},{fetch:function(t,n,r,o){var c=n.s,i=(n.page,n.filter,n.path,{offset:r,limit:o,status:t,search:c,filters:u(n,["s","page","filter","path"])});e("GET",Object(a.g)("/automations"),i)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){l("GET",Object(a.g)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){f(t,e)},fetchConversion:function(t,e,n){p("GET",Object(a.g)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){b(t,e)}})}},699:function(t,e,n){},764:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(4),o=n(130),c=n(503),i=n(502),s=n(124),u=n(7),l=n(243),f=n(5),m=(n(699),n(117)),p=n(18),b=n(181),O=n(460),g=n(114);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.match.params.automationId,n=Object(g.a)().setL2NavAlign;Object(O.a)("orders","",!0,!1,null,e),n("left");var v=Object(i.a)(),j=v.getConversionData();Object(u.d)("Automation #"+e);var y=v.getConversionLoading(),w=v.getConversionLimit(),h=v.getConversionOffset(),_=v.getConversionTotal(),P=Object(c.a)(),E=P.fetchConversion,k=P.setConversionValues,N=Object(s.a)(Object(u.H)()).formatAmount;Object(r.useEffect)((function(){E(e,w,h)}),[w,h]);var C=[{key:"orderid",label:Object(a.__)("Order ID","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m"},{key:"contact",label:Object(a.__)("Contact","wp-marketing-automations-crm"),required:!0,cellClassName:"bwf-crm-col-contact"},{key:"purchaseitems",label:Object(a.__)("Purchased Items","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-contact-details"},{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m"},{key:"date",label:Object(a.__)("Date","wp-marketing-automations-crm"),cellClassName:"bwf-crm-col-stats-m"}],L=v.getConversionPage(),T=function(t){t!==w&&(k("limit",t),k("offset",0))},S=function(t){return Object(r.createElement)(p.a,{href:"admin.php?page=autonami&path=/contact/"+t.cid,type:"bwf-crm",className:"bwf-crm-campaign-order-contact-link bwf-a-no-underline",key:t.cid},Object(r.createElement)(b.a,{contact:t,date:t.date,dateText:Object(a.__)("Placed on","wp-marketing-automations-crm")}))},A=function(t){return Object(r.createElement)("a",{className:"bwf-a-no-underline",href:"post.php?post="+t.wcid+"&action=edit"},"#"+t.wcid)},D=j.map((function(t){return[{display:A(t),value:t.wcid},{display:S(t),value:t.contact_name},{display:(e=t.items,n="",a=[],Object.entries(e).map((function(t){var e=d(t,2),o=e[0],c=e[1];Object(f.isEmpty)(n)&&(n=Object(r.createElement)("a",{href:"post.php?action=edit&post="+o},c)),a.push(Object(r.createElement)("a",{href:"post.php?action=edit&post="+o},c))})),Object(r.createElement)(r.Fragment,null,!Object(f.isEmpty)(n)&&n,!Object(f.isEmpty)(a)&&a.length>1&&Object(r.createElement)(l.a,{items:a}))),value:"purchase_item"},{display:N(t.wctotal),value:t.wctotal},{display:Object(u.B)(t.date),value:t.date}];var e,n,a}));return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(m.a,null),Object(r.createElement)(o.a,{className:"bwf-crm-campaign-report-conversion",rows:D,headers:C,query:{paged:L},rowsPerPage:w,totalRows:_,isLoading:y,onPageChange:function(t,e){k("offset",(t-1)*w)},onQueryChange:function(t){return"per_page"!==t?function(){}:T},rowHeader:!0,showMenu:!1,emptyMessage:Object(a.__)("No orders found","wp-marketing-automations-crm"),hideHeader:"yes"}))}}}]);