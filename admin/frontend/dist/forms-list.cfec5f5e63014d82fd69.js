(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{111:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},119:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},121:function(e,t,n){"use strict";var r=n(0);n(135);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.success}})))}},122:function(e,t,n){"use strict";var r=n(0);n(136);t.a=function(e){return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_align_center"},Object(r.createElement)("div",{className:"bwf-w-100",dangerouslySetInnerHTML:{__html:bwfcrm_contacts_data.icons.error}})))}},124:function(e,t,n){"use strict";var r=n(0),a=n(4),c=n(5),o=n(8),i=n.n(o),s=n(15),l=n.n(s),u=(n(134),n(160));function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,c,o=j(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={options:[]},t.appendFreeTextSearch=t.appendFreeTextSearch.bind(h(t)),t.fetchOptions=t.fetchOptions.bind(h(t)),t.updateSelected=t.updateSelected.bind(h(t)),t}return t=i,(n=[{key:"getAutocompleter",value:function(){return this.props.autocompleter&&"object"===p(this.props.autocompleter)?this.props.autocompleter:{}}},{key:"getFormattedOptions",value:function(e,t){var n=this.getAutocompleter(),r=[];return e.forEach((function(e){var a={key:n.getOptionIdentifier(e),label:n.getOptionLabel(e,t),keywords:n.getOptionKeywords(e).filter(Boolean),value:e};r.push(a)})),r}},{key:"fetchOptions",value:function(e,t){var n=this;return this.props.bwfEnableEmptySearch||t?this.getAutocompleter().options(t).then(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getFormattedOptions(r,t),n.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){b(c,r,a,o,i,"next",e)}function i(e){b(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}()):[]}},{key:"updateSelected",value:function(e){var t=this.props.onChange,n=this.getAutocompleter();t(e.map((function(e){return!e.notFound&&(e.value?n.getOptionCompletion(e.value):e)})).filter(Boolean))}},{key:"appendFreeTextSearch",value:function(e,t){var n=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!n)return e.length>0?e:[{label:Object(a.__)("Not Found","wp-marketing-automations-crm"),key:"",notFound:!0}];var r=this.getAutocompleter();return[].concat(m(r.getFreeTextOptions(t,e)),m(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,n=t.className,a=t.inlineTags,c=t.placeholder,o=t.selected,i=t.showClearButton,s=t.staticResults,m=t.disabled,f=(t.multiple,this.state.options),b=e.inputType?e.inputType:"text";return Object(r.createElement)("div",null,Object(r.createElement)(u.a,{className:l()("bwf-search",n,{"is-static-results":s}),disabled:m,hideBeforeSearch:!1,inlineTags:a,isSearchable:!0,label:c,getSearchExpression:e.getSearchExpression,multiple:!0,placeholder:c,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:f,remove:this.props.onRemoveTag,searchDebounceTime:500,searchInputType:b,selected:o,showClearButton:i,bwfMaintainSingleTerm:this.props.bwfMaintainSingleTerm}))}}])&&d(t.prototype,n),c&&d(t,c),i}(r.Component);v.propTypes={allowFreeTextSearch:i.a.bool,className:i.a.string,onChange:i.a.func,autocompleter:i.a.object,placeholder:i.a.string,selected:i.a.arrayOf(i.a.shape({key:i.a.oneOfType([i.a.number,i.a.string]).isRequired,label:i.a.string})),inlineTags:i.a.bool,showClearButton:i.a.bool,staticResults:i.a.bool,disabled:i.a.bool,bwfMaintainSingleTerm:i.a.bool,bwfEnableEmptySearch:i.a.bool},v.defaultProps={allowFreeTextSearch:!1,onChange:c.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,bwfMaintainSingleTerm:!1,bwfEnableEmptySearch:!1},t.a=v},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(0),a=n(111),c=n(121),o=n(122),i=n(9),s=n(4);t.a=function(e){var t=e.confirmText,n=void 0===t?"":t,l=e.confirmButtonText,u=void 0===l?"":l,m=e.cancelButtonText,f=void 0===m?"":m,b=e.onConfirm,p=void 0===b?function(){}:b,d=e.isLoading,O=void 0!==d&&d,j=e.successMessage,w=void 0===j?"":j,h=e.errorMessage,y=void 0===h?"":h,v=e.onRequestClose,g=e.isOpen,E=void 0!==g&&g,_=e.confirmDescription,S=void 0===_?"":_,k=e.isDelete,N=void 0!==k&&k;Object(r.useEffect)((function(){(w||y)&&setTimeout((function(){v&&v()}),2e3)}),[w,y]);return E?Object(r.createElement)(i.Modal,{title:"",onRequestClose:function(){return v()},className:"bwf-c-s-delete-model bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},N&&Object(r.createElement)("div",{className:"bwf-h4"},Object(s.__)("Delete","wp-marketing-automations-crm")),O&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(a.a,null)),!!w&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(c.a,null),Object(r.createElement)("div",{className:"bwf-h1"},w)),!!y&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(o.a,null),Object(r.createElement)("div",{className:"bwf-h1"},y)),!O&&!w&&!y&&Object(r.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},N?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h2"},Object(s.__)("Are you sure?","wp-marketing-automations-crm")),Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(s.__)("Once you delete this item. It will no longer available.","wp-marketing-automations-crm"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-h1"},n),!!S&&Object(r.createElement)("p",null,S)),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:N?"bwf_text_right":""},Object(r.createElement)(i.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){v&&v()}},f),Object(r.createElement)(i.Button,{isPrimary:!0,onClick:function(){p&&p()},className:N?"bwf-delete-btn":""},u)))):null}},146:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},186:function(e,t,n){"use strict";var r=n(119),a=n(27),c=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,s=Object(a.a)(e,["icon","size"]);return Object(c.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},s))}},195:function(e,t,n){"use strict";var r=n(0),a=n(95),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=c},196:function(e,t,n){"use strict";var r=n(0),a=n(95),c=Object(r.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(a.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=c},203:function(e,t,n){"use strict";var r=n(0),a=n(95),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));t.a=c},204:function(e,t,n){"use strict";var r=n(0),a=n(95),c=Object(r.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(a.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));t.a=c},226:function(e,t,n){"use strict";var r=n(0),a=n(15),c=n.n(a),o=n(32),i=(n(244),n(13)),s=n(5),l=n(7),u=n(9);t.a=function(e){var t=e.data,n=void 0===t?[]:t,a=e.className,m=e.center,f=void 0!==m&&m,b=e.isDismissive,p=void 0!==b&&b,d=e.onDismisal,O=void 0===d?function(){}:d;if(Object(s.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:c()("bwf-zero-state",a,{"bwf-block-t-center":f})},p&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return O()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(i.a,{icon:"plus",color:"#444"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(o.a,{key:"layout-block-"+t,className:c()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(o.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(o.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),!Object(l.S)()&&!e.hasOwnProperty("isDummy")&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"}))))})));case"buttons":return Object(r.createElement)(o.a,{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(u.Button,{isPrimary:!0,onClick:e.onClick},e.text,!Object(l.S)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(i.a,{icon:"lock2",width:"22",height:"22"})))})));default:return Object(r.createElement)("div",{className:c()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content&&Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}}))}}(e.type,e.data))}))))}},244:function(e,t,n){},789:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(7),c=n(16),o=n.n(c),i=n(4),s=n(47),l=n(49),u=n(19),m=n(32),f=n(9),b=n(130),p=n(18),d=n(121),O=n(122),j=n(111),w=n(17);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=E(Object(r.useState)(!1),2),n=t[0],c=t[1],s=E(Object(r.useState)(""),2),l=s[0],u=s[1],m=E(Object(r.useState)({}),2),b=m[0],p=m[1],h=E(Object(r.useState)(null),2),v=h[0],_=h[1],S=e.onFeedCreated,k=e.query,N=e.onCloseModal;Object(r.useEffect)((function(){c(!1),p({}),_("")}),[]);var P=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=3;break}return u("Form name is required feed"),e.abrupt("return");case 3:return u(""),c(!0),e.prev=5,e.next=8,o()({path:Object(a.g)("/form-feeds/"),method:"POST",data:{name:v}});case 8:(t=e.sent)&&t.result&&t.result.id&&(p({}),S(t.result),Object(a.y)()||(bwfcrm_contacts_data.first_form_id=1),Object(w.j)(y(y({},k),{},{path:"/forms/".concat(t.result.id)}),"/forms/".concat(t.result.id))),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),c(!1),p({error:!0,message:e.t0.message}),setTimeout((function(){p({}),S(null),setOpen(!1)}),2e3);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){g(c,r,a,o,i,"next",e)}function i(e){g(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.createElement)(f.Modal,{title:Object(i.__)("Add Form","wp-marketing-automations-crm"),className:"bwf-admin-modal bwf-admin-modal-medium",onRequestClose:function(){return N()}},l&&Object(r.createElement)(f.Notice,{status:"error",onRemove:function(){return u("")}},l),n||b&&b.error?b&&b.success&&b.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(d.a,null),Object(r.createElement)("div",{className:"bwf-h1"},b.message)):b&&b.error&&b.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(O.a,null),Object(r.createElement)("div",{className:"bwf-h1"},b.message)):Object(r.createElement)(j.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&P()}},Object(r.createElement)(f.TextControl,{placeholder:Object(i.__)("Enter Name","wp-marketing-automations-crm"),label:Object(i.__)("Name","wp-marketing-automations-crm"),value:v,autoFocus:!0,onChange:function(e){return _(e)},disabled:n,autoComplete:"off"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(f.Button,{onClick:function(){return N()},isTertiary:!0},Object(i.__)("Cancel","wp-marketing-automations-crm")),Object(r.createElement)(f.Button,{isPrimary:!0,disabled:n,onClick:P},Object(i.__)("Add","wp-marketing-automations-crm")))))},k=n(137);function N(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=P(Object(r.useState)(!1),2),n=t[0],c=t[1],s=P(Object(r.useState)(""),2),l=s[0],u=s[1],m=P(Object(r.useState)(""),2),f=m[0],b=m[1],p=e.isOpen,d=e.feedId,O=e.onRequestClose,j=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,o()({path:Object(a.g)("/form-feeds/".concat(d)),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"}});case 4:e.sent,u(Object(i.__)("Feed deleted successfully","wp-marketing-automations-crm")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),b(e.t0&&e.t0.message?e.t0.message:Object(i.__)("Unknown error occurred","wp-marketing-automations-crm")),console.log(f);case 12:c(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){N(c,r,a,o,i,"next",e)}function i(e){N(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.createElement)(k.a,{confirmText:Object(i.__)("Delete Feed?","wp-marketing-automations-crm"),confirmButtonText:Object(i.__)("Delete","wp-marketing-automations-crm"),cancelButtonText:Object(i.__)("Cancel","wp-marketing-automations-crm"),onConfirm:j,isLoading:n,successMessage:l,errorMessage:f,onRequestClose:function(){O(!!l),u(""),b(""),c(!1)},isOpen:p,isDelete:!0})},T=n(124),A=n(139),F=function(e){var t=e.query;return Object(r.createElement)(T.a,{autocompleter:A.e,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,onChange:function(e){Array.isArray(e)&&e.length>0&&e[0]&&e[0].key&&Object(w.j)({},"/forms/".concat(e[0].key),t)},placeholder:Object(i.__)("Search by name","wp-marketing-automations-crm"),showClearButton:!0,disabled:!1,bwfEnableEmptySearch:!0})},M=n(15),I=n.n(M),R=n(117),B=n(13),D=n(54),L=n(46),z=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},c=Object(L.a)(),o=c.setActiveMultiple,i=c.setL2NavType,s=c.setL2Nav,l=c.resetHeaderMenu,u=c.setPageHeader,m=c.setL2Content,f=c.setPageCountData;return Object(r.useEffect)((function(){l(),o({leftNav:"forms",rightNav:e}),i("menu"),s(a.forms_nav),u("Forms"),t&&m(t),f(n)}),[e,n]),!0},q=n(226);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.selected;Object(a.d)("Forms");var n=location&&location.search?Object(p.parse)(location.search.substring(1)):{},c=$(Object(r.useState)(25),2),d=c[0],O=c[1],j=$(Object(r.useState)(0),2),h=j[0],y=j[1],v=$(Object(r.useState)(0),2),g=v[0],E=v[1],_=$(Object(r.useState)([]),2),k=_[0],N=_[1],P=$(Object(r.useState)(!1),2),C=P[0],T=P[1],A=$(Object(r.useState)(!1),2),M=A[0],L=A[1],H=$(Object(r.useState)(),2),U=H[0],J=H[1],K=$(Object(r.useState)(!1),2),Q=K[0],W=K[1],X=$(Object(r.useState)({}),2),Y=X[0],Z=X[1],ee=$(Object(r.useState)(!1),2),te=ee[0],ne=ee[1],re=$(Object(r.useState)(0),2),ae=re[0],ce=re[1],oe=bwfcrm_contacts_data&&bwfcrm_contacts_data.form_nice_names?bwfcrm_contacts_data.form_nice_names:{},ie=Object(r.createElement)(f.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(a.S)()?T(!0):W(!0)}},!Object(a.S)()&&Object(r.createElement)(B.a,{icon:"lock",size:"15"}),Object(r.createElement)("span",null,Object(i.__)("Add New","wp-marketing-automations-crm")));z("Forms",t,ie,Y);var se={all:0,active:2,inactive:3},le=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.prev=1,e.next=4,o()({method:"GET",path:Object(a.g)("/form-feeds?offset=".concat(h,"&limit=").concat(d,"&status=").concat(se[t]))});case 4:if((n=e.sent)&&n.result&&Array.isArray(n.result)){e.next=8;break}return J(Object(i.__)("Blank response returned","wp-marketing-automations-crm")),e.abrupt("return");case 8:r=n.total_count,c=n.result,s=n.limit,l=n.offset,r&&E(parseInt(r)),s&&O(parseInt(s)),l&&y(parseInt(l)),c&&N(c),n.hasOwnProperty("count_data")?Z(n.count_data):Z({}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),J(e.t0&&e.t0.message?e.t0.message:Object(i.__)("Unknown Error Occurred","wp-marketing-automations-crm"));case 19:L(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){V(c,r,a,o,i,"next",e)}function i(e){V(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){Object(a.S)()&&le()}),[t]);var ue=[{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"name",label:Object(i.__)("Name","wp-marketing-automations-crm"),isLeftAligned:!0,required:!0},{key:"form",label:Object(i.__)("Form","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"},{key:"contacts",label:Object(i.__)("Contacts","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center"},{key:"status",label:Object(i.__)("Status","wp-marketing-automations-crm"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-120"}],me=function(e){e!==d&&(O(d),le())},fe=function(e){return Object(r.createElement)(s.a,{label:Object(i.__)("Quick Actions","wp-marketing-automations-crm"),menuPosition:"bottom right",renderContent:function(t){var a=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(l.a,{isClickable:!0,onInvoke:function(){Object(w.j)(G(G({},n),{},{path:"/forms/".concat(e.id)}),"/forms/".concat(e.id),n),a()}},Object(r.createElement)(m.a,{justify:"flex-start"},Object(r.createElement)(m.c,null,Object(r.createElement)(B.a,{icon:"view"})),Object(r.createElement)(m.c,null,Object(i.__)("View","wp-marketing-automations-crm")))),Object(r.createElement)(l.a,{isClickable:!0,onInvoke:function(){ce(e.id),ne(!0),a()}},Object(r.createElement)(m.a,{justify:"flex-start"},Object(r.createElement)(m.c,null,Object(r.createElement)(B.a,{icon:"trash"})),Object(r.createElement)(m.c,null,Object(i.__)("Delete","wp-marketing-automations-crm")))))}})},be=function(e){return Object(r.createElement)(u.a,{href:"admin.php?page=autonami&path=/forms/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(r.createElement)("b",null,e.title))},pe=Array.isArray(k)?k.map((function(e){return[{display:fe(e),value:null},{display:be(e),value:e.title},{display:e.source in oe?oe[e.source]:"-",value:e.source},{display:e.contacts_created&&parseInt(e.contacts_created)>0?e.contacts_created:"-",value:e.contacts_created},{display:e.status_text,value:e.status}]})):[],de=I()("bwfcrm-forms-list-table",{"has-search":!0}),Oe=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(B.a,{icon:"zero-forms",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(i.__)("Create Lead Capture Forms","wp-marketing-automations-crm")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(i.__)("Integrates with popular form plugins such as WPForms, Elementor, Gravity Forms & more. Push Contacts into CRM & nurture leads to become customers.","wp-marketing-automations-crm")}},{type:"buttons",data:{buttons:[{text:Object(i.__)("Integrate New Form","wp-marketing-automations-crm"),onClick:function(){Object(a.S)()?T(!0):W(!0)}}]}}];return Object(r.createElement)(r.Fragment,null,Object(a.y)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(R.a,null),U&&Object(r.createElement)(f.Notice,{status:"error"},U),Object(r.createElement)(b.a,{className:de,title:"",rows:pe,headers:ue,query:{paged:h/d+1},rowsPerPage:d,totalRows:g,isLoading:M,onPageChange:function(e,t){y((e-1)*d),le()},onQueryChange:function(e){return"per_page"!==e?function(){}:me},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(F,{key:"search",query:n})],emptyMessage:Object(i.__)("No forms found","wp-marketing-automations-crm")}),Object(r.createElement)(x,{feedId:ae,isOpen:te,onRequestClose:function(e){ne(!1),e&&le()}})):Object(r.createElement)(q.a,{data:Oe}),C&&Object(r.createElement)(S,{onFeedCreated:function(){return le()},query:n,onCloseModal:function(){return T(!1)}}),Object(r.createElement)(D.a,{isOpen:Q,onRequestClose:function(){return W(!1)}}))}}}]);