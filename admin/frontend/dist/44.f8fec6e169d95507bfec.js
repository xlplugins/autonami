(window.webpackJsonp=window.webpackJsonp||[]).push([[44,12],{109:function(e,t,n){"use strict";var r=n(0);n(133);t.a=function(e){var t=e.size,n=void 0===t?"xl":t;return Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-spin-loader bwf-spin-loader-".concat(n)}),Object(r.createElement)("div",{className:"bwf_clear_30"}))}},112:function(e,t,n){"use strict";var r=n(24),a=n(48);t.a=function(e){var t=Object(r.b)(),n=Object(a.a)(e),o=n.setLoading,i=n.fetch,c=n.clearError,l=n.setStateProp;return{setLoading:function(e){return t(o(e))},fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(i(e,n,r,a))},clearError:function(){return t(c())},setStateProp:function(e,n){return t(l(e,n))}}}},114:function(e,t,n){"use strict";var r=n(112),a=n(44);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=Object(r.a)("menu").setStateProp,t=(0,Object(a.a)().getActive)();return{setActive:function(n,r){return e("active",i(i({},t),{},c({},n,r)))},setActiveMultiple:function(t){return e("active",t)},setBackLink:function(t){return e("backLink",t)},setL2Title:function(t){return e("l2Title",t)},setL2PostTitle:function(t){return e("l2PostTitle",t)},setL2Nav:function(t){return e("l2Nav",t)},setL2NavType:function(t){return e("l2NavType",t)},setL2Content:function(t){return e("l2Content",t)},setL2NavAlign:function(t){return e("l2NavAlign",t)},setPageHeader:function(t){return e("pageHeader",t)},setBackLinkLabel:function(t){return e("backLinkLabel",t)},setPageCountData:function(t){return e("pageCountData",t)},resetHeaderMenu:function(){e("backLink",""),e("l2Title",""),e("l2PostTitle",""),e("l2Nav",{}),e("l2NavType",""),e("active",{leftNav:"",rightNav:""}),e("l2Content",""),e("l2NavAlign","left"),e("pageHeader","")},setContactL2Menu:function(){return e("l2Nav")}}}},117:function(e,t,n){"use strict";var r=n(0),a=n(8),o=n.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,a,o=s(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).scrollTo=t.scrollTo.bind(f(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,250)}},{key:"scrollTo",value:function(){var e=this.props.offset;this.ref.current?window.scrollTo(0,parseInt(e,10)):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},e)}}])&&c(t.prototype,n),a&&c(t,a),i}(r.Component);d.propTypes={offset:o.a.string},d.defaultProps={offset:"0"},t.a=d},118:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},127:function(e,t,n){var r=n(197),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(0),a=n(8),o=n.n(a);function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=Object(r.createContext)(2);function l(e){return Object(r.createElement)(c.Consumer,null,(function(t){var n="h"+Math.min(t,6);return Object(r.createElement)(n,e)}))}function s(e){var t=e.component,n=e.children,a=i(e,["component","children"]),o=t||"div";return Object(r.createElement)(c.Consumer,null,(function(e){return Object(r.createElement)(c.Provider,{value:e+1},!1===t?n:Object(r.createElement)(o,a,n))}))}s.propTypes={component:o.a.oneOfType([o.a.func,o.a.string,o.a.bool]),children:o.a.node}},133:function(e,t,n){},140:function(e,t,n){var r=n(162),a=n(227),o=n(228),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(142);function a(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},142:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(141);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},148:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},149:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},158:function(e,t,n){},162:function(e,t,n){var r=n(127).Symbol;e.exports=r},197:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(51))},199:function(e,t,n){"use strict";var r=n(0),a=n(9),o=n(15),i=n.n(o),c=n(5),l=n(8),s=n.n(l),u=(n(158),function(e){var t=e.disabled,n=e.value,o=e.onChange,l=e.dateFormat,s=e.label,u=e.describedBy,f=e.error,p=e.onFocus,d=e.onKeyDown,b=e.errorPosition,m=i()("bwf-calendar-input",{"is-empty":0===n.length,"is-error":f}),h=Object(c.uniqueId)("_woo-dates-input");return Object(r.createElement)("div",{className:m},Object(r.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:n,onChange:o,"aria-label":s,id:h,"aria-describedby":"".concat(h,"-message"),placeholder:l.toLowerCase(),onFocus:p,onKeyDown:d,disabled:t}),f&&Object(r.createElement)(a.Popover,{className:"bwf-calendar-input-error",focusOnMount:!1,position:b},f),Object(r.createElement)(a.Dashicon,{icon:"calendar"}),Object(r.createElement)("p",{className:"screen-reader-text",id:"".concat(h,"-message")},f||u))});u.propTypes={disabled:s.a.bool,value:s.a.string,onChange:s.a.func.isRequired,dateFormat:s.a.string.isRequired,label:s.a.string.isRequired,describedBy:s.a.string.isRequired,error:s.a.string,errorPosition:s.a.string,onFocus:s.a.func,onKeyDown:s.a.func},u.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:c.noop},t.a=u},206:function(e,t,n){"use strict";function r(e){return e<10?"has-".concat(e,"-items"):"has-10-items"}n.d(t,"a",(function(){return r}))},209:function(e,t,n){var r=n(140),a=n(149);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},223:function(e,t,n){"use strict";var r=n(46),a=n(53),o=Object(r.a)(a.b.cartAnalytics).getStateProp,i=Object(r.a)(a.b.contactAnalytics).getStateProp,c=Object(r.a)(a.b.emailAnalytics).getStateProp,l=Object(r.a)(a.b.emailTable).getStateProp,s=Object(r.a)(a.b.engagementAnalytics).getStateProp,u=Object(r.a)(a.b.directEmailTable).getStateProp,f={getCartAnalytics:function(){return o("data")},getCartAnalyticsLoading:function(){return o("isLoading")},getContactAnalytics:function(){return i("data")},getContactAnalyticsLoading:function(){return i("isLoading")},getEmailAnalytics:function(){return c("data")},getEmailAnalyticsLoading:function(){return c("isLoading")},getEmailTableList:function(){return l("data")},getEmailTableTotal:function(){return l("total")},getEmailTableOffset:function(){return l("offset")},getEmailTableLimit:function(){return l("limit")},getEmailTableLoading:function(){return l("isLoading")},getEmailTablePage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getEngagementAnalytics:function(){return s("data")},getEngagementAnalyticsLoading:function(){return s("isLoading")},getDirectEmailTableList:function(){return u("data")},getDirectEmailTableTotal:function(){return u("total")},getDirectEmailTableOffset:function(){return u("offset")},getDirectEmailTableLimit:function(){return u("limit")},getDirectEmailTableLoading:function(){return u("isLoading")},getDirectEmailTablePage:function(){return parseInt(u("offset"))/parseInt(u("limit"))+1}};t.a=f},227:function(e,t,n){var r=n(162),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[c]=n:delete e[c]),a}},228:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},249:function(e,t,n){},250:function(e,t,n){"use strict";var r=n(0),a=n(9),o=n(4),i=n(15),c=n.n(i),l=n(171),s=n.n(l),u=n(5),f=n(8),p=n.n(f),d=n(18),b=n(31),m=function(e){var t,n=e.delta,i=e.href,l=e.hrefType,f=e.isOpen,p=e.label,m=e.onToggle,h=e.prevLabel,y=e.prevValue,g=e.reverseTrend,v=e.selected,O=e.value,w=e.onLinkClickCallback,j=e.tileIcon,k=c()("bwf-summary-item-container",{"is-dropdown-button":m,"is-dropdown-expanded":f}),x=c()("bwf-summary-item",{"is-selected":v,"is-good-trend":g?n<0:n>0,"is-bad-trend":g?n>0:n<0}),S=n>0?Object(o.sprintf)(Object(o.__)("Up %d%% from %s","wp-marketing-automations-crm"),n,h):Object(o.sprintf)(Object(o.__)("Down %d%% from %s","wp-marketing-automations-crm"),Math.abs(n),h);n||(S=Object(o.sprintf)(Object(o.__)("No change from %s","wp-marketing-automations-crm"),h));var _={className:x,"aria-current":v?"page":null};if(m||i){var E=!!m;t=E?a.Button:d.a,E?(_.onClick=m,_["aria-expanded"]=f):(_.href=i,_.role="menuitem",_.onClick=w,_.type=l)}else t="div";return Object(r.createElement)("li",{className:k},Object(r.createElement)(t,_,Object(r.createElement)(b.a,{gap:"5",align:"center"},Object(r.createElement)(b.b,null,Object(r.createElement)("div",{className:"bwf-summary-item-label"},Object(r.createElement)(a.__experimentalText,{variant:"body.small"},p)),Object(r.createElement)("div",{className:"bwf-summary-item-data"},Object(r.createElement)("div",{className:"bwf-summary-item-value"},Object(r.createElement)(a.__experimentalText,{variant:"title.small"},Object(u.isNil)(O)?Object(o.__)("-","wp-marketing-automations-crm"):O)),n&&Object(r.createElement)(a.Tooltip,{text:Object(u.isNil)(y)?Object(o.__)("-","wp-marketing-automations-crm"):"".concat(h," ").concat(y),position:"top center"},Object(r.createElement)("div",{className:"bwf-summary-item-delta",role:"presentation","aria-label":S},Object(r.createElement)(a.__experimentalText,{variant:"caption"},Object(u.isNil)(n)?Object(o.__)("-","wp-marketing-automations-crm"):Object(o.sprintf)(Object(o.__)("%d%%","wp-marketing-automations-crm"),n))))),m?Object(r.createElement)(s.a,{className:"bwf-summary-toggle",icon:"chevron-down",size:24}):null),j&&Object(r.createElement)(b.c,null,j))))};m.propTypes={delta:p.a.number,href:p.a.string,hrefType:p.a.oneOf(["wp-admin","wc-admin","external"]).isRequired,isOpen:p.a.bool,label:p.a.string.isRequired,onToggle:p.a.func,prevLabel:p.a.string,prevValue:p.a.oneOfType([p.a.number,p.a.string]),reverseTrend:p.a.bool,selected:p.a.bool,value:p.a.oneOfType([p.a.number,p.a.string]),onLinkClickCallback:p.a.func},m.defaultProps={href:"",hrefType:"wc-admin",isOpen:!1,prevLabel:Object(o.__)("Previous Period:","wp-marketing-automations-crm"),reverseTrend:!1,selected:!1,onLinkClickCallback:u.noop},t.a=m},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){"use strict";var r=n(0),a=n(9),o=n(33),i=n(8),c=n.n(i),l=n(15),s=n.n(l);n(317);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=function(e){var t=e.labels,n=e.isOpen,i=f(e,["labels","isOpen"]),c=s()("bwf-dropdown-button",{"is-open":n,"is-multi-line":t.length>1});return Object(r.createElement)(a.Button,u({className:c,"aria-expanded":n},i),Object(r.createElement)("div",{className:"bwf-dropdown-button-labels"},t.map((function(e,t){return Object(r.createElement)("span",{key:t},Object(o.decodeEntities)(e))}))))};p.propTypes={labels:c.a.array.isRequired,isOpen:c.a.bool},t.a=p},258:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(15),i=n.n(o),c=n(780),l=n(5),s=n(171),u=n.n(s),f=n(9),p=n(809),d=n(461),b=n(8),m=n.n(b),h=n(95),y=n(20);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,a,o=j(i);function i(){return v(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.height;return Object(r.createElement)("div",{"aria-hidden":"true",className:"bwf-chart-placeholder",style:{height:e}},Object(r.createElement)(f.Spinner,null))}}])&&O(t.prototype,n),a&&O(t,a),i}(r.Component);S.propTypes={height:m.a.number},S.defaultProps={height:0};var _=S,E=n(129),T=(n(251),n(794)),C=n(775);n(252);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var a=F(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,n,a,o=N(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).chartRef=Object(r.createRef)(),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.drawUpdatedChart()}},{key:"shouldComponentUpdate",value:function(e){return this.props.className!==e.className||!Object(l.isEqual)(this.props.data,e.data)||!Object(l.isEqual)(this.props.orderedKeys,e.orderedKeys)||this.props.drawChart!==e.drawChart||this.props.height!==e.height||this.props.chartType!==e.chartType||this.props.width!==e.width}},{key:"componentDidUpdate",value:function(){this.drawUpdatedChart()}},{key:"componentWillUnmount",value:function(){this.deleteChart()}},{key:"delayedScroll",value:function(){var e=this.props.tooltip;return Object(l.throttle)((function(){e&&e.hide()}),300)}},{key:"deleteChart",value:function(){Object(C.a)(this.chartRef.current).selectAll("svg").remove()}},{key:"drawUpdatedChart",value:function(){(0,this.props.drawChart)(this.getContainer())}},{key:"getContainer",value:function(){var e=this.props,t=e.className,n=e.height,r=e.width;this.deleteChart();var a=Object(C.a)(this.chartRef.current).append("svg").attr("viewBox","0 0 ".concat(r," ").concat(n)).attr("height",n).attr("width",r).attr("preserveAspectRatio","xMidYMid meet");return t&&a.attr("class","".concat(t,"__viewbox")),a.append("g")}},{key:"render",value:function(){var e=this.props.className;return Object(r.createElement)("div",{className:i()("d3-base",e),ref:this.chartRef,onScroll:this.delayedScroll()})}}])&&P(t.prototype,n),a&&P(t,a),c}(r.Component);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}M.propTypes={className:m.a.string,data:m.a.array,orderedKeys:m.a.array,tooltip:m.a.object,chartType:m.a.string};var K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.b;return"function"==typeof e?e:t(e)},V=function(e){return A(new Set(e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]))).filter((function(e){return"date"!==e}))},H=n(803),W=n(785),Y=n(795),U=n(30),G=n.n(U);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(H.a)().domain(e.filter((function(e){return e.visible})).map((function(e){return e.key}))).rangeRound([0,t.bandwidth()]).padding(n?0:.07)},Q=function(e,t){return Object(W.a)().domain([G()(e[0],"YYYY-MM-DD HH:mm").toDate(),G()(e[e.length-1],"YYYY-MM-DD HH:mm").toDate()]).rangeRound([0,t])},J=function(e){var t=function(e){var t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return e.forEach((function(e){for(var r=0,a=Object.entries(e);r<a.length;r++){var o=z(a[r],2),i=o[0],c=o[1];"date"!==i&&Number.isFinite(c.value)&&c.value>t&&(t=c.value),"date"!==i&&Number.isFinite(c.value)&&c.value<n&&(n=c.value)}})),{upper:t,lower:n}}(e),n=t.lower,r=t.upper,a=function(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))return 1;if(0===t&&0===e)return 1/3;var n=4/3*Math.max(-e,t),r=3*Math.pow(10,(Math.log(n)*Math.LOG10E+1|0)-2),a=Math.ceil(n/r)*r/3;return t<1&&e>-1?Math.round(4*a)/4:Math.ceil(a)}(n,r),o={lower:0,upper:0,step:a};return(Number.isFinite(n)||n<0)&&(o.lower=Math.floor(n/a)*a,o.lower===n&&0!==n&&(o.lower-=a)),(Number.isFinite(r)||r>0)&&(o.upper=Math.ceil(r/a)*a,o.upper===r&&0!==r&&(o.upper+=a)),o},Z=n(804),ee=function(e){for(var t=[],n=1;n<=Math.floor(Math.sqrt(e));n++)e%n==0&&(t.push(n),e/n!==n&&t.push(e/n));return t.sort((function(e,t){return e-t})),t},te=function(e,t,n,r){var a,o=function(e,t){if(e<783)return 7;if(e>=783&&e<=1130)return 12;if(e>1130&&e<=1365){if("time-comparison"===t)return 16;if("item-comparison"===t)return 12}else if(e>1365){if("time-comparison"===t)return 31;if("item-comparison"===t)return 16}return 16}(t,n);return(e.length>=63&&"day"===r||e.length>=9&&"week"===r)&&(e=(a=e).filter((function(e,t){return 0===t||G()(e).toDate().getMonth()!==G()(a[t-1]).toDate().getMonth()}))),e.length<=o||"hour"===r&&function(e){var t=G()(e[0]).toDate(),n=G()(e[e.length-1]).toDate();return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}(e)&&t>783?e:function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n[0]!==e[0]&&n.unshift(e[0]),n}(e,function(e,t){for(var n=[],r=1;n.length<=3;)n=ee(e.length-r),r+=1;return n.find((function(n){return e.length/n<t}))}(e,o))},ne=function(e,t,n,r){var a=G()(e).toDate(),o=0!==t?n[t-1]:n[t];return o=o instanceof Date?o:G()(o).toDate(),0===t?r(a):function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new RegExp([" |,"],"g"),r=e.split(n),a=t.split(n),o=new Array,i=e.length>t.length?r:a,c=0;c<i.length;c++)r[c]!==a[c]&&o.push(a[c]);return o}(r(o),r(a)).join(" ")};function re(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(e,t,n){for(var r=[],a=0;a<e;a++){var o=(a+1)/e*t,i=n?Math.round(o):o;r[r.length-1]!==i&&r.push(i)}return r},ie=function(e,t,n){return[0].concat(re(function(e,t){if(e>=0)return[];var n=Math.ceil(-e/t);return oe(n,e,e<-1)}(e,n)),re(function(e,t){if(e<=0)return[];var n=Math.ceil(e/t);return oe(n,e,e>1)}(t,n)))},ce=function(e,t,n,r,a,o){!function(e,t,n,r){var a=n.yScale.range()[0],o=te(t.uniqueDates,n.xScale.range()[1],t.mode,t.interval);"line"===t.chartType&&(o=o.map((function(e){return G()(e).toDate()}))),e.append("g").attr("class","axis").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a,")")).call(Object(Z.a)(n.xScale).tickValues(o).tickFormat((function(e,n){return"hour"===t.interval?r.xFormat(e instanceof Date?e:G()(e).toDate()):ne(e,n,o,r.xFormat)}))),e.append("g").attr("class","axis axis-month").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a+14,")")).call(Object(Z.a)(n.xScale).tickValues(o).tickFormat((function(e,t){return ne(e,t,o,r.x2Format)}))),e.append("g").attr("class","pipes").attr("transform","translate(0, ".concat(a,")")).call(Object(Z.a)(n.xScale).tickValues(o).tickSize(5).tickFormat(""))}(e,t,n,r),function(e,t,n,r,a){var o=ie(t.yScale.domain()[0],t.yScale.domain()[1],t.step),i=t.xScale.range()[1],c=a?i+r.left+r.right/2-15:-r.left/2-15,l=t.yMin>=0||t.yMax>0?" with-positive-ticks":"";e.append("g").attr("class","grid"+l).attr("transform","translate(-".concat(r.left,", 0)")).call(Object(Z.b)(t.yScale).tickValues(o).tickSize(-i-r.left-r.right).tickFormat("")),e.append("g").attr("class","axis y-axis").attr("aria-hidden","true").attr("transform","translate("+c+", 12)").attr("text-anchor","start").call(Object(Z.b)(t.yScale).tickValues(0===t.yMax&&0===t.yMin?[o[0]]:o).tickFormat((function(e){return e>-1&&e<1&&n.yBelow1Format?n.yBelow1Format(e):n.yFormat(e)})))}(e,n,r,a,o),e.selectAll(".domain").remove(),e.selectAll(".axis .tick line").remove()},le=n(596),se=n(788);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e,t,n,r,a,o){var i,c,s=r.yScale.range()[0],u=r.xScale.range()[1],f=(i=r.xScale,c=r.yScale,Object(se.a)().x((function(e){return i(G()(e.date).toDate())})).y((function(e){return c(e.value)}))),p=function(e,t){return t.map((function(t){return{key:t.key,focus:t.focus,visible:t.visible,label:t.label,values:e.map((function(e){return{date:e.date,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,visible:t.visible}}))}}))}(t,n.visibleKeys),d=e.append("g").attr("class","lines").selectAll(".line-g").data(p.filter((function(e){return e.visible})).reverse()).enter().append("g").attr("class","line-g").attr("role","region").attr("aria-label",(function(e){return e.label||e.key})),b=function(e,t,n,r,a){var o=n.slice().reverse();return t.map((function(n,i){var c=Object(l.first)(e.filter((function(e){return e.date===n}))),s=a(G()(n).toDate()),u=a(i>=1?G()(t[i-1]).toDate():G()(t[0]).toDate()),f=i<t.length-1?a(G()(t[i+1]).toDate()):a(G()(t[t.length-1]).toDate()),p=0===i?f-s:s-u,d=0===i?0:s-p/2;return p=0===i||i===t.length-1?p/2:p,{date:n,start:t.length>1?d:0,width:t.length>1?p:r,values:o.map((function(e){var t=e.key,r=c[t];return r?{key:t,value:r.value,date:n}:null})).filter(Boolean)}}))}(t,n.uniqueDates,n.visibleKeys,u,r.xScale),m=u<=1365||n.uniqueDates.length>50?2:3;m=u<=783?1.25:m;var h=u<=1365?4:6;n.uniqueDates.length>1&&d.append("path").attr("fill","none").attr("stroke-width",m).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke",(function(e){return n.getColor(e.key)})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("d",(function(e){return f(e.values)}));u/n.uniqueDates.length>36&&d.selectAll("circle").data((function(e,t){return e.values.map((function(n){return fe(fe({},n),{},{i:t,visible:e.visible,key:e.key})}))})).enter().append("circle").attr("r",h).attr("fill",(function(e){return n.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",m+1).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("cx",(function(e){return r.xScale(G()(e.date).toDate())})).attr("cy",(function(e){return r.yScale(e.value)})).attr("tabindex","0").attr("aria-label",(function(e){var t=a.screenReaderFormat(e.date instanceof Date?e.date:G()(e.date).toDate());return"".concat(t," ").concat(o.valueFormat(e.value))})).on("focus",(function(e,n,r){o.show(t.find((function(t){return t.date===e.date})),r[n].parentNode,le.b.target)})).on("blur",(function(){return o.hide()}));var y=e.append("g").attr("class","focusspaces").selectAll(".focus").data(b).enter().append("g").attr("class","focus"),g=y.append("g").attr("class","focus-grid").attr("opacity","0");g.append("line").attr("x1",(function(e){return r.xScale(G()(e.date).toDate())})).attr("y1",0).attr("x2",(function(e){return r.xScale(G()(e.date).toDate())})).attr("y2",s),g.selectAll("circle").data((function(e){return e.values})).enter().append("circle").attr("r",h+2).attr("fill",(function(e){return n.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",m+2).attr("cx",(function(e){return r.xScale(G()(e.date).toDate())})).attr("cy",(function(e){return r.yScale(e.value)})),y.append("rect").attr("class","focus-g").attr("x",(function(e){return e.start})).attr("y",0).attr("width",(function(e){return e.width})).attr("height",s).attr("opacity",0).on("mouseover",(function(e,r,a){var i=(0===r||r===b.length-1)&&n.uniqueDates.length>1?0:.5;o.show(t.find((function(t){return t.date===e.date})),le.b.target,a[r].parentNode,i)})).on("mouseout",(function(){return o.hide()}))},be=[[],[.5],[.333,.667],[.2,.5,.8],[.12,.375,.625,.88],[0,.25,.5,.75,1]],me=function(e,t){return function(n){var r=e.length>5?5:e.length,a=Object(l.findIndex)(e,(function(e){return e.key===n})),o=a<=4?be[r][a]:0;return t(o)}};function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=null,this.chart=null,this.position="",this.title="",this.labelFormat="",this.valueFormat="",this.visibleKeys="",this.getColor=null,this.margin=24}var t,n,r;return t=e,(n=[{key:"calculateXPosition",value:function(e,t,n){var r=this.ref.getBoundingClientRect(),a=this.ref.parentNode.querySelector(".d3-base").getBoundingClientRect(),o=Math.max(a.left,t.left);if("below"===this.position)return Math.max(this.margin,Math.min(e.left+.5*e.width-r.width/2-o,a.width-r.width-this.margin));var i=e.left+e.width*n+this.margin-o;return i+r.width+this.margin>a.width?Math.max(this.margin,e.left+e.width*(1-n)-r.width-this.margin-o):i}},{key:"calculateYPosition",value:function(e,t){if("below"===this.position)return t.height;var n=this.ref.getBoundingClientRect(),r=e.top+this.margin-t.top;return r+n.height+this.margin>t.height?Math.max(0,e.top-n.height-this.margin-t.top):r}},{key:"calculatePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.getBoundingClientRect(),r=this.chart.getBoundingClientRect();return"below"===this.position&&(t=0),{x:this.calculateXPosition(n,r,t),y:this.calculateYPosition(n,r)}}},{key:"hide",value:function(){Object(C.a)(this.chart).selectAll(".barfocus, .focus-grid").attr("opacity","0"),Object(C.a)(this.ref).style("visibility","hidden")}},{key:"getTooltipRowLabel",value:function(e,t){return e[t.key].labelDate?this.labelFormat(G()(e[t.key].labelDate).toDate()):t.label||t.key}},{key:"show",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(this.visibleKeys.length){Object(C.a)(n).select(".focus-grid, .barfocus").attr("opacity","1");var o=this.calculatePosition(t,a),i=this.visibleKeys.map((function(t){return'\n\t\t\t\t\t<li class="key-row">\n\t\t\t\t\t\t<div class="key-container">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass="key-color"\n\t\t\t\t\t\t\t\tstyle="background-color: '.concat(r.getColor(t.key),'">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="key-key">').concat(r.getTooltipRowLabel(e,t),'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="key-value">').concat(r.valueFormat(e[t.key].value),"</span>\n\t\t\t\t\t</li>\n\t\t\t\t")})),c=this.title?this.title:this.labelFormat(G()(e.date).toDate());Object(C.a)(this.ref).style("left",o.x+"px").style("top",o.y+"px").style("visibility","visible").html("\n\t\t\t\t<div>\n\t\t\t\t\t<h4>".concat(c,"</h4>\n\t\t\t\t\t<ul>\n\t\t\t\t\t").concat(i.join(""),"\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t"))}}}])&&he(t.prototype,n),r&&he(t,r),e}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var a=xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?ke(e):t}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){return"rtl"===document.documentElement.dir},_e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(c,e);var t,n,a,o=we(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).drawChart=t.drawChart.bind(ke(t)),t.getParams=t.getParams.bind(ke(t)),t.tooltipRef=Object(r.createRef)(),t}return t=c,(n=[{key:"getFormatParams",value:function(){var e=this.props,t=e.screenReaderFormat,n=e.xFormat,r=e.x2Format,a=e.yFormat,o=e.yBelow1Format;return{screenReaderFormat:K(t,T.a),xFormat:K(n,T.a),x2Format:K(r,T.a),yBelow1Format:K(o),yFormat:K(a)}}},{key:"getScaleParams",value:function(e){var t=this.props,n=t.data,r=t.height,a=t.orderedKeys,o=t.chartType,i=this.getMargin(),c=r-i.top-i.bottom,l=this.getWidth()-i.left-i.right,s=J(n),u=s.upper,f=s.lower,p=s.step,d=function(e,t,n){return Object(Y.a)().domain([Math.min(t,0),0===n&&0===t?1:Math.max(n,0)]).rangeRound([e,0])}(c,f,u);if("line"===o)return{step:p,xScale:Q(e,l),yMax:u,yMin:f,yScale:d};var b=this.shouldBeCompact(),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(H.a)().domain(e).range([0,t]).paddingInner(n?0:.1)}(e,l,b);return{step:p,xGroupScale:$(a,m,b),xScale:m,yMax:u,yMin:f,yScale:d}}},{key:"getParams",value:function(e){var t=this.props,n=t.chartType,r=t.colorScheme,a=t.data,o=t.interval,i=t.mode,c=t.orderedKeys||function(e){return V(e).map((function(t){return{key:t,focus:!0,total:e.reduce((function(e,n){return e+n[t].value}),0),visible:!0}})).sort((function(e,t){return t.total-e.total}))}(a),l=c.filter((function(e){return e.visible})),s=c.length>5?l:c;return{getColor:me(s,r),interval:o,mode:i,chartType:n,uniqueDates:e,visibleKeys:l}}},{key:"createTooltip",value:function(e,t,n){var r=this.props,a=r.tooltipLabelFormat,o=r.tooltipPosition,i=r.tooltipTitle,c=r.tooltipValueFormat,l=new ye;l.ref=this.tooltipRef.current,l.chart=e,l.position=o,l.title=i,l.labelFormat=K(a,T.a),l.valueFormat=K(c),l.visibleKeys=n,l.getColor=t,this.tooltip=l}},{key:"drawChart",value:function(e){var t=this.props,n=t.data,r=t.dateParser,a=t.chartType,o=this.getMargin(),i=function(e,t){var n=Object(T.b)(t);return A(new Set(e.map((function(e){return e.date})))).sort((function(e,t){return n(e)-n(t)}))}(n,r),c=this.getFormatParams(),l=this.getParams(i),s=this.getScaleParams(i),u=e.attr("id","chart").append("g").attr("transform","translate(".concat(o.left,", ").concat(o.top,")"));this.createTooltip(u.node(),l.getColor,l.visibleKeys),ce(u,l,s,c,o,Se()),"line"===a&&de(u,n,l,s,c,this.tooltip),"bar"===a&&function(e,t,n,r,a,o){var i=r.yScale.range()[0],c=e.append("g").attr("class","bars").selectAll("g").data(t).enter().append("g").attr("transform",(function(e){return"translate(".concat(r.xScale(e.date),", 0)")})).attr("class","bargroup").attr("role","region").attr("aria-label",(function(e){return"item-comparison"===n.mode?a.screenReaderFormat(e.date instanceof Date?e.date:G()(e.date).toDate()):null}));c.append("rect").attr("class","barfocus").attr("x",0).attr("y",0).attr("width",r.xGroupScale.range()[1]).attr("height",i).attr("opacity","0").on("mouseover",(function(e,n,r){o.show(t.find((function(t){return t.date===e.date})),le.b.target,r[n].parentNode)})).on("mouseout",(function(){return o.hide()}));var l=r.yScale(0);c.selectAll(".bar").data((function(e){return n.visibleKeys.map((function(t){return{key:t.key,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,label:t.label,visible:t.visible,date:e.date}}))})).enter().append("rect").attr("class","bar").attr("x",(function(e){return r.xGroupScale(e.key)})).attr("y",(function(e){return Math.min(l,r.yScale(e.value))})).attr("width",r.xGroupScale.bandwidth()).attr("height",(function(e){return Math.abs(l-r.yScale(e.value))})).attr("fill",(function(e){return n.getColor(e.key)})).attr("pointer-events","none").attr("tabindex","0").attr("aria-label",(function(e){var r=e.label||e.key;if("time-comparison"===n.mode){var i=t.find((function(t){return t.date===e.date}));r=a.screenReaderFormat(G()(i[e.key].labelDate).toDate())}return"".concat(r," ").concat(o.valueFormat(e.value))})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).on("focus",(function(e,n,r){var a=e.value>0?le.b.target:le.b.target.parentNode;o.show(t.find((function(t){return t.date===e.date})),a,r[n].parentNode)})).on("blur",(function(){return o.hide()}))}(u,n,l,s,c,this.tooltip)}},{key:"shouldBeCompact",value:function(){var e=this.props,t=e.data,n=e.chartType,r=e.width;if("bar"!==n)return!1;var a=this.getMargin(),o=r-a.left-a.right,i=t&&t.length?Object.keys(t[0]).length-1:0;return o<t.length*(i+1)}},{key:"getMargin",value:function(){var e=this.props.margin;return Se()?{bottom:e.bottom,left:e.right,right:e.left,top:e.top}:e}},{key:"getWidth",value:function(){var e=this.props,t=e.data,n=e.chartType,r=e.width;if("bar"!==n)return r;var a=this.getMargin(),o=t&&t.length?Object.keys(t[0]).length-1:0,i=this.shouldBeCompact()?t.length*o:t.length*(o+1);return Math.max(r,i+a.left+a.right)}},{key:"getEmptyMessage",value:function(){var e=this.props,t=e.baseValue,n=e.data,a=e.emptyMessage;if(a&&function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<e.length;n++)for(var r=0,a=Object.entries(e[n]);r<a.length;r++){var o=L(a[r],2),i=o[0],c=o[1];if("date"!==i&&!Object(l.isNil)(c.value)&&c.value!==t)return!1}return!0}(n,t))return Object(r.createElement)("div",{className:"d3-chart__empty-message"},a)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.data,a=e.height,o=e.orderedKeys,c=e.chartType,l=this.getWidth();return Object(r.createElement)("div",{className:i()("d3-chart__container",t),style:{height:a}},this.getEmptyMessage(),Object(r.createElement)("div",{className:"d3-chart__tooltip",ref:this.tooltipRef}),Object(r.createElement)(M,{className:i()(t),data:n,drawChart:this.drawChart,height:a,orderedKeys:o,tooltip:this.tooltip,chartType:c,width:l}))}}])&&ve(t.prototype,n),a&&ve(t,a),c}(r.Component);_e.propTypes={baseValue:m.a.number,className:m.a.string,colorScheme:m.a.func,data:m.a.array.isRequired,dateParser:m.a.string.isRequired,emptyMessage:m.a.string,height:m.a.number,interval:m.a.oneOf(["hour","day","week","month","quarter","year"]),margin:m.a.shape({bottom:m.a.number,left:m.a.number,right:m.a.number,top:m.a.number}),mode:m.a.oneOf(["item-comparison","time-comparison"]),screenReaderFormat:m.a.oneOfType([m.a.string,m.a.func]),orderedKeys:m.a.array,tooltipLabelFormat:m.a.oneOfType([m.a.string,m.a.func]),tooltipValueFormat:m.a.oneOfType([m.a.string,m.a.func]),tooltipPosition:m.a.oneOf(["below","over"]),tooltipTitle:m.a.string,chartType:m.a.oneOf(["bar","line"]),width:m.a.number,xFormat:m.a.oneOfType([m.a.string,m.a.func]),x2Format:m.a.oneOfType([m.a.string,m.a.func]),yBelow1Format:m.a.oneOfType([m.a.string,m.a.func]),yFormat:m.a.oneOfType([m.a.string,m.a.func])},_e.defaultProps={baseValue:0,data:[],dateParser:"%Y-%m-%dT%H:%M:%S",height:200,margin:{bottom:30,left:40,right:0,top:20},mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",tooltipPosition:"over",tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",chartType:"line",width:600,xFormat:"%Y-%m-%d",x2Format:"",yBelow1Format:".3~f",yFormat:".3~s"};var Ee=_e,Te=n(94);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var a=Ie(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(l,e);var t,n,o,c=Re(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this)).listRef=Object(r.createRef)(),e.state={isScrollable:!1},e}return t=l,(n=[{key:"componentDidMount",value:function(){this.updateListScroll(),window.addEventListener("resize",this.updateListScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateListScroll)}},{key:"updateListScroll",value:function(){if(this&&this.listRef){var e=this.listRef.current,t=e.scrollHeight-e.scrollTop<=e.offsetHeight;this.setState({isScrollable:!t})}}},{key:"render",value:function(){var e=this.props,t=e.colorScheme,n=e.data,o=e.handleLegendHover,c=e.handleLegendToggle,l=e.interactive,s=e.legendDirection,u=e.legendValueFormat,f=e.instanceId,p=e.totalLabel,d=this.state.isScrollable,b=n.filter((function(e){return e.visible})),m=b.length,h="column"===s&&n.length>5&&p,y=n.length>5?b:n;return Object(r.createElement)("div",{className:i()("bwf-legend","bwf-legend-direction-".concat(s),{"has-total":h,"is-scrollable":d},this.props.className)},Object(r.createElement)("ul",{className:"bwf-legend-list",ref:this.listRef,onScroll:h?this.updateListScroll:null},n.map((function(e){return Object(r.createElement)("li",{className:i()("bwf-legend-item",{"bwf-legend-item-checked":e.visible}),key:e.key,id:"bwf-legend-".concat(f,"__item__").concat(e.key),onMouseEnter:o,onMouseLeave:o,onBlur:o,onFocus:o},Object(r.createElement)("button",{onClick:c,id:"bwf-legend-".concat(f,"__item-button__").concat(e.key),disabled:e.visible&&m<=1||!e.visible&&m>=5||!l,title:m>=5?Object(a.sprintf)(Object(a.__)("You may select up to %d items.","wp-marketing-automations-crm"),5):""},Object(r.createElement)("div",{className:"bwf-legend-item-container"},Object(r.createElement)("span",{className:i()("bwf-legend-item-checkmark",{"bwf-legend-item-checkmark-checked":e.visible}),style:e.visible?{color:me(y,t)(e.key)}:null}),Object(r.createElement)("span",{className:"bwf-legend-item-title"},e.label),Object(r.createElement)("span",{className:"bwf-legend-item-total"},K(u)(e.total)))))}))),h&&Object(r.createElement)("div",{className:"bwf-legend-total"},p))}}])&&De(t.prototype,n),o&&De(t,o),l}(r.Component);Fe.propTypes={className:m.a.string,colorScheme:m.a.func,data:m.a.array.isRequired,handleLegendToggle:m.a.func,handleLegendHover:m.a.func,interactive:m.a.bool,legendDirection:m.a.oneOf(["row","column"]),legendValueFormat:m.a.oneOfType([m.a.string,m.a.func]),totalLabel:m.a.string,instanceId:m.a.number},Fe.defaultProps={interactive:!0,legendDirection:"row",legendValueFormat:","};var Me=Object(Te.withInstanceId)(Fe);n(253);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var a=Ye(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){switch(t){case"left_space":return[e+" ",""];case"right":return["",e];case"right_space":return[""," "+e];case"left":default:return[e,""]}}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(b,e);var t,n,o,s=Ve(b);function b(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=s.call(this,e)).chartBodyRef=Object(r.createRef)();var n=t.getDataKeys();return t.state={focusedKeys:[],visibleKeys:n.slice(0,5),width:0},t.prevDataKeys=n.sort(),t.handleTypeToggle=t.handleTypeToggle.bind(We(t)),t.handleLegendToggle=t.handleLegendToggle.bind(We(t)),t.handleLegendHover=t.handleLegendHover.bind(We(t)),t.updateDimensions=t.updateDimensions.bind(We(t)),t.getVisibleData=Object(d.a)(t.getVisibleData),t.getOrderedKeys=Object(d.a)(t.getOrderedKeys),t.setInterval=t.setInterval.bind(We(t)),t}return t=b,(n=[{key:"getDataKeys",value:function(){var e=this.props,t=e.data,n=e.filterParam,r=e.mode,a=e.query;if("item-comparison"===r){var o=n?Object(y.e)(a[n]):[];return this.getOrderedKeys([],[],o).map((function(e){return e.key}))}return V(t)}},{key:"componentDidUpdate",value:function(){var e=this.props.data;if(e&&e.length){var t=V(e).sort();if(!Object(l.isEqual)(t,this.prevDataKeys)){var n=this.getDataKeys();this.prevDataKeys=t,this.setState({visibleKeys:n.slice(0,5)})}}}},{key:"componentDidMount",value:function(){this.updateDimensions(),this.setD3DefaultFormat(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"setD3DefaultFormat",value:function(){var e=this.props.currency,t=e.symbol,n=e.symbolPosition,r=e.decimalSeparator,a=e.thousandSeparator;Object(c.a)({decimal:r,thousands:a,grouping:[3],currency:Ue(t,n)})}},{key:"getOrderedKeys",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this.props,a=r.data,o=r.legendTotals,i=r.mode;if(!a||0===a.length)return[];var c=a.reduce((function(e,t){return Object.entries(t).forEach((function(t){var n=Ae(t,2),r=n[0],a=n[1];"date"===r||e[r]||(e[r]=a.label)})),e}),{}),l=Object.entries(c).map((function(n){var r=Ae(n,2),i=r[0],c=r[1];return{focus:0===e.length||e.includes(i),key:i,label:c,total:o&&void 0!==o[i]?o[i]:a.reduce((function(e,t){return e+t[i].value}),0),visible:t.includes(i)}}));return"item-comparison"===i?l.sort((function(e,t){return t.total-e.total})).filter((function(e){return e.total>0||n.includes(parseInt(e.key,10))})):l}},{key:"handleTypeToggle",value:function(e){if(this.props.chartType!==e){var t=this.props,n=t.path,r=t.query;Object(y.j)({chartType:e},n,r)}}},{key:"handleLegendToggle",value:function(e){if(this.props.interactiveLegend){var t=e.currentTarget.id.split("_").pop(),n=this.state,r=n.focusedKeys,a=n.visibleKeys;a.includes(t)?this.setState({focusedKeys:Object(l.without)(r,t),visibleKeys:Object(l.without)(a,t)}):this.setState({focusedKeys:r.concat([t]),visibleKeys:a.concat([t])})}}},{key:"handleLegendHover",value:function(e){if("mouseleave"===e.type||"blur"===e.type)this.setState({focusedKeys:[]});else if("mouseenter"===e.type||"focus"===e.type){var t=e.currentTarget.id.split("__").pop();this.setState({focusedKeys:[t]})}}},{key:"updateDimensions",value:function(){this.setState({width:this.chartBodyRef.current.offsetWidth})}},{key:"getVisibleData",value:function(e,t){var n=t.filter((function(e){return e.visible}));return e.map((function(e){var t={date:e.date};return n.forEach((function(n){t[n.key]=e[n.key]})),t}))}},{key:"setInterval",value:function(e){var t=this.props,n=t.path,r=t.query;Object(y.j)({interval:e},n,r)}},{key:"renderIntervalSelector",value:function(){var e=this.props,t=e.interval,n=e.allowedIntervals;if(!n||n.length<1)return null;var o={hour:Object(a.__)("By hour","wp-marketing-automations-crm"),day:Object(a.__)("By day","wp-marketing-automations-crm"),week:Object(a.__)("By week","wp-marketing-automations-crm"),month:Object(a.__)("By month","wp-marketing-automations-crm"),quarter:Object(a.__)("By quarter","wp-marketing-automations-crm"),year:Object(a.__)("By year","wp-marketing-automations-crm")};return Object(r.createElement)(f.SelectControl,{value:t,options:n.map((function(e){return{value:e,label:o[e]}})),onChange:this.setInterval})}},{key:"getChartHeight",value:function(){var e=this.props,t=e.isViewportLarge;return e.isViewportMobile?180:t?300:220}},{key:"getLegendPosition",value:function(){var e=this.props,t=e.legendPosition,n=e.mode,r=e.isViewportWide;return t||(r&&"time-comparison"===n?"top":r&&"item-comparison"===n?"side":"bottom")}},{key:"render",value:function(){var e=this.state,t=e.focusedKeys,n=e.visibleKeys,o=e.width,c=this.props,s=c.baseValue,d=c.chartType,b=c.data,m=c.dateParser,h=c.emptyMessage,g=c.filterParam,v=c.interactiveLegend,O=c.interval,w=c.isRequesting,j=c.isViewportLarge,k=c.itemsLabel,x=c.mode,S=c.query,T=c.screenReaderFormat,C=c.showHeaderControls,D=c.title,P=c.tooltipLabelFormat,R=c.tooltipValueFormat,N=c.tooltipTitle,I=c.valueType,F=c.xFormat,M=c.x2Format,L=c.yBelow1Format,A=c.yFormat,B=c.hideTypeSelect,q=g?Object(y.e)(S[g]):[],K=this.getOrderedKeys(t,n,q),V=w?null:this.getVisibleData(b,K),H=this.getLegendPosition(),W="top"===H?"row":"column",Y="side"===H?"row":"column",U=this.getChartHeight(),G=w?null:Object(r.createElement)(Me,{colorScheme:p.a,data:K,handleLegendHover:this.handleLegendHover,handleLegendToggle:this.handleLegendToggle,interactive:v,legendDirection:W,legendValueFormat:R,totalLabel:Object(a.sprintf)(k,K.length)}),z=A,X=L;if(!A)switch(I){case"average":z=",.0f";break;case"currency":z="$.3~s",X="$.3~f";break;case"number":z=",.0f"}return Object(r.createElement)("div",{className:"bwf-chart"},C&&Object(r.createElement)("div",{className:"bwf-chart-header"},Object(r.createElement)(E.a,{className:"bwf-chart-title"},D),"top"===H&&G,this.renderIntervalSelector(),!B&&Object(r.createElement)(f.NavigableMenu,{className:"bwf-chart-types",orientation:"horizontal",role:"menubar"},Object(r.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"line"===d}),title:Object(a.__)("Line chart","wp-marketing-automations-crm"),"aria-checked":"line"===d,role:"menuitemradio",tabIndex:"line"===d?0:-1,onClick:Object(l.partial)(this.handleTypeToggle,"line")},Object(r.createElement)(u.a,{icon:"line-graph"})),Object(r.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"bar"===d}),title:Object(a.__)("Bar chart","wp-marketing-automations-crm"),"aria-checked":"bar"===d,role:"menuitemradio",tabIndex:"bar"===d?0:-1,onClick:Object(l.partial)(this.handleTypeToggle,"bar")},Object(r.createElement)(u.a,{icon:"stats-alt"})))),Object(r.createElement)(E.b,{component:!1},Object(r.createElement)("div",{className:i()("bwf-chart-body","bwf-chart-body-".concat(Y)),ref:this.chartBodyRef},"side"===H&&G,w&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},Object(a.__)("Your requested data is loading","wp-marketing-automations-crm")),Object(r.createElement)(_,{height:U})),!w&&o>0&&Object(r.createElement)(Ee,{baseValue:s,chartType:d,colorScheme:p.a,data:V,dateParser:m,height:U,emptyMessage:h,interval:O,margin:{bottom:50,left:80,right:30,top:0},mode:x,orderedKeys:K,screenReaderFormat:T,tooltipLabelFormat:P,tooltipValueFormat:R,tooltipPosition:j?"over":"below",tooltipTitle:N,valueType:I,width:"row"===Y?o-320:o,xFormat:F,x2Format:M,yBelow1Format:X,yFormat:z})),"bottom"===H&&Object(r.createElement)("div",{className:"bwf-chart-footer"},G)))}}])&&qe(t.prototype,n),o&&qe(t,o),b}(r.Component);Ge.propTypes={allowedIntervals:m.a.array,baseValue:m.a.number,chartType:m.a.oneOf(["bar","line"]),data:m.a.array.isRequired,dateParser:m.a.string.isRequired,emptyMessage:m.a.string,filterParam:m.a.string,itemsLabel:m.a.string,mode:m.a.oneOf(["item-comparison","time-comparison"]),path:m.a.string,query:m.a.object,interactiveLegend:m.a.bool,interval:m.a.oneOf(["hour","day","week","month","quarter","year"]),intervalData:m.a.object,isRequesting:m.a.bool,legendPosition:m.a.oneOf(["bottom","side","top"]),legendTotals:m.a.object,screenReaderFormat:m.a.oneOfType([m.a.string,m.a.func]),showHeaderControls:m.a.bool,title:m.a.string,tooltipLabelFormat:m.a.oneOfType([m.a.string,m.a.func]),tooltipValueFormat:m.a.oneOfType([m.a.string,m.a.func]),tooltipTitle:m.a.string,valueType:m.a.string,xFormat:m.a.string,x2Format:m.a.string,yBelow1Format:m.a.string,yFormat:m.a.string,currency:m.a.object},Ge.defaultProps={baseValue:0,chartType:"line",data:[],dateParser:"%Y-%m-%dT%H:%M:%S",interactiveLegend:!0,interval:"day",isRequesting:!1,mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",showHeaderControls:!0,tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",xFormat:"%d",x2Format:"%b %Y",currency:{symbol:"$",symbolPosition:"left",decimalSeparator:".",thousandSeparator:","}};t.a=Object(h.withViewportMatch)({isViewportMobile:"< medium",isViewportLarge:">= large",isViewportWide:">= wide"})(Ge)},259:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(9),i=n(8),c=n.n(i),l=n(95),s=n(15),u=n.n(s),f=n(5),p=n(206);var d=function(e){var t=e.label,n=e.orientation,i=e.itemCount,c=e.items,l=Object(f.uniqueId)("bwf-summary-helptext-"),s=Object(p.a)(i),d=u()("bwf-summary",function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s,"horizontal"===n));return Object(r.createElement)(o.NavigableMenu,{"aria-label":t,"aria-describedby":l,orientation:n,stopNavigationEvents:!0},Object(r.createElement)("p",{id:l,className:"screen-reader-text"},Object(a.__)("List of data points available for filtering. Use arrow keys to cycle through the list. Click a data point for a detailed report.","wp-marketing-automations-crm")),Object(r.createElement)("ul",{className:d},c))};d.propTypes={label:c.a.string,orientation:c.a.oneOf(["vertical","horizontal"]).isRequired,items:c.a.node.isRequired,itemCount:c.a.number.isRequired};var b=d,m=(n(249),function(e){var t=e.children,n=e.isDropdownBreakpoint,a=e.label,i=t({}),c=r.Children.count(i)||1,l=n?"vertical":"horizontal",s=Object(r.createElement)(b,{label:a,orientation:l,itemCount:c,items:i});if(!n||c<2)return s;var u=i.find((function(e){return!!e.props.selected}));return u?Object(r.createElement)(o.Dropdown,{className:"bwf-summary",position:"bottom",headerTitle:a,renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return Object(r.cloneElement)(u,{onToggle:n,isOpen:t})},renderContent:function(e){return Object(r.createElement)(b,{label:a,orientation:l,itemCount:c,items:t(e)})}}):s});m.propTypes={children:c.a.func.isRequired,label:c.a.string},m.defaultProps={label:Object(a.__)("Performance Indicators","wp-marketing-automations-crm")};t.a=Object(l.withViewportMatch)({isDropdownBreakpoint:"< large"})(m)},314:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},325:function(e,t,n){"use strict";var r=n(0),a=(n(493),n(484)),o=(n(9),n(13)),i=function(e){var t=e.groupID,n=e.items,i=e.className,c=void 0===i?"":i,l=e.sortable,s=e.groupData,u=e.handleClick,f=e.actions,p={};n.map((function(e){p[e.key]=Object(r.createRef)()})),Object(r.useEffect)((function(){for(var e in p)jQuery(p[e].current).click((function(e){var t=e.target.className.split(" ");if(!t.includes("components-form-toggle__input")&&!t.includes("components-toggle-control__label")){var n=jQuery(this).parents(".bwf-c-s-collapsible");n.hasClass("bwf-accordion-closed")?(n.find(".bwf-c-s-full").slideDown(400),n.removeClass("bwf-accordion-closed")):(n.find(".bwf-c-s-full").slideUp(400),n.addClass("bwf-accordion-closed"))}}))}),[]);var d=Object(a.c)((function(){return Object(r.createElement)(o.a,{icon:"menu"})}));return Object(r.createElement)(r.Fragment,null,n&&n.map((function(e){return e.hasOwnProperty("key")?Object(r.createElement)("div",{key:e.key,"data-accordion":e.key,className:c+" bwf-c-s-collapsible"},Object(r.createElement)("div",{className:"bwf-c-s-heading",ref:p[e.key]},l&&Object(r.createElement)(d,null),Object(r.createElement)("div",{className:"bwf-accordion-label-elm"},e.label),f&&f.map((function(e){return e.hasOwnProperty("key")?Object(r.createElement)("a",{onClick:function(n){n.preventDefault(),u(e.key,t,"group",0,s)},href:"",key:e.key,className:"bwf-accordion-"+e.class},e.label):null})),Object(r.createElement)("span",{ref:p[e.key],className:"dash-arrows dashicons dashicons-arrow-up-alt2"})),Object(r.createElement)("div",{className:"bwf-c-s-full bwf-c-s-allow-edit bwf-accordion"},e.display)):null})))};i.defaultProps={items:[{key:"",label:"",display:Object(r.createElement)("p",null)}]},t.a=i},326:function(e,t,n){"use strict";var r=n(0),a=n(4),o=n(9),i=n(8),c=n.n(i),l=(n(335),n(15)),s=n.n(l),u=n(30),f=n.n(u),p=n(128),d=n(5);n(314);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,a,o=v(i);function i(){return h(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.options,a=e.selected,o=e.onSelect,i=e.name,c=e.legend;return Object(r.createElement)("fieldset",{className:"bwf-segment-selection"},Object(r.createElement)("legend",{className:"screen-reader-text"},c),Object(r.createElement)("div",{className:s()(t,"bwf-segment-selection-container")},n.map((function(e){var t=e.value,n=e.label;if(!t||!n)return null;var c=Object(d.uniqueId)("".concat(t,"_"));return Object(r.createElement)("div",{className:"bwf-segment-selection-item",key:t},Object(r.createElement)("input",{className:"bwf-segment-selection-input",type:"radio",name:i,id:c,checked:a===t,onChange:Object(d.partial)(o,m({},i,t))}),Object(r.createElement)("label",{htmlFor:c},Object(r.createElement)("span",{className:"bwf-segment-selection-label"},n)))}))))}}])&&y(t.prototype,n),a&&y(t,a),i}(r.Component);j.propTypes={className:c.a.string,options:c.a.arrayOf(c.a.shape({value:c.a.string.isRequired,label:c.a.string.isRequired})).isRequired,selected:c.a.string,onSelect:c.a.func.isRequired,name:c.a.string.isRequired,legend:c.a.string.isRequired};var k=j;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var a=D(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,n,o,i=T(c);function c(){return S(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.onSelect,n=e.compare;return Object(r.createElement)(k,{options:p.h,selected:n,onSelect:t,name:"compare",legend:Object(a.__)("compare to","wp-marketing-automations-crm")})}}])&&_(t.prototype,n),o&&_(t,o),c}(r.Component);P.propTypes={onSelect:c.a.func.isRequired,compare:c.a.string};var R=P,N=(n(315),n(316),n(336)),I=n(95),F=(n(158),n(199)),M={calendarLabel:Object(a.__)("Calendar","wp-marketing-automations-crm"),closeDatePicker:Object(a.__)("Close","wp-marketing-automations-crm"),focusStartDate:Object(a.__)("Interact with the calendar and select start and end dates.","wp-marketing-automations-crm"),clearDate:Object(a.__)("Clear Date","wp-marketing-automations-crm"),clearDates:Object(a.__)("Clear Dates","wp-marketing-automations-crm"),jumpToPrevMonth:Object(a.__)("Move backward to switch to the previous month.","wp-marketing-automations-crm"),jumpToNextMonth:Object(a.__)("Move forward to switch to the next month.","wp-marketing-automations-crm"),enterKey:Object(a.__)("Enter key","wp-marketing-automations-crm"),leftArrowRightArrow:Object(a.__)("Right and left arrow keys","wp-marketing-automations-crm"),upArrowDownArrow:Object(a.__)("up and down arrow keys","wp-marketing-automations-crm"),pageUpPageDown:Object(a.__)("page up and page down keys","wp-marketing-automations-crm"),homeEnd:Object(a.__)("Home and end keys","wp-marketing-automations-crm"),escape:Object(a.__)("Escape key","wp-marketing-automations-crm"),questionMark:Object(a.__)("Question mark","wp-marketing-automations-crm"),selectFocusedDate:Object(a.__)("Select the date in focus.","wp-marketing-automations-crm"),moveFocusByOneDay:Object(a.__)("Move backward (left) and forward (right) by one day.","wp-marketing-automations-crm"),moveFocusByOneWeek:Object(a.__)("Move backward (up) and forward (down) by one week.","wp-marketing-automations-crm"),moveFocusByOneMonth:Object(a.__)("Switch months.","wp-marketing-automations-crm"),moveFocustoStartAndEndOfWeek:Object(a.__)("Go to the first or last day of a week.","wp-marketing-automations-crm"),returnFocusToInput:Object(a.__)("Return to the date input field.","wp-marketing-automations-crm"),keyboardNavigationInstructions:Object(a.__)("Press the down arrow key to interact with the calendar and select a date.","wp-marketing-automations-crm"),chooseAvailableStartDate:function(e){var t=e.date;return Object(a.sprintf)(Object(a.__)("Select %s as a start date.","wp-marketing-automations-crm"),t)},chooseAvailableEndDate:function(e){var t=e.date;return Object(a.sprintf)(Object(a.__)("Select %s as an end date.","wp-marketing-automations-crm"),t)},chooseAvailableDate:function(e){return e.date},dateIsUnavailable:function(e){var t=e.date;return Object(a.sprintf)(Object(a.__)("%s is not selectable.","wp-marketing-automations-crm"),t)},dateIsSelected:function(e){var t=e.date;return Object(a.sprintf)(Object(a.__)("Selected. %s","wp-marketing-automations-crm"),t)}};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(c,e);var t,n,o,i=K(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).onDatesChange=t.onDatesChange.bind(H(t)),t.onFocusChange=t.onFocusChange.bind(H(t)),t.onInputChange=t.onInputChange.bind(H(t)),t.nodeRef=Object(r.createRef)(),t.keepFocusInside=t.keepFocusInside.bind(H(t)),t}return t=c,(n=[{key:"keepFocusInside",value:function(e,t){if(this.nodeRef.current){var n=this.props.losesFocusTo;if("container"!==e||!t.target||!t.target.classList.contains("DayPickerNavigation_button")&&!t.target.classList.contains("CalendarDay")||t.relatedTarget&&(t.relatedTarget.classList.contains("DayPickerNavigation_button")||t.relatedTarget.classList.contains("CalendarDay"))){if("onPrevMonthClick"===e||"onNextMonthClick"===e){var r=this.nodeRef.current.querySelector(".DayPickerNavigation_button");r&&r.focus()}}else{if(t.relatedTarget&&(t.relatedTarget.classList.contains("DayPickerNavigation_button")||t.relatedTarget.classList.contains("CalendarDay")))return;if(t.relatedTarget&&n&&n.contains(t.relatedTarget))return;var a=this.nodeRef.current.querySelector(".DayPicker_focusRegion");a&&a.focus()}}}},{key:"onDatesChange",value:function(e){var t=e.startDate,n=e.endDate,r=this.props,a=r.onUpdate,o=r.shortDateFormat;a({after:t,before:n,afterText:t?t.format(o):"",beforeText:n?n.format(o):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var n,r=t.target.value,a=this.props,o=a.after,i=a.before,c=a.shortDateFormat,l=Object(p.k)(e,r,i,o,c),s=l.date,u=l.error;this.props.onUpdate((A(n={},e,s),A(n,e+"Text",r),A(n,e+"Error",r.length>0?u:null),n))}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var n=t||f()();return e?n.clone().subtract(1,"month"):n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.after,o=t.before,i=t.focusedInput,c=t.afterText,l=t.beforeText,u=t.afterError,f=t.beforeError,p=t.shortDateFormat,b=t.isViewportMobile,m=t.isViewportSmall,h=t.isInvalidDate,y=b&&!m;return Object(r.createElement)("div",{className:s()("bwf-calendar",{"is-mobile":b})},Object(r.createElement)("div",{className:"bwf-calendar-inputs"},Object(r.createElement)(F.a,{value:c,onChange:Object(d.partial)(this.onInputChange,"after"),dateFormat:p,label:Object(a.__)("Start Date","wp-marketing-automations-crm"),error:u,describedBy:Object(a.sprintf)(Object(a.__)("Date input describing a selected date range's start date in format %s","wp-marketing-automations-crm"),p),onFocus:function(){return e.onFocusChange("startDate")}}),Object(r.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(a.__)("to","wp-marketing-automations-crm")),Object(r.createElement)(F.a,{value:l,onChange:Object(d.partial)(this.onInputChange,"before"),dateFormat:p,label:Object(a.__)("End Date","wp-marketing-automations-crm"),error:f,describedBy:Object(a.sprintf)(Object(a.__)("Date input describing a selected date range's end date in format %s","wp-marketing-automations-crm"),p),onFocus:function(){return e.onFocusChange("endDate")}})),Object(r.createElement)("div",{className:"bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(d.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(r.createElement)(N.DayPickerRangeController,{onNextMonthClick:Object(d.partial)(this.keepFocusInside,"onNextMonthClick"),onPrevMonthClick:Object(d.partial)(this.keepFocusInside,"onPrevMonthClick"),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:i,startDate:n,endDate:o,orientation:"horizontal",numberOfMonths:y?2:1,isOutsideRange:function(e){return h&&h(e.toDate())},minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:"rtl"===document.documentElement.dir,initialVisibleMonth:this.setTnitialVisibleMonth(y,o),phrases:M})))}}])&&B(t.prototype,n),o&&B(t,o),c}(r.Component);Y.propTypes={after:c.a.object,afterError:c.a.string,afterText:c.a.string,before:c.a.object,beforeError:c.a.string,beforeText:c.a.string,focusedInput:c.a.string,isInvalidDate:c.a.func,onUpdate:c.a.func.isRequired,shortDateFormat:c.a.string.isRequired,losesFocusTo:c.a.instanceOf(Element)};var U=Object(I.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(Y),G=n(129);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var a=ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(c,e);var t,n,o,i=J(c);function c(){return X(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.onSelect,n=e.period;return Object(r.createElement)(k,{options:Object(d.filter)(p.i,(function(e){return"custom"!==e.value})),selected:n,onSelect:t,name:"period",legend:Object(a.__)("select a preset period","wp-marketing-automations-crm")})}}])&&$(t.prototype,n),o&&$(t,o),c}(r.Component);te.propTypes={onSelect:c.a.func.isRequired,period:c.a.string};var ne=te;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var a=se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(l,e);var t,n,i,c=ie(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(e=c.call(this)).onTabSelect=e.onTabSelect.bind(le(e)),e.controlsRef=Object(r.createRef)(),e}return t=l,(n=[{key:"onTabSelect",value:function(e){var t=this.props,n=t.onUpdate,r=t.period;"period"===e&&"custom"===r&&n({period:"today"})}},{key:"isFutureDate",value:function(e){return f()().isBefore(f()(e),"day")}},{key:"render",value:function(){var e=this,t=this.props,n=t.period,i=t.compare,c=t.hideCompare,l=t.after,u=t.before,f=t.onUpdate,p=t.onClose,d=t.onSelect,b=t.isValidSelection,m=t.resetCustomValues,h=t.focusedInput,y=t.afterText,g=t.beforeText,v=t.afterError,O=t.beforeError,w=t.shortDateFormat;return Object(r.createElement)("div",null,Object(r.createElement)(G.a,{className:"screen-reader-text",tabIndex:"0"},Object(a.__)("Select date range and comparison","wp-marketing-automations-crm")),Object(r.createElement)(G.b,{component:!1},Object(r.createElement)(G.a,{className:"bwf-filters-date-text"},Object(a.__)("select a date range","wp-marketing-automations-crm")),Object(r.createElement)(o.TabPanel,{tabs:[{name:"period",title:Object(a.__)("Presets","wp-marketing-automations-crm"),className:"bwf-filters-date-tab"},{name:"custom",title:Object(a.__)("Custom","wp-marketing-automations-crm"),className:"bwf-filters-date-tab"}],className:"bwf-filters-date-tabs",activeClass:"is-active",initialTabName:"custom"===n?"custom":"period",onSelect:this.onTabSelect},(function(t){return Object(r.createElement)(r.Fragment,null,"period"===t.name&&Object(r.createElement)(ne,{onSelect:f,period:n}),"custom"===t.name&&Object(r.createElement)(U,{after:l,before:u,onUpdate:f,isInvalidDate:e.isFutureDate,focusedInput:h,afterText:y,beforeText:g,afterError:v,beforeError:O,shortDateFormat:w,losesFocusTo:e.controlsRef.current}),Object(r.createElement)("div",{className:s()("bwf-filters-date-content-controls",{"is-custom":"custom"===t.name}),ref:e.controlsRef},!c&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(G.a,{className:"bwf-filters-date-text"},Object(a.__)("compare to","wp-marketing-automations-crm")),Object(r.createElement)(R,{onSelect:f,compare:i})),Object(r.createElement)("div",{className:"bwf-filters-date-button-group"},"custom"===t.name&&Object(r.createElement)(o.Button,{className:"bwf-filters-date-button",isSecondary:!0,onClick:m,disabled:!(l||u)},Object(a.__)("Reset","wp-marketing-automations-crm")),b(t.name)?Object(r.createElement)(o.Button,{className:"bwf-filters-date-button",onClick:d(t.name,p),isPrimary:!0},Object(a.__)("Update","wp-marketing-automations-crm")):Object(r.createElement)(o.Button,{className:"bwf-filters-date-button",isPrimary:!0,disabled:!0},Object(a.__)("Update","wp-marketing-automations-crm")))))}))))}}])&&ae(t.prototype,n),i&&ae(t,i),l}(r.Component);ue.propTypes={period:c.a.string.isRequired,compare:c.a.string.isRequired,onUpdate:c.a.func.isRequired,onClose:c.a.func.isRequired,onSelect:c.a.func.isRequired,resetCustomValues:c.a.func.isRequired,focusedInput:c.a.string,afterText:c.a.string,beforeText:c.a.string,afterError:c.a.string,beforeError:c.a.string,shortDateFormat:c.a.string.isRequired};var fe=ue,pe=n(254);n(318);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var a=ve(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=Object(a.__)("MM/DD/YYYY","wp-marketing-automations-crm"),we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(l,e);var t,n,i,c=he(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state=t.getResetState(),t.update=t.update.bind(ge(t)),t.onSelect=t.onSelect.bind(ge(t)),t.isValidSelection=t.isValidSelection.bind(ge(t)),t.resetCustomValues=t.resetCustomValues.bind(ge(t)),t}return t=l,(n=[{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"getResetState",value:function(){var e=this.props.dateQuery,t=e.period,n=e.compare,r=e.before,a=e.after;return{period:t,compare:n,before:r,after:a,focusedInput:"startDate",afterText:this.formatDate(a,Oe),beforeText:this.formatDate(r,Oe),afterError:null,beforeError:null}}},{key:"update",value:function(e){this.setState(e)}},{key:"onSelect",value:function(e,t){var n=this,r=this.props,a=r.isoDateFormat,o=r.onRangeSelect;return function(r){var i=n.state,c=i.period,l=i.compare,s=i.after,u=i.before,f={period:"custom"===e?"custom":c,compare:l};"custom"===e?(f.after=n.formatDate(s,a),f.before=n.formatDate(u,a)):(f.after=void 0,f.before=void 0),o(f),t(r)}}},{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,n=e.secondaryDate,r=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||r.push("".concat(Object(a.__)("vs.","wp-marketing-automations-crm")," ").concat(n.label," (").concat(n.range,")")),r}},{key:"isValidSelection",value:function(e){var t=this.state,n=t.compare,r=t.after,a=t.before;return"custom"!==e||n&&r&&a}},{key:"resetCustomValues",value:function(){this.setState({after:null,before:null,focusedInput:"startDate",afterText:"",beforeText:"",afterError:null,beforeError:null})}},{key:"render",value:function(){var e=this,t=this.state,n=t.period,a=t.compare,i=t.after,c=t.before,l=t.focusedInput,s=t.afterText,u=t.beforeText,f=t.afterError,p=t.beforeError;return Object(r.createElement)("div",{className:"bwf-filters-filter"},Object(r.createElement)(o.Dropdown,{contentClassName:"bwf-filters-date-content",position:"bottom",expandOnMobile:!0,renderToggle:function(t){var n=t.isOpen,a=t.onToggle;return Object(r.createElement)(pe.a,{onClick:a,isOpen:n,labels:e.getButtonLabel()})},renderContent:function(t){var o=t.onClose;return Object(r.createElement)(fe,{period:n,compare:a,hideCompare:e.props.hideCompare,after:i,before:c,onUpdate:e.update,onClose:o,onSelect:e.onSelect,isValidSelection:e.isValidSelection,resetCustomValues:e.resetCustomValues,focusedInput:l,afterText:s,beforeText:u,afterError:f,beforeError:p,shortDateFormat:Oe})}}))}}])&&be(t.prototype,n),i&&be(t,i),l}(r.Component);we.propTypes={onRangeSelect:c.a.func.isRequired,dateQuery:c.a.shape({period:c.a.string.isRequired,compare:c.a.string.isRequired,before:c.a.object,after:c.a.object,primaryDate:c.a.shape({label:c.a.string.isRequired,range:c.a.string.isRequired}).isRequired,secondaryDate:c.a.shape({label:c.a.string.isRequired,range:c.a.string.isRequired}).isRequired}).isRequired};t.a=we},333:function(e,t,n){"use strict";var r=n(0),a=n(15),o=n.n(a),i=n(5),c=n(8),l=n.n(c),s=n(95),u=n(206);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){var t=e.className,n=e.hideDelta;return Object(r.createElement)("li",{"data-testid":"summary-placeholder",className:o()("bwf-summary-item-container is-placeholder",t)},Object(r.createElement)("div",{className:"bwf-summary-item"},Object(r.createElement)("div",{className:"bwf-summary-item-label"}),Object(r.createElement)("div",{className:"bwf-summary-item-data"},Object(r.createElement)("div",{className:"bwf-summary-item-value"}),!n&&Object(r.createElement)("div",{className:"bwf-summary-item-delta"}))))},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,a,c=h(l);function l(){return d(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e,t=this.props,n=t.isDropdownBreakpoint,a=t.hideDelta,c=n?1:this.props.numberOfItems,l=Object(u.a)(c),s=o()("bwf-summary",(p(e={},l,!n),p(e,"is-placeholder",!0),e));return Object(r.createElement)("ul",{className:s,"aria-hidden":"true"},Object(i.range)(c).map((function(e){return Object(r.createElement)(v,{hideDelta:a,key:e})})))}}])&&b(t.prototype,n),a&&b(t,a),l}(r.Component);O.propTypes={numberOfItems:l.a.number.isRequired},O.defaultProps={numberOfRows:5},t.a=Object(s.withViewportMatch)({isDropdownBreakpoint:"< large"})(O)},363:function(e,t,n){"use strict";var r=n(112),a=n(7),o=n(53),i=n(17),c=function(e){var t=0;return"automation"===e?t=1:"broadcast"===e&&(t=2),t};t.a=function(){var e=Object(r.a)(o.b.cartAnalytics).fetch,t=Object(r.a)(o.b.contactAnalytics),n=t.fetch,l=t.setStateProp,s=Object(r.a)(o.b.emailAnalytics),u=s.fetch,f=s.setStateProp,p=Object(r.a)(o.b.emailTable),d=p.fetch,b=p.setStateProp,m=Object(r.a)(o.b.engagementAnalytics),h=m.fetch,y=m.setStateProp,g=Object(r.a)(o.b.directEmailTable),v=g.fetch,O=g.setStateProp;return{fetchCartAnalytics:function(t,n,r){e("GET",Object(a.g)("/analytics/carts/")+"?"+Object(i.stringify)({after:t,before:n,interval:r}))},fetchContactAnalytics:function(e,t,r){n("GET",Object(a.g)("/analytics/contacts/")+"?"+Object(i.stringify)({after:e,before:t,interval:r}))},fetchEmailAnalytics:function(e,t,n,r,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;u("GET",Object(a.g)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:t,interval:n,oid:r,type:c(o),mode:l}))},fetchEmailTable:function(e,t,n,r,o,l,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;d("GET",Object(a.g)("/analytics/emails/tabular/")+"?"+Object(i.stringify)({after:n,before:r,interval:o,oid:l,type:c(s),limit:e,offset:t,mode:u}))},setEmailTableData:function(e,t){b(e,t)},fetchEngagementData:function(e,t){h("GET",Object(a.g)("/analytics/engagement")+"?"+Object(i.stringify)({after:e,before:t}))},setContactAnalyticsData:function(e,t){l(e,t)},setEmailAnalyticsData:function(e,t){f(e,t)},setEngagementData:function(e,t){y(e,t)},fetchDirectEmailTable:function(e,t,n,r,o){v("GET",Object(a.g)("/analytics/direct-emails/tabular/")+"?"+Object(i.stringify)({after:n,before:r,interval:o,limit:e,offset:t}))},setDirectEmailTableData:function(e,t){O(e,t)}}}},364:function(e,t,n){"use strict";var r=n(114),a=n(0);t.a=function(e,t,n){var o=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},i=Object(r.a)(),c=i.setActiveMultiple,l=i.resetHeaderMenu,s=i.setL2NavType,u=i.setL2Nav,f=i.setBackLink,p=i.setL2Title,d=i.setPageHeader;return Object(a.useEffect)((function(){l(),!t&&s("menu"),!t&&u(o.reports_nav),c({leftNav:"analytics",rightNav:e+"-analytics"}),t&&f(t),n&&p(n),d("Analytics")}),[e,n]),!0}},456:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},465:function(e,t,n){"use strict";var r=n(0);n(476);t.a=function(e){var t=e.progress,n=e.text,a=e.status,o=e.size,i=e.noStriped?"":"progress-striped";return Object(r.createElement)("div",{className:"progress progress-"+o+" "+i+" active"},Object(r.createElement)("div",{role:"progressbar progress-striped",style:{width:"".concat(t,"%")},className:"progress-bar progress-bar-".concat(a)},Object(r.createElement)("span",null,n)))}},476:function(e,t,n){},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return ye})),n.d(t,"b",(function(){return Oe})),n.d(t,"c",(function(){return le}));var r=n(2),a=n(144),o=n(118);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Object(o.a)(e,t,n[t])}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=n(540),f=n.n(u),p=n(456);function d(e,t){return!t||"object"!==f()(t)&&"function"!=typeof t?Object(p.a)(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(59);function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(m.a)(e,t)}var y=n(1),g=n(8),v=n.n(g),O=n(49),w=n(541),j=n.n(w),k=n(142);var x=n(141);function S(e){return function(e){if(Array.isArray(e))return Object(k.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(x.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){function e(){c(this,e),Object(o.a)(this,"refs",{})}return s(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(E)}}]),e}();function E(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function T(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var C={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},D=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function P(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function R(e,t){e.style["".concat(D,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function N(e,t){e.style["".concat(D,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function I(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function F(e,t,n){return Math.max(e,Math.min(n,t))}function M(e){return"px"===e.substr(-2)?parseFloat(e):0}function L(e){var t=window.getComputedStyle(e);return{bottom:M(t.marginBottom),left:M(t.marginLeft),right:M(t.marginRight),top:M(t.marginTop)}}function A(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function B(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function q(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function K(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:V(e.parentNode,t,r)}}function H(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function W(e){var t=e.lockOffset,n=e.width,r=e.height,a=t,o=t,i="px";if("string"==typeof t){var c=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);j()(null!==c,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),a=parseFloat(t),o=parseFloat(t),i=c[1]}return j()(isFinite(a)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===i&&(a=a*n/100,o=o*r/100),{x:a,y:o}}function Y(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];j()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var i=Object(a.a)(o,2),c=i[0],l=i[1];return[W({height:t,lockOffset:c,width:n}),W({height:t,lockOffset:l,width:n})]}function U(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:U(e.parentNode):null}function G(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:M(t.gridColumnGap),y:M(t.gridRowGap)}:{x:0,y:0}}var z=27,X=32,$=37,Q=38,J=39,Z=40,ee="A",te="BUTTON",ne="CANVAS",re="INPUT",ae="OPTION",oe="TEXTAREA",ie="SELECT";function ce(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return S(r.querySelectorAll(t)).forEach((function(e,t){("file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===ne&&n[t].width>0&&n[t].height>0)&&e.getContext("2d").drawImage(n[t],0,0)})),r}function le(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return c(this,n),d(this,b(n).apply(this,arguments))}return h(n,t),s(n,[{key:"componentDidMount",value:function(){Object(O.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return j()(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return Object(y.createElement)(e,Object(r.a)({ref:t},this.props))}}]),n}(y.Component),Object(o.a)(t,"displayName",A("sortableHandle",e)),n}function se(e){return null!=e.sortableHandle}var ue=function(){function e(t,n){c(this,e),this.container=t,this.onScrollCallback=n}return s(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,a=e.maxTranslate,o=e.width,i=e.height,c={x:0,y:0},l={x:1,y:1},s=10,u=10,f=this.container,p=f.scrollTop,d=f.scrollLeft,b=f.scrollHeight,m=f.scrollWidth,h=0===p,y=b-p-f.clientHeight==0,g=0===d,v=m-d-f.clientWidth==0;n.y>=a.y-i/2&&!y?(c.y=1,l.y=u*Math.abs((a.y-i/2-n.y)/i)):n.x>=a.x-o/2&&!v?(c.x=1,l.x=s*Math.abs((a.x-o/2-n.x)/o)):n.y<=r.y+i/2&&!h?(c.y=-1,l.y=u*Math.abs((n.y-i/2-r.y)/i)):n.x<=r.x+o/2&&!g&&(c.x=-1,l.x=s*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===c.x&&0===c.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*c.x,top:l.y*c.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var fe={axis:v.a.oneOf(["x","y","xy"]),contentWindow:v.a.any,disableAutoscroll:v.a.bool,distance:v.a.number,getContainer:v.a.func,getHelperDimensions:v.a.func,helperClass:v.a.string,helperContainer:v.a.oneOfType([v.a.func,"undefined"==typeof HTMLElement?v.a.any:v.a.instanceOf(HTMLElement)]),hideSortableGhost:v.a.bool,keyboardSortingTransitionDuration:v.a.number,lockAxis:v.a.string,lockOffset:v.a.oneOfType([v.a.number,v.a.string,v.a.arrayOf(v.a.oneOfType([v.a.number,v.a.string]))]),lockToContainerEdges:v.a.bool,onSortEnd:v.a.func,onSortMove:v.a.func,onSortOver:v.a.func,onSortStart:v.a.func,pressDelay:v.a.number,pressThreshold:v.a.number,keyCodes:v.a.shape({lift:v.a.arrayOf(v.a.number),drop:v.a.arrayOf(v.a.number),cancel:v.a.arrayOf(v.a.number),up:v.a.arrayOf(v.a.number),down:v.a.arrayOf(v.a.number)}),shouldCancelStart:v.a.func,transitionDuration:v.a.number,updateBeforeSortStart:v.a.func,useDragHandle:v.a.bool,useWindowAsScrollContainer:v.a.bool},pe={lift:[X],drop:[X],cancel:[z],up:[Q,$],down:[Z,J]},de={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:pe,shouldCancelStart:function(e){return-1!==[re,oe,ie,ae,te].indexOf(e.target.tagName)||!!I(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},be=Object.keys(fe);function me(e){j()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function he(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function ye(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return c(this,n),t=d(this,b(n).call(this,e)),Object(o.a)(Object(p.a)(Object(p.a)(t)),"state",{}),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleStart",(function(e){var n=t.props,r=n.distance,a=n.shouldCancelStart;if(2!==e.button&&!a(e)){t.touched=!0,t.position=q(e);var o=I(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var i=t.props.useDragHandle,c=o.sortableInfo,l=c.index,s=c.collection;if(c.disabled)return;if(i&&!I(e.target,se))return;t.manager.active={collection:s,index:l},K(e)||e.target.tagName!==ee||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleMove",(function(e){var n=t.props,r=n.distance,a=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=q(e),i={x:t.position.x-o.x,y:t.position.y-o.y},c=Math.abs(i.x)+Math.abs(i.y);t.delta=i,r||a&&!(c>=a)?r&&c>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=d.sortableInfo.index,r=L(d),a=G(t.container),u=t.scrollContainer.getBoundingClientRect(),h=c({index:n,node:d,collection:b});if(t.node=d,t.margin=r,t.gridGap=a,t.width=h.width,t.height=h.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=u,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=V(d,t.container),t.initialOffset=q(m?i({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(ce(d)),P(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),s&&(t.sortableGhost=d,P(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var y=p?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=y.top,v=y.left,O=y.width,w=g+y.height,j=v+O;t.axis.x&&(t.minTranslate.x=v-t.boundingClientRect.left,t.maxTranslate.x=j-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=w-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(p?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?d:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),C.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),f&&f({node:d,index:n,collection:b,isKeySorting:m,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),m&&t.keyMove(0)},a=t.props,o=a.axis,c=a.getHelperDimensions,l=a.helperClass,s=a.hideSortableGhost,u=a.updateBeforeSortStart,f=a.onSortStart,p=a.useWindowAsScrollContainer,d=n.node,b=n.collection,m=t.manager.isKeySorting,h=function(){if("function"==typeof u){t._awaitingUpdateBeforeSortStart=!0;var n=he((function(){var t=d.sortableInfo.index;return Promise.resolve(u({collection:b,index:t,node:d,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return h&&h.then?h.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,a=n.onSortEnd,o=t.manager,i=o.active.collection,c=o.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(c?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),C.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&P(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=l.length;s<u;s++){var f=l[s],p=f.node;f.edgeOffset=null,f.boundingClientRect=null,R(p,null),N(p,null),f.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof a&&a({collection:i,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:c,nodes:l},e),t.touched=!1})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=i({},t.translate),a=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),a=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,R(t.helper,t.translate),t.scrollContainer.scrollLeft+=a,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,a=r.shouldCancelStart,o=r.keyCodes,c=i({},pe,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||c.lift.includes(n)&&!a(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),c.lift.includes(n)&&!t.manager.active?t.keyLift(e):c.drop.includes(n)&&t.manager.active?t.keyDrop(e):c.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):c.up.includes(n)?t.keyMove(-1):c.down.includes(n)&&t.keyMove(1))})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"keyLift",(function(e){var n=e.target,r=I(n,(function(e){return null!=e.sortableInfo})).sortableInfo,a=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:a,collection:o},t.handlePress(e)})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,a=t.newIndex+e,o=t.newIndex;if(!(a<0||a>r)){t.prevIndex=o,t.newIndex=a;var i=H(t.newIndex,t.prevIndex,t.index),c=n.find((function(e){return e.node.sortableInfo.index===i})),l=c.node,s=t.containerScrollDelta,u=c.boundingClientRect||B(l,s),f=c.translate||{x:0,y:0},p=u.top+f.y-s.top,d=u.left+f.x-s.left,b=o<a,m=b&&t.axis.x?l.offsetWidth-t.width:0,h=b&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:d+m,pageY:p+h,ignoreTransition:0===e})}})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(o.a)(Object(p.a)(Object(p.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,a=I(r,(function(e){return null!=e.sortableInfo}));return a&&a.sortableInfo&&!a.sortableInfo.disabled&&(n?se(r):r.sortableInfo)})),me(e),t.manager=new _,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return h(n,t),s(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:U(e.container)||e.container,e.autoScroller=new ue(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return C[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return C[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,i=t.transitionDuration,c=t.keyboardSortingTransitionDuration,l=void 0===c?i:c,s=this.manager.isKeySorting,u=e.ignoreTransition,f=q(e),p={x:f.x-this.initialOffset.x,y:f.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,o){var d=Y({height:this.height,lockOffset:r,width:this.width}),b=Object(a.a)(d,2),m=b[0],h=b[1],y={x:this.width/2-m.x,y:this.height/2-m.y},g={x:this.width/2-h.x,y:this.height/2-h.y};p.x=F(this.minTranslate.x+y.x,this.maxTranslate.x-g.x,p.x),p.y=F(this.minTranslate.y+y.y,this.maxTranslate.y-g.y,p.y)}"x"===n?p.y=0:"y"===n&&(p.x=0),s&&l&&!u&&N(this.helper,l),R(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,a=this.containerScrollDelta,o=this.windowScrollDelta,i=this.manager.getOrderedRefs(),c=this.offsetEdge.left+this.translate.x+a.left,l=this.offsetEdge.top+this.translate.y+a.top,s=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var f=0,p=i.length;f<p;f++){var d=i[f].node,b=d.sortableInfo.index,m=d.offsetWidth,h=d.offsetHeight,y={height:this.height>h?h/2:this.height/2,width:this.width>m?m/2:this.width/2},g=s&&b>this.index&&b<=u,v=s&&b<this.index&&b>=u,O={x:0,y:0},w=i[f].edgeOffset;w||(w=V(d,this.container),i[f].edgeOffset=w,s&&(i[f].boundingClientRect=B(d,a)));var j=f<i.length-1&&i[f+1],k=f>0&&i[f-1];j&&!j.edgeOffset&&(j.edgeOffset=V(j.node,this.container),s&&(j.boundingClientRect=B(j.node,a))),b!==this.index?(t&&N(d,t),this.axis.x?this.axis.y?v||b<this.index&&(c+o.left-y.width<=w.left&&l+o.top<=w.top+y.height||l+o.top+y.height<=w.top)?(O.x=this.width+this.marginOffset.x,w.left+O.x>this.containerBoundingRect.width-y.width&&j&&(O.x=j.edgeOffset.left-w.left,O.y=j.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=b)):(g||b>this.index&&(c+o.left+y.width>=w.left&&l+o.top+y.height>=w.top||l+o.top+y.height>=w.top+h))&&(O.x=-(this.width+this.marginOffset.x),w.left+O.x<this.containerBoundingRect.left+y.width&&k&&(O.x=k.edgeOffset.left-w.left,O.y=k.edgeOffset.top-w.top),this.newIndex=b):g||b>this.index&&c+o.left+y.width>=w.left?(O.x=-(this.width+this.marginOffset.x),this.newIndex=b):(v||b<this.index&&c+o.left<=w.left+y.width)&&(O.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=b)):this.axis.y&&(g||b>this.index&&l+o.top+y.height>=w.top?(O.y=-(this.height+this.marginOffset.y),this.newIndex=b):(v||b<this.index&&l+o.top<=w.top+y.height)&&(O.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=b))),R(d,O),i[f].translate=O):n&&(this.sortableGhost=d,P(d,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),s&&(this.newIndex=u);var x=s?this.prevIndex:u;r&&this.newIndex!==x&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:x,isKeySorting:s,nodes:i,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return j()(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(O.findDOMNode)(this):e(l.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=l.withRef?"wrappedInstance":null;return Object(y.createElement)(e,Object(r.a)({ref:t},T(this.props,be)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(y.Component),Object(o.a)(t,"displayName",A("sortableList",e)),Object(o.a)(t,"defaultProps",de),Object(o.a)(t,"propTypes",fe),Object(o.a)(t,"childContextTypes",{manager:v.a.object.isRequired}),n}var ge={index:v.a.number.isRequired,collection:v.a.oneOfType([v.a.number,v.a.string]),disabled:v.a.bool},ve=Object.keys(ge);function Oe(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return c(this,n),d(this,b(n).apply(this,arguments))}return h(n,t),s(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,a=Object(O.findDOMNode)(this);a.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=a,this.ref={node:a},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return j()(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=a.withRef?"wrappedInstance":null;return Object(y.createElement)(e,Object(r.a)({ref:t},T(this.props,ve)))}}]),n}(y.Component),Object(o.a)(t,"displayName",A("sortableElement",e)),Object(o.a)(t,"contextTypes",{manager:v.a.object.isRequired}),Object(o.a)(t,"propTypes",ge),Object(o.a)(t,"defaultProps",{collection:0}),n}},493:function(e,t,n){},540:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},541:function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,i,c){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,a,o,i,c],u=0;(l=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},559:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return w}));var r=n(0),a=n(4),o=n(259),i=n(250),c=n(20),l=n(333),s=n(223),u=n(13),f=n(7),p=function(e){var t=e.query,n=s.a.getContactAnalytics,p=s.a.getContactAnalyticsLoading,d=t.chart?t.chart:"new_contacts",b=p(),m=n(),h=function(e){if(!m||!m.hasOwnProperty("totals"))return 0;var t=m.totals;return t.hasOwnProperty(e)?t[e]:void 0};return Object(r.createElement)("div",{className:"bwf-crm-contacts-report-tiles"},Object(r.createElement)(o.a,null,(function(){var e=[];return e.push(Object(r.createElement)(i.a,{key:1,value:h("new_contacts"),label:Object(a.__)("New Contacts","wp-marketing-automations-crm"),href:"admin.php?page=autonami&path=/reports/contacts&chart=new_contacts",onLinkClickCallback:function(e){e.preventDefault(),delete t.compare,Object(c.j)({chart:"new_contacts"},"/",t)},selected:"new_contacts"==d,tileIcon:Object(r.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(r.createElement)(u.a,{icon:"contact-tile",size:30,color:"#1DAAFC"}))}),Object(r.createElement)(i.a,{key:2,value:h("total_contacts"),label:Object(a.__)("Total Contacts","wp-marketing-automations-crm"),href:"admin.php?page=autonami&path=/reports/contacts&chart=total_contacts",onLinkClickCallback:function(e){e.preventDefault(),delete t.compare,Object(c.j)({chart:"total_contacts"},"/",t)},selected:"total_contacts"==d,tileIcon:Object(r.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(r.createElement)(u.a,{icon:"total-contact",size:30,color:"#1DAAFC"}))})),Object(f.V)()&&e.push(Object(r.createElement)(i.a,{key:3,value:h("total_customers"),label:Object(a.__)("Total Customers","wp-marketing-automations-crm"),href:"admin.php?page=autonami&path=/reports/contacts&chart=total_customers",onLinkClickCallback:function(e){e.preventDefault(),delete t.compare,Object(c.j)({chart:"total_customers"},"/",t)},selected:"total_customers"==d,tileIcon:Object(r.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(r.createElement)(u.a,{icon:"total-customer",size:30,color:"#1DAAFC"}))})),e.push(Object(r.createElement)(i.a,{key:4,value:h("unsubscribers"),label:Object(a.__)("Unsubscribers","wp-marketing-automations-crm"),href:"admin.php?page=autonami&path=/reports/contacts&chart=unsubscribers",onLinkClickCallback:function(e){e.preventDefault(),delete t.compare,Object(c.j)({chart:"unsubscribers"},"/",t)},selected:"unsubscribers"==d,tileIcon:Object(r.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(r.createElement)(u.a,{icon:"unsubscribe",size:30,color:"#1DAAFC"}))})),b?Object(r.createElement)(l.a,{numberOfItems:Object(f.V)()?4:3,hideDelta:!0}):e})))},d=n(258),b=n(128),m=function(e){var t=e.query,n=t.chart?t.chart:"new_contacts",o=s.a.getContactAnalyticsLoading,i=s.a.getContactAnalytics,c=o(),l=i(),u=t.chartType?t.chartType:"line",f=Object(b.f)(t),p=Object(b.b)(function(e){return e.period&&null!=e.period&&""!=e.period||(e.period="month"),e.compare&&null!=e.compare&&""!=e.compare||(e.compare="previous_year"),e}(t));p.includes(f)||(f=p[p.length-1]);var m=0,h=0,y={new_contacts:Object(a.__)("New Contacts","wp-marketing-automations-crm"),total_contacts:Object(a.__)("Total Contacts","wp-marketing-automations-crm"),unsubscribers:Object(a.__)("Unsubscribers","wp-marketing-automations-crm"),total_customers:Object(a.__)("Total Customers","wp-marketing-automations-crm")};return Object(r.createElement)(d.a,{isRequesting:c,data:function(e){var t=[];l&&l.hasOwnProperty("intervals")&&l.intervals.map((function(n){"new_contacts"==e&&t.push({date:n.start_date,new_contacts:{label:Object(a.__)("New Contacts","wp-marketing-automations-crm"),value:parseInt(n.subtotals.new_contacts)}}),"total_contacts"===e&&(t.push({date:n.start_date,total_contacts:{label:Object(a.__)("Total Contacts","wp-marketing-automations-crm"),value:parseInt(n.subtotals.total_contacts)}}),m=parseInt(n.subtotals.total_contacts)),"unsubscribers"===e&&t.push({date:n.start_date,unsubscribers:{label:Object(a.__)("Unsubscribers","wp-marketing-automations-crm"),value:parseInt(n.subtotals.unsubscribers)}}),"total_customers"===e&&(t.push({date:n.start_date,total_customers:{label:Object(a.__)("Total Customers","wp-marketing-automations-crm"),value:parseInt(n.subtotals.total_customers)}}),h=parseInt(n.subtotals.total_customers))}));return t}(n),title:y[n],interval:f,layout:"item-comparison",chartType:u,legendTotals:"total_contacts"==n?{total_contacts:m}:"total_customers"==n?{total_customers:h}:null,interactiveLegend:!0})},h=n(326),y=n(129);n(319);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t=e.query;return Object(r.createElement)("div",{className:"bwf-crm-contacts-report-filter"},Object(r.createElement)(y.a,{className:"screen-reader-text"},Object(a.__)("Filters","wp-marketing-automations-crm")),Object(r.createElement)(y.b,{component:"div",className:"bwf-filters"},Object(r.createElement)("div",{className:"bwfcrm-filters-basic-filters"},Object(r.createElement)(h.a,{key:JSON.stringify(t),onRangeSelect:function(e){var n=v(v({},t),e);delete n.compare,Object(c.j)(n,"/",{})},dateQuery:function(e){e.compare="previous_year";var t=Object(b.e)(e),n=t.period,r=t.compare,a=t.before,o=t.after,i=Object(b.c)(e);return{period:n,compare:r,before:a,after:o,primaryDate:i.primary,secondaryDate:i.secondary}}(t),isoDateFormat:b.g,hideCompare:!0}))))}},687:function(e,t,n){},758:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(364),o=n(4),i=n(465),c=(n(687),n(559)),l=n(20),s=n(325),u=n(223),f=n(363),p=n(128),d=n(5),b=n(109),m=n(117),h=n(7),y=n(52);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){Object(a.a)("engagement",!1,"");var e=Object(f.a)(),t=e.fetchEngagementData,n=e.setEngagementData,v=u.a.getEngagementAnalytics,O=(0,u.a.getEngagementAnalyticsLoading)(),w=v(),j=Object(l.h)(),k=g(Object(r.useState)(!0),2),x=k[0],S=k[1],_=function(e){var n=function(e){return e.compare="previous_year",Object(p.c)(e).primary}(e),r="",a="";n&&(Object(d.isEmpty)(n.after)||(r=n.after.format("YYYY-MM-DD HH:mm:ss")),Object(d.isEmpty)(n.before)||(a=n.before.format("YYYY-MM-DD 23:59:59")),Object(d.isEmpty)(r)||Object(d.isEmpty)(a)||t(r,a))};j.hasOwnProperty("period")||(j.period="month");var E=j.period,T=j.compare,C=j.interval,D=j.after,P=j.before;Object(r.useEffect)((function(){if(Object(h.d)("Engagement Analytics"),Object(h.P)())_(j);else{for(var e=[1,2,3,4,5,6,7].map((function(e){return{day:e,mean:Math.random().toFixed(4),open:1,total:1}})),t=[],r=0;r<24;r++)t.push({hour:r,mean:Math.random().toFixed(4),open:1,total:1});n("data",{day:e,hour:t}),n("isLoading",!1)}}),[E,T,C,D,P]);var R,N=[Object(o.__)("Monday","wp-marketing-automations-crm"),Object(o.__)("Tuesday","wp-marketing-automations-crm"),Object(o.__)("Wednesday","wp-marketing-automations-crm"),Object(o.__)("Thursday","wp-marketing-automations-crm"),Object(o.__)("Friday","wp-marketing-automations-crm"),Object(o.__)("Saturday","wp-marketing-automations-crm"),Object(o.__)("Sunday","wp-marketing-automations-crm")],I=function(e,t){return O?Object(r.createElement)("ul",{className:"bwf-report-section"},Object(r.createElement)(b.a,null)):Object(d.isEmpty)(e)?Object(o.__)("No data Available","wp-marketing-automations-crm"):Object(r.createElement)("ul",{className:"bwf-report-section"},e.map((function(e){return Object(r.createElement)("li",{className:"bwf-report-e-list"},Object(r.createElement)("div",{className:"bwf-report-e-label"},t?N[parseInt(e.day)-1]:(n=e.hour,a=n+" (",a+=(n%12||12)+(n>11?"PM":"AM")+")")),Object(r.createElement)("div",{className:"bwf-report-e-value"},e.total&&e.open?Object(r.createElement)(i.a,{status:"info",size:"md",progress:(100*e.mean).toFixed(2),noStriped:!0,text:"".concat((100*e.mean).toFixed(2)," %")}):"-"));var n,a})))};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(m.a,null),Object(r.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-report-engagement-wrapper"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(c.b,{query:j}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-accordian-wrap"},Object(r.createElement)(s.a,{items:(R=[],R.push({key:1,label:Object(o.__)("Open by Weekday","wp-marketing-automations-crm"),display:I(Object(d.isEmpty)(w)?[]:w.day,!0)},{key:2,label:Object(o.__)("Open by Hour","wp-marketing-automations-crm"),display:I(Object(d.isEmpty)(w)?[]:w.hour,!1)}),R)}))),!Object(h.P)()&&Object(r.createElement)(y.a,{isOpen:x,onRequestClose:function(){return S(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(o.__)("Try Demo","wp-marketing-automations-crm")}}))}}}]);